<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images-public/favicon/logo180-180.webp"><link rel="icon" type="image/png" sizes="32x32" href="/images-public/favicon/logo32-32.webp"><link rel="icon" type="image/png" sizes="16x16" href="/images-public/favicon/logo16-16.webp"><link rel="mask-icon" href="/images-public/favicon/logo.svg" color="#222"><meta name="google-site-verification" content="E78y8h8qjkh_kGDJlxSABXGg9Ei2mZHevxnXZkj_ypQ"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-bounce.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script><script class="next-config" data-name="main" type="application/json">{"hostname":"mister-kin.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":true,"height":600},"language":true},"bookmark":{"enable":true,"color":"#fc6423","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script><meta name="description" content="PVE官方文档 PBS官方文档 PMG官方文档    PVE Service daemons PBS Service daemons PMG Service daemons   1 &amp;nbsp&amp;nbsp背景早期因联通赠送的光猫性能不支持双LAN口长时间同时上网（存在间歇性断流现象），故从海鲜市场（小黄鱼）上淘了一个N3530小工控机（准系统，无内存条），计划用来安装PVE虚拟机系统，以便搭建"><meta property="og:type" content="article"><meta property="og:title" content="PVE+iKuai+OpenWrt+fnOS折腾记录"><meta property="og:url" content="https://mister-kin.github.io/software/pve/index.html"><meta property="og:site_name" content="Mr. Kin&#39;s Blog"><meta property="og:description" content="PVE官方文档 PBS官方文档 PMG官方文档    PVE Service daemons PBS Service daemons PMG Service daemons   1 &amp;nbsp&amp;nbsp背景早期因联通赠送的光猫性能不支持双LAN口长时间同时上网（存在间歇性断流现象），故从海鲜市场（小黄鱼）上淘了一个N3530小工控机（准系统，无内存条），计划用来安装PVE虚拟机系统，以便搭建"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve8x-update-to-lateset.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve8x-lastest-check-version.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve8to9-warning1.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve8to9-warning2.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/apt-install-intel-microcode.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve8to9-fail.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/apt-remove-systemd-boot.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/rerun-pve8to9.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve9x-web-control.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/apt-auto-remove.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve-no-subscribe.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve9x-check-package-version.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pve9x-check-package-version-no-popup.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/kernel-cleaner.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/kernel-cleaner-manual.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pbs4x-web-control.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/pbs-no-subscribe.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/debian12.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/debian13.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/ikuai3710.webp"><meta property="og:image" content="https://mister-kin.github.io/images/software/pve/ikuai3711.webp"><meta property="article:published_time" content="2023-09-10T20:19:30.000Z"><meta property="article:modified_time" content="2025-12-04T23:37:25.000Z"><meta property="article:author" content="Mr. Kin"><meta property="article:tag" content="HomeLab"><meta property="article:tag" content="fnOS"><meta property="article:tag" content="iKuai"><meta property="article:tag" content="linux"><meta property="article:tag" content="openclash"><meta property="article:tag" content="openwrt"><meta property="article:tag" content="pbs"><meta property="article:tag" content="pve"><meta property="article:tag" content="科学上网"><meta property="article:tag" content="系统"><meta property="article:tag" content="虚拟化系统"><meta property="article:tag" content="虚拟机"><meta property="article:tag" content="软路由"><meta property="article:tag" content="飞牛"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://mister-kin.github.io/images/software/pve/pve8x-update-to-lateset.webp"><link rel="canonical" href="https://mister-kin.github.io/software/pve/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://mister-kin.github.io/software/pve/","path":"software/pve/","title":"PVE+iKuai+OpenWrt+fnOS折腾记录"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>PVE+iKuai+OpenWrt+fnOS折腾记录 | Mr. Kin's Blog</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-170785127-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-170785127-1","only_pageview":false,"measure_protocol_api_secret":null}</script><script src="/js/third-party/analytics/google-analytics.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/7.2.0/pangu.umd.js" integrity="sha256-JnmRRnJK7DC6RQJbAJb6AXOM9OmWzS6z8eYultk/48Y=" crossorigin="anonymous" defer></script><script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script><script src="/js/third-party/search/local-search.js" defer></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js" defer></script><script src="/js/third-party/fancybox.js" defer></script><script src="/js/third-party/pace.js" defer></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js" defer></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4875259308113360" crossorigin="anonymous"></script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="Mr. Kin's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Mr. Kin's Blog</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">计算机知识分享/软件应用讲解</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-works"><a href="/works/" rel="section"><i class="fa fa-briefcase fa-fw"></i>作品</a></li><li class="menu-item menu-item-manuals"><a href="/manuals/" rel="section"><i class="fa fa-book fa-fw"></i>手册</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-spinner fa-fw"></i>404</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%83%8C%E6%99%AF"><span class="nav-text">1   背景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%BA%E5%99%A8%E9%85%8D%E7%BD%AE%E6%A6%82%E8%A7%88%E5%8F%8ABIOS%E4%BC%98%E5%8C%96%E8%AE%BE%E7%BD%AE"><span class="nav-text">2   机器配置概览及BIOS优化设置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#N3530%E5%B7%A5%E6%8E%A7%E6%9C%BA%E9%85%8D%E7%BD%AE%E6%A6%82%E8%A7%88"><span class="nav-text">2.1   N3530工控机配置概览</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#N3530%E5%B7%A5%E6%8E%A7%E6%9C%BABIOS%E4%BC%98%E5%8C%96%E8%AE%BE%E7%BD%AE"><span class="nav-text">2.2   N3530工控机BIOS优化设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#i5-12400-%E4%BA%91%E6%98%9FMatx-Z690-NAS%E4%B8%BB%E6%9D%BF%E9%85%8D%E7%BD%AE"><span class="nav-text">2.3   i5-12400+云星Matx-Z690 NAS主板配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%91%E6%98%9FMatx-Z690-NAS%E4%B8%BB%E6%9D%BFBIOS%E4%BC%98%E5%8C%96%E8%AE%BE%E7%BD%AE"><span class="nav-text">2.4   云星Matx-Z690 NAS主板BIOS优化设置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E3%80%81%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%8D%87%E7%BA%A7PVE-Proxmox-VE"><span class="nav-text">3   安装、配置及升级PVE(Proxmox VE)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%EF%BC%88PVE-7-x-9-x%EF%BC%89"><span class="nav-text">3.1   PVE安装步骤（PVE 7.x-9.x）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%8D%87%E7%BA%A7%E6%AD%A5%E9%AA%A4%EF%BC%887-x-8-x%EF%BC%89"><span class="nav-text">3.2   PVE升级步骤（7.x-&gt;8.x）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2PVE-7-x%E7%9A%84Debian%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E6%BA%90%E5%92%8CPVE%E8%BD%AF%E4%BB%B6%E6%BA%90%EF%BC%88%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%EF%BC%89%EF%BC%8C%E6%96%B9%E4%BE%BF%E5%8D%87%E7%BA%A7%E5%88%B0PVE-7-x%E6%9C%80%E6%96%B0%E7%89%88"><span class="nav-text">3.2.1   替换PVE 7.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 7.x最新版</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7%E5%88%B0PVE-7-x%E6%9C%80%E6%96%B0%E7%9A%84%E7%89%88%E6%9C%AC"><span class="nav-text">3.2.2   升级到PVE 7.x最新的版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="nav-text">3.2.3   检查版本升级的兼容性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2PVE-8-x%E7%9A%84Debian%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E6%BA%90%E5%92%8CPVE%E8%BD%AF%E4%BB%B6%E6%BA%90%EF%BC%88%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%EF%BC%89%EF%BC%8C%E6%96%B9%E4%BE%BF%E5%8D%87%E7%BA%A7%E5%88%B0PVE-8-x"><span class="nav-text">3.2.4   替换PVE 8.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 8.x</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E6%AD%A3%E5%BC%8F%E5%8D%87%E7%BA%A7%EF%BC%887-x-8-x%EF%BC%89"><span class="nav-text">3.2.5   开始正式升级（7.x-&gt;8.x）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%8D%87%E7%BA%A7%E6%AD%A5%E9%AA%A4%EF%BC%888-x-9-x%EF%BC%89"><span class="nav-text">3.3   PVE升级步骤（8.x-&gt;9.x）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7%E5%88%B0PVE-8-x%E6%9C%80%E6%96%B0%E7%9A%84%E7%89%88%E6%9C%AC"><span class="nav-text">3.3.1   升级到PVE 8.x最新的版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7-1"><span class="nav-text">3.3.2   检查版本升级的兼容性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2PVE-9-x%E7%9A%84Debian%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E6%BA%90%E5%92%8CPVE%E8%BD%AF%E4%BB%B6%E6%BA%90%EF%BC%88%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%EF%BC%89%EF%BC%8C%E6%96%B9%E4%BE%BF%E5%8D%87%E7%BA%A7%E5%88%B0PVE-9-x"><span class="nav-text">3.3.3   替换PVE 9.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 9.x</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E6%AD%A3%E5%BC%8F%E5%8D%87%E7%BA%A7%EF%BC%888-x-9-x%EF%BC%89"><span class="nav-text">3.3.4   开始正式升级（8.x-&gt;9.x）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%8F%E8%94%BDPVE-9-x%E4%BC%81%E4%B8%9A%E6%BA%90pve-enterprise-sources"><span class="nav-text">3.3.5   屏蔽PVE 9.x企业源pve-enterprise.sources</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%90%E5%8A%9F%E5%8D%87%E7%BA%A7PVE-9-x"><span class="nav-text">3.3.6   成功升级PVE 9.x</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A7%BB%E9%99%A4%E6%97%A0%E7%94%A8%E7%9A%84%E5%8C%85"><span class="nav-text">3.4   移除无用的包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E7%BB%ADPVE%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E6%9B%B4%E6%96%B0"><span class="nav-text">3.5   后续PVE系统日常更新</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B1%8F%E8%94%BDPVE%E6%97%A0%E6%9C%89%E6%95%88%E8%AE%A2%E9%98%85%E6%8F%90%E7%A4%BA%E5%BC%B9%E7%AA%97"><span class="nav-text">3.6   屏蔽PVE无有效订阅提示弹窗</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2LXC%E6%A8%A1%E6%9D%BF%EF%BC%88CT-Templates%EF%BC%89%E9%95%9C%E5%83%8F%E6%BA%90"><span class="nav-text">3.7   替换LXC模板（CT Templates）镜像源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E5%8D%A1mac%E5%9C%B0%E5%9D%80%E7%BB%91%E5%AE%9A%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0"><span class="nav-text">3.8   网卡mac地址绑定网卡名称</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E6%B8%85%E7%90%86%E6%97%A7%E5%86%85%E6%A0%B8"><span class="nav-text">3.9   PVE清理旧内核</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8%E7%A4%BE%E5%8C%BA%E7%9A%84%E5%86%85%E6%A0%B8%E6%B8%85%E7%90%86%E8%84%9A%E6%9C%ACkernel-clean-sh"><span class="nav-text">3.9.1   方法一：使用社区的内核清理脚本kernel-clean.sh</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%89%8B%E5%8A%A8%E6%B8%85%E7%90%86%E5%86%85%E6%A0%B8"><span class="nav-text">3.9.2   方法二：手动清理内核</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PVE%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91"><span class="nav-text">4   PVE安装和使用遇到的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%AE%89%E8%A3%85%E5%88%B099-%E6%97%B6%E5%87%BA%E7%8E%B0unable-to-install-the-EFI-boot-loader-on-dev-sda"><span class="nav-text">4.1   PVE安装到99%时出现unable to install the EFI boot loader on &#39;&#x2F;dev&#x2F;sda&#39;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#USB%E9%94%AE%E7%9B%98%E4%B8%80%E7%9B%B4%E6%8F%92%E7%9D%80%E6%97%B6%E4%BC%9A%E6%97%A0%E6%B3%95%E5%93%8D%E5%BA%94%E7%9A%84%EF%BC%8C%E6%97%A0%E6%B3%95%E8%BF%9B%E5%85%A5%E5%B9%B6%E6%93%8D%E6%8E%A7BIOS%EF%BC%8C%E5%8F%AA%E6%9C%89CTRL-ALT-DELETE%E5%8F%AF%E4%BB%A5%E5%93%8D%E5%BA%94"><span class="nav-text">4.2   USB键盘一直插着时会无法响应的，无法进入并操控BIOS，只有CTRL+ALT+DELETE可以响应</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hdmi%E5%B1%8F%E5%B9%95%E4%B8%8D%E6%98%BEbios"><span class="nav-text">4.3   hdmi屏幕不显bios</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E9%9D%A2%E5%8A%A0%E8%A3%85%E7%9A%84RTL8211%E7%BD%91%E5%8D%A1%E4%B8%8D%E8%AF%86%E5%88%AB"><span class="nav-text">4.4   后面加装的RTL8211网卡不识别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E6%8E%A7%E6%9C%BA%E9%87%8D%E5%90%AFbug%EF%BC%8C%E7%9C%8B%E9%97%A8%E7%8B%97%E5%AF%BC%E8%87%B4%E9%87%8D%E5%90%AF%E5%BE%88%E9%95%BF%E6%97%B6%E9%97%B4"><span class="nav-text">4.5   工控机重启bug，看门狗导致重启很长时间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Repository-Debian-bookworm-changed-its-non-free-component-value-from-non-free-to-non-free-non-free-firmware"><span class="nav-text">4.6   Repository &#39;Debian bookworm&#39; changed its &#39;non-free component&#39; value from &#39;non-free&#39; to &#39;non-free non-free-firmware&#39;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E7%8B%AC%E7%AB%8B%E6%98%BE%E5%8D%A1%E7%9A%84%E6%9C%BA%E5%99%A8%E4%B8%ADPVE%E7%B3%BB%E7%BB%9F%E9%87%8C%E9%9D%A2%E8%AF%86%E5%88%AB%E4%B8%8D%E5%88%B0%E6%A0%B8%E6%98%BE%E8%AE%BE%E5%A4%87"><span class="nav-text">4.7   安装独立显卡的机器中PVE系统里面识别不到核显设备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E6%A6%82%E8%A6%81%E9%A1%B5%E9%9D%A2%E5%88%A9%E7%94%A8%E7%8E%87%E5%9B%BE%E6%A0%87%E4%BF%A1%E6%81%AF%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA"><span class="nav-text">4.8   PVE概要页面利用率图标信息无法显示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E9%9D%A2%E6%9D%BF%E8%8A%82%E7%82%B9%E5%92%8C%E6%89%80%E6%9C%89%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%BE%E7%A4%BA%E3%80%8C%E7%8A%B6%E6%80%81-unknown%E3%80%8D%EF%BC%8C%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C"><span class="nav-text">4.9   PVE面板节点和所有虚拟机显示「状态: unknown」，虚拟机正常运行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8ventoy%E5%BC%95%E5%AF%BC%E5%AE%89%E8%A3%85PVE%E5%90%8E%EF%BC%8C%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E5%90%AF%E5%8A%A8PVE"><span class="nav-text">4.10   使用ventoy引导安装PVE后，无法正常启动PVE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KVM%E5%92%8CLXC%E8%A2%AB%E9%94%81%E5%AE%9Alock%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8"><span class="nav-text">4.11   KVM和LXC被锁定lock无法启动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Intel-13-14%E4%BB%A3CPU%E6%90%AD%E5%BB%BA%E7%9A%84PVE%E6%9C%BA%E5%99%A8%E9%A2%91%E7%B9%81%E5%AE%95%E6%9C%BA"><span class="nav-text">4.12   Intel 13&#x2F;14代CPU搭建的PVE机器频繁宕机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E7%8B%AC%E7%AB%8B%E6%98%BE%E5%8D%A1%E7%9A%84%E6%9C%BA%E5%99%A8%E5%90%AF%E5%8A%A8%E5%BC%82%E5%B8%B8%E7%9A%84%E5%8F%82%E6%95%B0%E8%B0%83%E6%95%B4"><span class="nav-text">4.13   安装独立显卡的机器启动异常的参数调整</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%AE%95%E6%9C%BA%E6%95%85%E9%9A%9C%E7%9A%84%E6%8E%92%E6%9F%A5%E6%89%8B%E6%AE%B5"><span class="nav-text">4.14   PVE宕机故障的排查手段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%9B%B4%E6%9B%BF%E7%A1%AC%E4%BB%B6%E5%90%8E%E5%AF%BC%E8%87%B4%E5%A4%B1%E8%81%94%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%BD%91%E9%A1%B5%E5%90%8E%E5%8F%B0"><span class="nav-text">4.15   PVE宿主机更替硬件后导致失联无法访问网页后台</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PVE%E7%A1%AC%E4%BB%B6%E7%9B%B4%E9%80%9A"><span class="nav-text">5   PVE硬件直通</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E7%A1%AC%E4%BB%B6%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E7%9B%B4%E9%80%9A%EF%BC%88BIOS%E5%86%85%E6%9F%A5%E7%9C%8BAdvanced%E9%AB%98%E7%BA%A7%E9%80%89%E9%A1%B9%EF%BC%89"><span class="nav-text">5.1   检查硬件是否支持直通（BIOS内查看Advanced高级选项）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E6%8F%90%E7%A4%BANo-IOMMU-detected"><span class="nav-text">5.2   PVE提示No IOMMU detected</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%90%AF%E7%94%A8IOMMU"><span class="nav-text">5.3   PVE启用IOMMU</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81PVE%E7%9A%84IOMMU%E6%98%AF%E5%90%A6%E5%90%AF%E7%94%A8"><span class="nav-text">5.4   验证PVE的IOMMU是否启用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E5%90%AF%E7%94%A8PT%E6%A8%A1%E5%BC%8F"><span class="nav-text">5.5   PVE启用PT模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B4%E9%80%9Ai9-13900K%E6%A0%B8%E6%98%BEUHD770%E7%BB%99%E8%99%9A%E6%8B%9F%E6%9C%BAWindows11"><span class="nav-text">5.6   直通i9-13900K核显UHD770给虚拟机Windows11</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Intel-%E6%A0%B8%E6%98%BE%E7%9B%B4%E9%80%9A-optionROM%E6%96%B9%E6%A1%88"><span class="nav-text">5.6.1   Intel 核显直通 optionROM方案</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAPVE%E8%99%9A%E6%8B%9F%E6%9C%BAKVM"><span class="nav-text">6   创建PVE虚拟机KVM</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E7%88%B1%E5%BF%ABiKuai%EF%BC%88KVM%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-text">6.1   安装爱快iKuai（KVM虚拟机)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE%E9%A3%9E%E7%89%9B%E7%A7%81%E6%9C%89%E4%BA%91fnOS%EF%BC%88KVM%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%89"><span class="nav-text">6.2   安装及配置飞牛私有云fnOS（KVM虚拟机）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A3%9E%E7%89%9B%E7%A7%81%E6%9C%89%E4%BA%91fnOS%E7%9A%84%E7%A1%AC%E4%BB%B6%E7%9B%B4%E9%80%9A%E8%AE%BE%E7%BD%AE"><span class="nav-text">6.2.1   飞牛私有云fnOS的硬件直通设置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85OpenWrt%EF%BC%88KVM%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%89"><span class="nav-text">6.3   安装OpenWrt（KVM虚拟机）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenWrt%E9%95%9C%E5%83%8F%E7%9A%84%E9%80%89%E6%8B%A9"><span class="nav-text">6.3.1   OpenWrt镜像的选择</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="nav-text">6.3.2   安装步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%A9%E5%AE%B9Overlay%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E7%A9%BA%E9%97%B4"><span class="nav-text">6.3.3   扩容Overlay软件安装空间</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAPVE%E8%99%9A%E6%8B%9F%E6%9C%BAKVM%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91"><span class="nav-text">7   创建PVE虚拟机KVM遇到的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0EFI%E7%A3%81%E7%9B%98%E5%90%8E%EF%BC%8C%E5%90%AF%E5%8A%A8%E6%97%A0%E6%B3%95%E5%BC%95%E5%AF%BC%E7%A3%81%E7%9B%98%EF%BC%8C%E5%87%BA%E7%8E%B0shell%E7%95%8C%E9%9D%A2%E3%80%82"><span class="nav-text">7.1   添加EFI磁盘后，启动无法引导磁盘，出现shell界面。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85windows%E9%95%9C%E5%83%8F%EF%BC%8C%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%E6%89%BE%E5%88%B0%E7%A3%81%E7%9B%98"><span class="nav-text">7.2   安装windows镜像，无法识别找到磁盘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85windows%E9%95%9C%E5%83%8F%EF%BC%8C%E7%BD%91%E5%8D%A1%E6%97%A0%E9%A9%B1%E5%8A%A8"><span class="nav-text">7.3   安装windows镜像，网卡无驱动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%9A%84Windows%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%BF%90%E8%A1%8C%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E8%87%AA%E5%8A%A8%E6%8C%82%E8%B5%B7%E8%BF%9B%E5%85%A5suspended%E7%8A%B6%E6%80%81"><span class="nav-text">7.4   创建的Windows虚拟机运行一段时间自动挂起进入suspended状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAWindows%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B9%8B%E5%90%8E%EF%BC%8CPVE%E6%95%B4%E4%BD%93%E6%80%A7%E8%83%BD%E8%A1%A8%E7%8E%B0%E4%B8%8B%E9%99%8D"><span class="nav-text">7.5   创建Windows虚拟机之后，PVE整体性能表现下降</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%8C%82%E8%BD%BD%E6%96%B0%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%85%B1%E4%BA%AB%E5%AE%BF%E4%B8%BB%E6%9C%BA%E7%9B%AE%E5%BD%95"><span class="nav-text">7.6   虚拟机挂载新路径，共享宿主机目录</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAPVE%E8%99%9A%E6%8B%9F%E6%9C%BALXC%E5%AE%B9%E5%99%A8"><span class="nav-text">8   创建PVE虚拟机LXC容器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85OpenWrt%EF%BC%88LXC%E5%AE%B9%E5%99%A8%EF%BC%89"><span class="nav-text">8.1   安装OpenWrt（LXC容器）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenWrt%E6%A0%B9%E6%96%87%E4%BB%B6%E9%95%9C%E5%83%8F%E7%9A%84%E9%80%89%E6%8B%A9"><span class="nav-text">8.1.1   OpenWrt根文件镜像的选择</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4-1"><span class="nav-text">8.1.2   安装步骤</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E3%80%81%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%8D%87%E7%BA%A7PBS-Proxmox-Backup-Server-%EF%BC%88LXC%E5%AE%B9%E5%99%A8%EF%BC%89"><span class="nav-text">8.2   安装、配置及升级PBS(Proxmox Backup Server)（LXC容器）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PBS%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%EF%BC%88PBS-3-x%EF%BC%89"><span class="nav-text">8.2.1   PBS安装步骤（PBS 3.x）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83"><span class="nav-text">8.2.1.1   创建部署环境</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2PBS-3-x%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="nav-text">8.2.1.2   替换PBS 3.x的软件源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BDGPG-Key%E5%B9%B6%E5%AE%89%E8%A3%85PBS"><span class="nav-text">8.2.1.3   下载GPG Key并安装PBS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AEWEB%E7%AE%A1%E7%90%86%E5%9C%B0%E5%9D%80%E5%B9%B6%E7%99%BB%E5%BD%95"><span class="nav-text">8.2.1.4   访问WEB管理地址并登录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%B9%B6%E7%A6%81%E7%94%A8%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9A%84failed%E6%9C%8D%E5%8A%A1"><span class="nav-text">8.2.1.5   查看并禁用不需要的failed服务</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PBS%E5%8D%87%E7%BA%A7%E6%AD%A5%E9%AA%A4%EF%BC%883-x-4-x%EF%BC%89"><span class="nav-text">8.2.2   PBS升级步骤（3.x-&gt;4.x）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7%E5%88%B0PBS-3-x%E6%9C%80%E6%96%B0%E7%9A%84%E7%89%88%E6%9C%AC"><span class="nav-text">8.2.2.1   升级到PBS 3.x最新的版本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7-2"><span class="nav-text">8.2.2.2   检查版本升级的兼容性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2PBS-4-x%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="nav-text">8.2.2.3   替换PBS 4.x的软件源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E6%AD%A3%E5%BC%8F%E5%8D%87%E7%BA%A7%EF%BC%883-x-4-x%EF%BC%89"><span class="nav-text">8.2.2.4   开始正式升级（3.x-&gt;4.x）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%8F%E8%94%BDPBS-4-x%E4%BC%81%E4%B8%9A%E6%BA%90pbs-enterprise-sources"><span class="nav-text">8.2.2.5   屏蔽PBS 4.x企业源pbs-enterprise.sources</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%8F%E8%94%BDPBS%E6%97%A0%E6%9C%89%E6%95%88%E8%AE%A2%E9%98%85%E6%8F%90%E7%A4%BA%E5%BC%B9%E7%AA%97"><span class="nav-text">8.2.2.6   屏蔽PBS无有效订阅提示弹窗</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%90%E5%8A%9F%E5%8D%87%E7%BA%A7PBS-4-x"><span class="nav-text">8.2.2.7   成功升级PBS 4.x</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%8F%E8%94%BDPBS%E6%97%A0%E6%9C%89%E6%95%88%E8%AE%A2%E9%98%85%E6%8F%90%E7%A4%BA%E5%BC%B9%E7%AA%97-1"><span class="nav-text">8.2.3   屏蔽PBS无有效订阅提示弹窗</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%82%E8%BD%BD%E6%96%B0%E7%A1%AC%E7%9B%98%E5%88%B0%E5%AE%BF%E4%B8%BB%E6%9C%BA%E5%B9%B6%E8%AE%BE%E7%BD%AEPVE%E7%9A%84PBS%E5%A4%87%E4%BB%BD"><span class="nav-text">8.2.4   挂载新硬盘到宿主机并设置PVE的PBS备份</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PBS%E9%85%8D%E7%BD%AE%E6%97%A5%E5%BF%97%E8%BD%AE%E8%BD%AC%E6%B8%85%E7%90%86"><span class="nav-text">8.2.5   PBS配置日志轮转清理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux%E6%97%A5%E5%BF%97%E8%BD%AE%E8%BD%AClogrotate%E6%9C%8D%E5%8A%A1"><span class="nav-text">8.2.5.1   Linux日志轮转logrotate服务</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E7%BB%ADPBS%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E6%9B%B4%E6%96%B0"><span class="nav-text">8.2.6   后续PBS系统日常更新</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAPVE%E8%99%9A%E6%8B%9F%E6%9C%BALXC%E5%AE%B9%E5%99%A8%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91"><span class="nav-text">9   创建PVE虚拟机LXC容器遇到的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8debian-12%E7%9A%84CT%E6%A8%A1%E6%9D%BF%E5%88%9B%E5%BB%BALXC%E5%AE%B9%E5%99%A8SSH%E7%BB%88%E7%AB%AF%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="nav-text">9.1   使用debian-12的CT模板创建LXC容器SSH终端中文乱码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E7%89%B9%E6%9D%83%EF%BC%88unprivileged%EF%BC%89LXC%E5%AE%B9%E5%99%A8%E6%97%A0%E6%B3%95%E8%AE%BE%E7%BD%AEvm-max-map-count%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0"><span class="nav-text">9.2   非特权（unprivileged）LXC容器无法设置vm.max_map_count内核参数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Anamespace%E5%8C%96%E7%9A%84sysctl%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0"><span class="nav-text">9.2.1   补充知识点：namespace化的sysctl内核参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%9A%84LXC%E5%AE%B9%E5%99%A8debian-12%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E4%B8%8E%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%97%B6%E9%97%B4%E4%B8%8D%E4%B8%80%E8%87%B4"><span class="nav-text">9.3   创建的LXC容器debian-12系统时间与宿主机时间不一致</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8PVE%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2%E5%B7%A5%E5%85%B7%E9%80%89%E6%8B%A9OpenWrt%E7%9A%84%E8%87%AA%E5%BB%BALXC%E6%A8%A1%E6%9D%BF%E6%9D%A5%E5%88%9B%E5%BB%BALXC%E4%BC%9A%E6%8A%A5%E9%94%99"><span class="nav-text">9.4   在PVE管理页面工具选择OpenWrt的自建LXC模板来创建LXC会报错</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E7%89%B9%E6%9D%83%E6%A8%A1%E5%BC%8F%E7%9A%84OpenWrt%E7%9A%84LXC%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98"><span class="nav-text">9.5   非特权模式的OpenWrt的LXC容器网络访问问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LXC%E5%AE%B9%E5%99%A8%E6%8C%82%E8%BD%BD%E6%96%B0%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%85%B1%E4%BA%AB%E5%AE%BF%E4%B8%BB%E6%9C%BA%E7%9B%AE%E5%BD%95"><span class="nav-text">9.6   LXC容器挂载新路径，共享宿主机目录</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PVE%E8%99%9A%E6%8B%9F%E6%9C%BALXC%E5%AE%B9%E5%99%A8%E7%9A%84%E5%9F%BA%E7%A1%80%E8%AE%BE%E7%BD%AE"><span class="nav-text">10   PVE虚拟机LXC容器的基础设置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E4%BA%8ECT%E6%A8%A1%E6%9D%BF%EF%BC%88debian-12-standard-12-7-1-amd64%EF%BC%89"><span class="nav-text">10.1   适用于CT模板（debian-12-standard_12.7-1_amd64）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E4%BA%8ECT%E6%A8%A1%E6%9D%BF%EF%BC%88debian-13-standard-13-1-2-amd64%EF%BC%89"><span class="nav-text">10.2   适用于CT模板（debian-13-standard_13.1-2_amd64）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7PVE%E8%99%9A%E6%8B%9F%E6%9C%BALXC%E5%AE%B9%E5%99%A8%E7%89%88%E6%9C%AC"><span class="nav-text">11   升级PVE虚拟机LXC容器版本</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Debian%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7%EF%BC%88debian12-debian13%EF%BC%89"><span class="nav-text">11.1   Debian版本升级（debian12-&gt;debian13）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2-Debian-%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="nav-text">11.1.1   替换 Debian 系统软件源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2Docker%E6%BA%90"><span class="nav-text">11.1.2   替换Docker源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E6%AD%A3%E5%BC%8F%E5%8D%87%E7%BA%A7%EF%BC%88debian12-debian13%EF%BC%89"><span class="nav-text">11.1.3   开始正式升级（debian12-&gt;debian13）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A7%BB%E9%99%A4%E6%97%A0%E7%94%A8%E7%9A%84%E5%8C%85-1"><span class="nav-text">11.1.4   移除无用的包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%87%E7%BA%A7%E5%89%8D%E5%90%8E%E7%9A%84%E7%89%88%E6%9C%AC%E8%AE%B0%E5%BD%95"><span class="nav-text">11.1.5   升级前后的版本记录</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HomeLab%E8%B7%AF%E7%94%B1%E6%96%B9%E6%A1%88%E4%B8%80%EF%BC%9AiKuai%E4%B8%BB%E8%B7%AF%E7%94%B1-OpenWRT%E4%BC%A0%E7%BB%9F%E6%97%81%E8%B7%AF%E7%94%B1%E7%9A%84%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91"><span class="nav-text">12   HomeLab路由方案一：iKuai主路由+OpenWRT传统旁路由的网络拓扑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#iKuai%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-text">12.1   iKuai的设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OpenWrt%E8%AE%BE%E7%BD%AE"><span class="nav-text">12.2   OpenWrt设置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E6%97%B6%E9%87%8D%E5%90%AF"><span class="nav-text">12.2.1   定时重启</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C"><span class="nav-text">12.2.2   网络</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3-LAN"><span class="nav-text">12.2.2.1   接口&gt;LAN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Turbo-ACC-%E5%8A%A0%E9%80%9F"><span class="nav-text">12.2.2.2   Turbo ACC 加速</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E8%AE%BE%E7%BD%AE"><span class="nav-text">12.2.2.3   防火墙设置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SmartDNS"><span class="nav-text">12.2.3   SmartDNS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AdGuard-Home"><span class="nav-text">12.2.4   AdGuard Home</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E6%9B%B4%E6%96%B0%E5%86%85%E6%A0%B8"><span class="nav-text">12.2.4.1   手动更新内核</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEAdGuard-Home"><span class="nav-text">12.2.4.2   设置AdGuard Home</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNSMASQ%E8%AE%BE%E7%BD%AE"><span class="nav-text">12.2.5   DNSMASQ设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenClash"><span class="nav-text">12.2.6   OpenClash</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">12.2.6.1   更新客户端</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E6%9B%B4%E6%96%B0%E5%86%85%E6%A0%B8-1"><span class="nav-text">12.2.6.2   手动更新内核</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OpenClash%E8%AE%BE%E7%BD%AE"><span class="nav-text">12.2.6.3   OpenClash设置</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HomeLab%E8%B7%AF%E7%94%B1%E6%96%B9%E6%A1%88%E4%BA%8C%EF%BC%9AiKuai%E4%B8%BB%E8%B7%AF%E7%94%B1-OpenWrt%E6%97%81%E8%B7%AF%E7%94%B1%E5%88%86%E6%B5%81%E7%9A%84%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91"><span class="nav-text">13   HomeLab路由方案二：iKuai主路由+OpenWrt旁路由分流的网络拓扑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#iKuai%E4%B8%BB%E8%B7%AF%E7%94%B1%E8%AE%BE%E7%BD%AE"><span class="nav-text">13.1   iKuai主路由设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OpenWrt%E6%97%81%E8%B7%AF%E7%94%B1%E8%AE%BE%E7%BD%AE"><span class="nav-text">13.2   OpenWrt旁路由设置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C-1"><span class="nav-text">13.2.1   网络</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3-LAN-1"><span class="nav-text">13.2.1.1   接口-&gt;LAN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3-WAN"><span class="nav-text">13.2.1.2   接口-&gt;WAN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99-%E5%B8%B8%E8%A7%84%E8%AE%BE%E7%BD%AE"><span class="nav-text">13.2.1.3   防火墙-常规设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DHCP-DNS"><span class="nav-text">13.2.1.4   DHCP&#x2F;DNS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenClash%EF%BC%88Redir-Host%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="nav-text">13.2.2   OpenClash（Redir-Host模式）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E4%B8%8B%E8%BD%BD%E4%B8%8A%E4%BC%A0%E6%9B%B4%E6%96%B0OpenClash%E5%86%85%E6%A0%B8"><span class="nav-text">13.2.2.1   手动下载上传更新OpenClash内核</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OpenClash%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%B4%E8%BF%9E%E5%9F%9F%E5%90%8D%E8%A7%84%E5%88%99%E9%9B%86"><span class="nav-text">13.2.2.2   OpenClash自定义直连域名规则集</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AdGuardHome%E5%92%8CPaoPaoDNS"><span class="nav-text">13.3   AdGuardHome和PaoPaoDNS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PaoPaoDNS%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D"><span class="nav-text">13.3.1   PaoPaoDNS自定义域名</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E6%9C%AC%E5%9C%B0%E6%9C%BA%E5%9C%BA%E8%AE%A2%E9%98%85%E8%BD%AC%E6%8D%A2%E6%9C%8D%E5%8A%A1"><span class="nav-text">13.4   构建本地机场订阅转换服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PVE%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAdebian%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-text">13.4.1   PVE新建一个debian虚拟机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E4%BC%98%E5%8C%96debian%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-text">13.4.2   设置优化debian虚拟机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E9%87%8D%E6%96%B0%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AFdocker%E9%95%9C%E5%83%8F"><span class="nav-text">13.4.3   手动重新构建前端docker镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8root%E8%B4%A6%E6%88%B7%E7%94%A8%E6%88%B7%E8%B7%AF%E5%BE%84%E4%B8%8B%E6%96%B0%E5%BB%BAdocker-compose-yml%EF%BC%9Anano-docker-compose-yml"><span class="nav-text">13.4.4   在root账户用户路径下新建docker-compose.yml：nano docker-compose.yml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8Cdocker-compose"><span class="nav-text">13.4.5   运行docker compose</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81%E6%9C%8D%E5%8A%A1%E6%98%AF%E5%90%A6%E8%BF%90%E8%A1%8C%E6%88%90%E5%8A%9F"><span class="nav-text">13.4.6   验证服务是否运行成功</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E6%97%A0%E7%BA%BF%E8%B7%AF%E7%94%B1%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="nav-text">13.5   普通无线路由器配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PVE-Proxmox-VE-%E6%80%BB%E7%BB%93"><span class="nav-text">14   PVE(Proxmox VE)总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE-Proxmox-VE-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%90%84%E7%A1%AC%E4%BB%B6%E6%A8%A1%E5%9E%8B%E6%80%BB%E7%BB%93"><span class="nav-text">14.1   PVE(Proxmox VE)虚拟机各硬件模型总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E6%80%9D%E8%B7%AF"><span class="nav-text">14.2   PVE服务器的网络拓扑思路</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BADHCP%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E4%B8%BAvmbr1%E7%BD%91%E6%A1%A5%E7%9A%84%E8%AE%BE%E5%A4%87%E8%87%AA%E5%8A%A8%E8%AE%BE%E7%BD%AEip%E5%9C%B0%E5%9D%80"><span class="nav-text">14.2.1   创建DHCP服务器，为vmbr1网桥的设备自动设置ip地址</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVE%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%A3%81%E7%9B%98%E5%AE%B9%E9%87%8F%E8%B0%83%E6%95%B4"><span class="nav-text">14.3   PVE虚拟机磁盘容量调整</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PVETOOLS%E8%84%9A%E6%9C%AC%E7%A8%8B%E5%BA%8F%E6%8E%A8%E8%8D%90"><span class="nav-text">14.4   PVETOOLS脚本程序推荐</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PBS-Proxmox-Backup-Server-%E6%80%BB%E7%BB%93"><span class="nav-text">15   PBS(Proxmox Backup Server)总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PBS%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">15.1   PBS常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PBS%E5%A4%87%E4%BB%BD%E8%AE%A1%E5%88%92"><span class="nav-text">15.2   PBS备份计划</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PBS%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A4%87%E4%BB%BD%E7%B2%BE%E7%AE%80%E8%AE%A1%E5%88%92"><span class="nav-text">15.3   PBS服务器备份精简计划</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PBS%E4%BD%BF%E7%94%A8%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91"><span class="nav-text">15.4   PBS使用遇到的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ERROR-Backup-of-VM-102-failed-lvcreate-snapshot-pve-snap-vm-102-disk-0-vzdump-error"><span class="nav-text">15.4.1   ERROR: Backup of VM 102 failed - lvcreate snapshot &#39;pve&#x2F;snap_vm-102-disk-0_vzdump&#39; error</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PBS%E5%AE%BF%E4%B8%BB%E6%9C%BA%E8%A2%AB%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%A1%AB%E6%BB%A1%E6%A0%B9%E7%9B%AE%E5%BD%95"><span class="nav-text">15.4.1.1   PBS宿主机被日志文件填满根目录</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#iKuai%E6%80%BB%E7%BB%93"><span class="nav-text">16   iKuai总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#iKuai%E7%88%B1%E5%BF%AB%E5%86%85%E7%BD%91%E6%B5%8B%E8%AF%95"><span class="nav-text">16.1   iKuai爱快内网测试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iKuai%E6%8A%A5%E9%94%99%E6%8F%90%E7%A4%BA%EF%BC%9A%E5%86%99%E5%85%A5%E6%95%B0%E6%8D%AE%E5%A4%B1%E8%B4%A5-%E8%AF%B7%E6%A3%80%E6%9F%A5%E4%BD%A0%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-text">16.2   iKuai报错提示：写入数据失败,请检查你的配置!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E5%8F%8CiKuai%E4%B8%BB%E8%B7%AF%E7%94%B1%E7%9A%84DHCP%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-text">16.3   局域网内双iKuai主路由的DHCP的设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E5%8F%8CiKuai%E4%B8%BB%E8%B7%AF%E7%94%B1%E8%B7%A8%E7%BD%91%E6%AE%B5%E4%BA%92%E7%9B%B8%E8%AE%BF%E9%97%AE%EF%BC%88%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%EF%BC%89"><span class="nav-text">16.4   局域网内双iKuai主路由跨网段互相访问（静态路由）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iKuai%E8%AE%BE%E5%AE%9A%E6%97%B6%E9%97%B4NTP%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">16.5   iKuai设定时间NTP服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iKuai%E9%BB%98%E8%AE%A4WEB%E7%AE%A1%E7%90%86%E5%9C%B0%E5%9D%80IP"><span class="nav-text">16.6   iKuai默认WEB管理地址IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iKuai%E7%9A%84%E7%89%88%E6%9C%AC%E5%8D%87%E9%99%8D%E7%BA%A7"><span class="nav-text">16.7   iKuai的版本升降级</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#OpenWrt%E6%80%BB%E7%BB%93"><span class="nav-text">17   OpenWrt总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#OpenClash%E6%8A%A5%E9%94%99all-DNS-requests-failed%E6%88%96%E8%80%85dns-resolve-failed"><span class="nav-text">17.1   OpenClash报错all DNS requests failed或者dns resolve failed</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OpenClash%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%EF%BC%9Ano-space-left-on-device-path-etc-openclash"><span class="nav-text">17.2   OpenClash启动失败：no space left on device path&#x3D;&#x2F;etc&#x2F;openclash</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A3%9E%E7%89%9BfnOS%EF%BC%88%E7%A7%81%E6%9C%89%E4%BA%91NAS%E6%80%BB%E7%BB%93%EF%BC%89"><span class="nav-text">18   飞牛fnOS（私有云NAS总结）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BD%B1%E8%A7%86%E5%8F%8A%E4%B8%8B%E8%BD%BD%E7%9B%B8%E5%85%B3"><span class="nav-text">18.1   影视及下载相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E9%A3%9E%E7%89%9B%E5%BD%B1%E8%A7%86%E5%88%AE%E5%89%8A%E7%9A%84%E6%96%87%E4%BB%B6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="nav-text">18.1.1   关于飞牛影视刮削的文件命名规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AutoBangumi"><span class="nav-text">18.1.2   AutoBangumi</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E4%B8%AD%E5%BF%83%E5%AE%89%E8%A3%85AutoBangumi%E8%B7%B3%E8%BF%87%E9%A6%96%E6%AC%A1%E9%85%8D%E7%BD%AE%E9%A1%B5%E9%9D%A2%E4%B9%8B%E5%90%8E%EF%BC%8C%E6%97%A0%E6%B3%95%E5%86%8D%E6%AC%A1%E8%AE%BF%E9%97%AE"><span class="nav-text">18.1.2.1   应用中心安装AutoBangumi跳过首次配置页面之后，无法再次访问</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%83%E6%95%B4search-provider-json%E5%8F%82%E6%95%B0%E9%80%82%E9%85%8D%E5%9B%BD%E5%86%85%E7%9B%B4%E8%BF%9E%E5%9F%9F%E5%90%8D%E8%AE%A2%E9%98%85mikanime-tv"><span class="nav-text">18.1.2.2   调整search_provider.json参数适配国内直连域名订阅mikanime.tv</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E5%BA%94%E7%94%A8%E4%BE%8B%E5%A6%82QBittorrent%E5%9C%A8%E5%90%8E%E5%8F%B0%E4%B8%8A%E4%BC%A0%E6%97%B6%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E5%AF%BC%E7%A1%AC%E7%9B%98%E6%8C%81%E7%BB%AD%E8%AF%BB%E5%8F%96%E5%92%8CCPU%E7%9A%84%E5%BC%82%E5%B8%B8%E5%8D%A0%E7%94%A8%E3%80%82"><span class="nav-text">18.1.3   下载应用例如QBittorrent在后台上传时可能会引导硬盘持续读取和CPU的异常占用。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%85%E9%9B%B7%E5%8F%98%E6%9B%B4%E4%B8%8B%E8%BD%BD%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%8C%87%E5%AE%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E5%BE%84"><span class="nav-text">18.1.4   迅雷变更下载目录，指定自定义路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EMBY-MetaTube-Server%E5%AE%9E%E7%8E%B0%E5%BD%B1%E8%A7%86%E5%88%AE%E5%89%8A"><span class="nav-text">18.1.5   EMBY+MetaTube Server实现影视刮削</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E4%B9%A6%E7%9B%B8%E5%85%B3"><span class="nav-text">18.2   图书相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Komga%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%9B%BE%E4%B9%A6%E9%A6%86"><span class="nav-text">18.2.1   Komga服务端图书馆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Talebook%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%9B%BE%E4%B9%A6%E9%A6%86"><span class="nav-text">18.2.2   Talebook服务端图书馆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%AE%9A%E6%97%B6%E8%87%AA%E5%8A%A8%E6%B8%85%E7%A9%BA%E5%9B%9E%E6%94%B6%E7%AB%99"><span class="nav-text">18.3   设置定时自动清空回收站</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%B6%E4%BC%B8%E5%86%85%E5%AE%B9%EF%BC%9Acrontab%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">18.3.1   延伸内容：crontab的表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FN-Connect"><span class="nav-text">18.4   FN Connect</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E6%A0%A1%E9%AA%8C%E9%A3%9E%E7%89%9B%E5%AD%98%E5%82%A8%E6%96%87%E4%BB%B6%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-text">18.5   手动校验飞牛存储文件完整性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%A1%E9%AA%8Cbtrfs%E7%9A%84%E6%96%87%E4%BB%B6%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-text">18.5.1   校验btrfs的文件完整性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%A1%E9%AA%8Cmdadm%E7%9A%84RAID%E5%9D%97%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-text">18.5.2   校验mdadm的RAID块完整性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%88%E7%AB%AF%E7%BC%96%E8%BE%91%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9IP%E5%9C%B0%E5%9D%80"><span class="nav-text">18.6   终端编辑网络配置修改IP地址</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%BD%E5%B8%A6%E7%BD%91%E7%BB%9C%E6%80%BB%E7%BB%93"><span class="nav-text">19   宽带网络总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%9A%E8%AF%9D%E6%95%B0%EF%BC%88%E8%BF%9E%E6%8E%A5%E6%95%B0%EF%BC%89"><span class="nav-text">19.1   会话数（连接数）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%BA%E5%9C%BA%E7%9B%B8%E5%85%B3"><span class="nav-text">20   机场相关</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%88%B0%E9%A2%86%E5%8F%96%E6%9C%BA%E5%9C%BA%E6%B5%81%E9%87%8F"><span class="nav-text">20.1   自动签到领取机场流量</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-text">21   后记</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#All-in-One-All-in-Boom-%E6%9C%BA%E5%99%A8%E7%A1%AC%E4%BB%B6%E9%80%89%E5%9E%8B%E6%80%BB%E7%BB%93"><span class="nav-text">22   All in One (All in Boom) 机器硬件选型总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CPU%E9%80%89%E5%9E%8B%E5%AF%B9%E6%AF%94"><span class="nav-text">22.1   CPU选型对比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E6%9D%BF%E9%80%89%E5%9E%8B%E5%AF%B9%E6%AF%94"><span class="nav-text">22.2   主板选型对比</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="nav-text">23   参考文献</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Mr. Kin" src="/images-public/avatar-alpha.webp"><p class="site-author-name" itemprop="name">Mr. Kin</p><div class="site-description" itemprop="description">Since you have chosen to chase, don't give up.</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">104</span> <span class="site-state-item-name">文章</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">252</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=2312463626&website=www.oicqzone.com" title="QQ → tencent:&#x2F;&#x2F;AddContact&#x2F;?fromId&#x3D;45&amp;fromSubId&#x3D;1&amp;subcmd&#x3D;all&amp;uin&#x3D;2312463626&amp;website&#x3D;www.oicqzone.com" rel="noopener me" target="_blank"><i class="fab fa-qq fa-fw"></i>QQ</a> </span><span class="links-of-author-item"><a href="mailto:im.misterkin@gmail.com" title="GMail → mailto:im.misterkin@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>GMail</a> </span><span class="links-of-author-item"><a href="/images-public/follow-me/wechat-official-accounts.webp" title="WeChat → &#x2F;images-public&#x2F;follow-me&#x2F;wechat-official-accounts.webp" rel="noopener me"><i class="fab fa-weixin fa-fw"></i>WeChat</a> </span><span class="links-of-author-item"><a href="https://github.com/mister-kin" title="Github → https:&#x2F;&#x2F;github.com&#x2F;mister-kin" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>Github</a> </span><span class="links-of-author-item"><a href="https://www.acfun.cn/u/73269306" title="AcFun → https:&#x2F;&#x2F;www.acfun.cn&#x2F;u&#x2F;73269306" rel="noopener me" target="_blank"><i class="fa fa-user-astronaut fa-fw"></i>AcFun</a> </span><span class="links-of-author-item"><a href="http://space.bilibili.com/17025250" title="Bilibli → http:&#x2F;&#x2F;space.bilibili.com&#x2F;17025250?" rel="noopener me" target="_blank"><i class="fa-brands fa-bilibili fa-fw"></i>Bilibli</a> </span><span class="links-of-author-item"><a href="http://i.youku.com/i/UNjA3MTk5Mjgw?spm=a2hzp.8253869.0.0" title="Youku → http:&#x2F;&#x2F;i.youku.com&#x2F;i&#x2F;UNjA3MTk5Mjgw?spm&#x3D;a2hzp.8253869.0.0" rel="noopener me" target="_blank"><i class="fa fa-chevron-circle-right fa-fw"></i>Youku</a> </span><span class="links-of-author-item"><a href="https://weibo.com/6270111192/profile?topnav=1&wvr=6&is_all=1" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;6270111192&#x2F;profile?topnav&#x3D;1&amp;wvr&#x3D;6&amp;is_all&#x3D;1" rel="noopener me" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a> </span><span class="links-of-author-item"><a href="https://www.toutiao.com/c/user/835254071079053/#mid=1663279303982091" title="Headline → https:&#x2F;&#x2F;www.toutiao.com&#x2F;c&#x2F;user&#x2F;835254071079053&#x2F;#mid&#x3D;1663279303982091" rel="noopener me" target="_blank"><i class="far fa-newspaper fa-fw"></i>Headline</a> </span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/drwu-94" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;drwu-94" rel="noopener me" target="_blank"><i class="fab fa-zhihu fa-fw"></i>Zhihu</a> </span><span class="links-of-author-item"><a href="https://www.youtube.com/channel/UCXqjfWLzMlRKxGC8syWj17Q?view_as=public" title="Youtube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCXqjfWLzMlRKxGC8syWj17Q?view_as&#x3D;public" rel="noopener me" target="_blank"><i class="fab fa-youtube fa-fw"></i>Youtube</a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i>RSS</a></span></div><div style="margin-top:15px"><a href="/about#联系方式"><button class="button-box">联系我</button></a> <a href="/about#关注我"><button class="button-box">关注我</button></a> <a href="/about#免费支持我"><button class="button-box">支持我</button></a></div><style type="text/css">.button-box{background:var(--btn-default-bg);border:2px solid var(--btn-default-border-color);border-radius:2px;color:var(--btn-default-color);display:inline-block;font-size:.875em;line-height:2;padding:0 12px;text-decoration:none;transition-property:background-color;transition-delay:0s;transition-duration:.2s;transition-timing-function:ease-in-out}.button-box:hover{background:var(--btn-default-hover-bg);border-color:var(--btn-default-hover-border-color);color:var(--btn-default-hover-color);cursor:pointer}</style></div></div><div class="back-to-top animated" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i> 链接推荐</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://william-wu97.github.io/vuepress-blog/" title="https:&#x2F;&#x2F;william-wu97.github.io&#x2F;vuepress-blog&#x2F;" rel="noopener" target="_blank">友链-William Wu's Blog</a></li></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://mister-kin.github.io/software/pve/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images-public/avatar-alpha.webp"><meta itemprop="name" content="Mr. Kin"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Mr. Kin's Blog"><meta itemprop="description" content="Since you have chosen to chase, don't give up."></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="PVE+iKuai+OpenWrt+fnOS折腾记录 | Mr. Kin's Blog"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">PVE+iKuai+OpenWrt+fnOS折腾记录</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-09-11 04:19:30" itemprop="dateCreated datePublished" datetime="2023-09-11T04:19:30+08:00">2023-09-11</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-12-05 07:37:25" itemprop="dateModified" datetime="2025-12-05T07:37:25+08:00">2025-12-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/software/" itemprop="url" rel="index"><span itemprop="name">software</span></a> </span></span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>35k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2:07</span></span></div></div></header><div class="post-body" itemprop="articleBody"><table><thead><tr><th align="center"><a target="_blank" rel="noopener" href="https://pve.proxmox.com/pve-docs/">PVE官方文档</a></th><th align="center"><a target="_blank" rel="noopener" href="https://pbs.proxmox.com/docs/">PBS官方文档</a></th><th align="center"><a target="_blank" rel="noopener" href="https://pmg.proxmox.com/pmg-docs/">PMG官方文档</a></th></tr></thead><tbody><tr><td align="center"><a target="_blank" rel="noopener" href="https://pve.proxmox.com/wiki/Service_daemons">PVE Service daemons</a></td><td align="center"><a target="_blank" rel="noopener" href="https://pbs.proxmox.com/docs/services.html">PBS Service daemons</a></td><td align="center"><a target="_blank" rel="noopener" href="https://pmg.proxmox.com/pmg-docs/#_service_daemons">PMG Service daemons</a></td></tr></tbody></table><h1 id="背景">1 &nbsp&nbsp<a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>早期因联通赠送的光猫性能不支持双LAN口长时间同时上网（存在间歇性断流现象），故从海鲜市场（小黄鱼）上淘了一个N3530小工控机（准系统，无内存条），计划用来安装PVE虚拟机系统，以便搭建软路来处理宽带拨号和作为DHCP服务器分配管理局域网IP，而光猫仅保留作为一个光电信号转换器。</p><p>后期陆续购置新硬件摸索各类方案，目前本文已总结了笔者探索使用PVE的各种经验所得。</p><h1 id="机器配置概览及BIOS优化设置">2 &nbsp&nbsp<a href="#机器配置概览及BIOS优化设置" class="headerlink" title="机器配置概览及BIOS优化设置"></a>机器配置概览及BIOS优化设置</h1><h2 id="N3530工控机配置概览">2.1 &nbsp&nbsp<a href="#N3530工控机配置概览" class="headerlink" title="N3530工控机配置概览"></a>N3530工控机配置概览</h2><table><thead><tr><th align="center">配件类别</th><th align="center">配件型号</th><th align="center">数量</th><th align="center">品牌</th><th align="center">备注</th></tr></thead><tbody><tr><td align="center">CPU</td><td align="center">Intel(R) Pentium(R) CPU N3530</td><td align="center">1</td><td align="center">英特尔Intel</td><td align="center"></td></tr><tr><td align="center">内存</td><td align="center">Hynix DDR3L-8GB</td><td align="center">1</td><td align="center">海力士Hynix</td><td align="center">从老笔记本电脑上拆出来的一根DDR3L条子</td></tr><tr><td align="center">硬盘</td><td align="center">Hynix SH920 mSATA 256GB</td><td align="center">1</td><td align="center">海力士Hynix</td><td align="center"></td></tr><tr><td align="center">千兆网卡</td><td align="center">Intel I211<br>Realtek Mini-PCIe RTL8111E&#x2F;F</td><td align="center">2<br>1</td><td align="center">英特尔Intel<br>瑞昱Realtek</td><td align="center">Realtek螃蟹卡是后期购买加装至Mini-PCIe无线网卡口位置<br>通过拆掉主控板的一个COM接口，用锉刀将外壳挫出一个RJ45网口的尺寸孔实现加装</td></tr><tr><td align="center">主板</td><td align="center">工控机主板</td><td align="center">1</td><td align="center">未知品牌</td><td align="center"></td></tr><tr><td align="center">外围接口</td><td align="center">RJ45网线接口<br>USB-A 3.0<br>USB-A 2.0<br>HDMI<br>VGA<br>麦克风3.5mm<br>耳机3.5mm<br>COM口<br>SIM卡槽</td><td align="center">3<br>2<br>4<br>1<br>1<br>1<br>1<br>1<br>1</td><td align="center">无</td><td align="center"></td></tr><tr><td align="center">内围接口</td><td align="center">mSATA<br>Mini-PCIe<br>SATA<br>SATA PWR供电口</td><td align="center">2<br>1<br>1<br>1</td><td align="center">无</td><td align="center"></td></tr></tbody></table><h2 id="N3530工控机BIOS优化设置">2.2 &nbsp&nbsp<a href="#N3530工控机BIOS优化设置" class="headerlink" title="N3530工控机BIOS优化设置"></a>N3530工控机BIOS优化设置</h2><blockquote><p>快速启动菜单按键：F11键<br>进入BIOS模式按键：ESC或者DEL键</p></blockquote><p>该N3530工控机BIOS是采用经典的<code>AMI(American Megatrends)</code>方案。</p><ul><li>设置来电自启：<code>Chipset-&gt;South Bridge-&gt;Restore AC Power Loss-&gt;Power on</code></li><li>启用CPU内置温度传感器：<code>Advanced-&gt;CPU Configuration-&gt;CPU Thermal Configuration-&gt;DTS-&gt;Enabled</code></li><li>启用VT-x：<code>Advanced-&gt;CPU Configuration-&gt;Intel Virtualization Technology-&gt;Enabled</code></li><li>设置自定义功率模式：<code>Advanced-&gt;CPU Configuration-&gt;Power Technology-&gt;Custom</code>。（默认是Efficient节能模式）</li></ul><h2 id="i5-12400-云星Matx-Z690-NAS主板配置">2.3 &nbsp&nbsp<a href="#i5-12400-云星Matx-Z690-NAS主板配置" class="headerlink" title="i5-12400+云星Matx-Z690 NAS主板配置"></a>i5-12400+云星Matx-Z690 NAS主板配置</h2><h2 id="云星Matx-Z690-NAS主板BIOS优化设置">2.4 &nbsp&nbsp<a href="#云星Matx-Z690-NAS主板BIOS优化设置" class="headerlink" title="云星Matx-Z690 NAS主板BIOS优化设置"></a>云星Matx-Z690 NAS主板BIOS优化设置</h2><blockquote><p>快速启动菜单按键：F11键<br>进入BIOS模式按键：DEL键</p></blockquote><h1 id="安装、配置及升级PVE-Proxmox-VE">3 &nbsp&nbsp<a href="#安装、配置及升级PVE-Proxmox-VE" class="headerlink" title="安装、配置及升级PVE(Proxmox VE)"></a>安装、配置及升级PVE(Proxmox VE)</h1><h2 id="PVE安装步骤（PVE-7-x-9-x）">3.1 &nbsp&nbsp<a href="#PVE安装步骤（PVE-7-x-9-x）" class="headerlink" title="PVE安装步骤（PVE 7.x-9.x）"></a>PVE安装步骤（PVE 7.x-9.x）</h2><ol><li>下载PVE系统镜像：<a target="_blank" rel="noopener" href="https://www.proxmox.com/en/downloads/proxmox-virtual-environment/iso">点击跳转</a>（安装步骤适用于PVE 7.x-PVE 9.x，一般选择最新版本即可。我当初编写教程时，由于机器原因是需要下载pve 7.4的iso镜像文件，因为安装pve 8.x会引起<code>bootloader setup errors</code>报错而导致安装PVE系统失败。）</li><li>制作U盘启动项：<a target="_blank" rel="noopener" href="https://github.com/ventoy/Ventoy/releases">ventoy</a>。拷贝镜像iso文件到U盘，启动选择pve镜像进入，选择图形安装界面。</li><li>同意协议。</li><li>点击option按钮，选择硬盘和ext4格式：<ol><li>swapsize&#x3D;8GB（交换分区请根据自己的硬盘容量和使用情况设置）</li><li>maxroot&#x3D;50GB（该分区对应PVE系统的local存储空间，主要用于存放ISO镜像和LXC模板（CT Templates），请根据自己的硬盘和使用情况设置）</li><li>minfree&#x3D;0GB（该分区是定义划分LVM卷组“pve”后剩余的可用空间量。当可用存储空间超过128GB时，其默认值为16GB。）<ul><li>一般是留出这闲置空间用于手动lvcreate逻辑分卷snapshot快照这种操作。但PVE是使用lvmthin，无需闲置空间作为lvmthin的快照存储，因此设置为0即可。</li><li>如果自己的需求有自行创建逻辑卷快照的需求，请留空使用默认值16GB即可。</li><li>LVM需要VG中的可用空间来创建快照，而lvmthin快照则不需要。</li></ul></li><li>maxvz&#x3D;留空（该分区是定义数据卷（data）的最大大小。计算公式：datasize &#x3D; hdsize - rootsize - swapsize - minfree）</li></ol></li><li>国家选择china，时区会自动修改为上海，键盘布局不改。</li><li>设置密码，邮箱随意。</li><li>管理网口，默认第一个做管理（enp1s0，pve系统里面识别的第一个网口，N3530工控机中靠近hdmi接口的rj45），第二个做wan口（方便后续维护）。域名hostname设置为pve.lan（这项随便填写都行，有能用的域名可填写上去，可解析到机器用域名管理pve虚拟机）；ip：192.168.1.2；掩码：255.255.255.0；网关：192.168.1.1（留给iKuai的地址），DNS：223.5.5.5。<ul><li>后续登录WEB后台页面：根据硬件网卡情况，添加并设置好虚拟网桥Linux Bridge：创建-&gt;Linux Bridge-&gt;桥接接口填写物理网口地址名称。以我的机器为例，机器三个物理网口，PVE新建4个网桥，前三个网桥和物理网口绑定，第四个网桥用作iKuai和OpenWrt之间的传输或者其他虚拟机系统之间的传输。</li></ul></li><li>查看确认已设置的内容（弹窗），确认安装。</li><li>访问WEB管理地址并登录：<a target="_blank" rel="noopener" href="https://192.168.1.2:8006/">https://192.168.1.2:8006</a>。账户：root。密码：[前面步骤设置的密码]。</li><li>设置网卡并确保pve能联网。</li></ol><h2 id="PVE升级步骤（7-x-8-x）">3.2 &nbsp&nbsp<a href="#PVE升级步骤（7-x-8-x）" class="headerlink" title="PVE升级步骤（7.x-&gt;8.x）"></a>PVE升级步骤（7.x-&gt;8.x）</h2><h3 id="替换PVE-7-x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE-7-x最新版">3.2.1 &nbsp&nbsp<a href="#替换PVE-7-x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE-7-x最新版" class="headerlink" title="替换PVE 7.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 7.x最新版"></a>替换PVE 7.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 7.x最新版</h3><p>注：推荐中科大源，清华源可能会遇到大型NAT局域网宽带频繁大流量访问而导致被禁用IP，从而导致出现403 Forbidden。<code>sources.list</code>相关的源，都是执行<code>apt update</code>更新索引生效。</p><div class="tabs" id="7xsources"><ul class="nav-tabs"><li class="tab active"><a href="#7xsources-1">PVE 7.x的Debian系统软件源</a></li><li class="tab"><a href="#7xsources-2">PVE 7.x的PVE软件源</a></li><li class="tab"><a href="#7xsources-3">PVE 7.x的CEPH分布式源</a></li></ul><div class="tab-content"><div class="tab-pane active" id="7xsources-1"><p>修改<code>/etc/apt/sources.list</code>文件内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure><div class="tabs" id="74sourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#74sourcestype-1">PVE 7.x的Debian系统软件源（中科大源）</a></li><li class="tab"><a href="#74sourcestype-2">PVE 7.x的Debian系统软件源（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="74sourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#deb http://ftp.debian.org/debian bullseye main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free</span><br><span class="line"></span><br><span class="line"><span class="comment">#deb http://ftp.debian.org/debian bullseye-updates main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free</span><br><span class="line"></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment">#deb http://security.debian.org bullseye-security main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian-security bullseye-security main contrib non-free</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="74sourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#deb http://ftp.debian.org/debian bullseye main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free</span><br><span class="line"></span><br><span class="line"><span class="comment">#deb http://ftp.debian.org/debian bullseye-updates main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free</span><br><span class="line"></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment">#deb http://security.debian.org bullseye-security main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free</span><br></pre></td></tr></table></figure></div></div></div></div><div class="tab-pane" id="7xsources-2"><p>删除pve-enterprise.list，新建pve-no-subscription.list。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/pve-enterprise.list /etc/apt/sources.list.d/pve-enterprise.list.bak</span><br></pre></td></tr></table></figure><div class="tabs" id="7xpvesourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#7xpvesourcestype-1">PVE 7.x的PVE软件源（中科大源）</a></li><li class="tab"><a href="#7xpvesourcestype-2">PVE 7.x的PVE软件源（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="7xpvesourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.ustc.edu.cn/proxmox/debian/pve bullseye pve-no-subscription &gt; /etc/apt/sources.list.d/pve-no-subscription.list</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="7xpvesourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/pve bullseye pve-no-subscription &gt; /etc/apt/sources.list.d/pve-no-subscription.list</span><br></pre></td></tr></table></figure></div></div></div></div><div class="tab-pane" id="7xsources-3"><p>修改<code>/etc/apt/sources.list.d/ceph.list</code>和<code>/usr/share/perl5/PVE/CLI/pveceph.pm</code>文件内容。<code>pveceph.pm</code>推荐是更新系统之后再操作，否则更新系统之后<code>pveceph.pm</code>会覆盖回默认的域名<code>http://download.proxmox.com</code>。</p><p>其中<code>ceph.list</code>的<code>https://mirrors.ustc.edu.cn/proxmox/debian/$CEPH_CODENAME</code>还可以通过在对应系统版本中执行命令<code>ceph -v | grep ceph | awk &#39;{print $(NF-1)}&#39;</code>获取<code>$CEPH_CODENAME</code>值。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/ceph.list /etc/apt/sources.list.d/ceph.list.bak</span><br><span class="line"><span class="built_in">cp</span> /usr/share/perl5/PVE/CLI/pveceph.pm /usr/share/perl5/PVE/CLI/pveceph.pm.bak</span><br><span class="line">sed -i <span class="string">&quot;s#http://download.proxmox.com#https://mirrors.ustc.edu.cn/proxmox#g&quot;</span> /usr/share/perl5/PVE/CLI/pveceph.pm</span><br></pre></td></tr></table></figure><div class="tabs" id="7xcephsourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#7xcephsourcestype-1">PVE 7.x的CEPH分布式源（中科大源）</a></li><li class="tab"><a href="#7xcephsourcestype-2">PVE 7.x的CEPH分布式源（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="7xcephsourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.ustc.edu.cn/proxmox/debian/ceph-pacific bullseye no-subscription &gt; /etc/apt/sources.list.d/ceph.list</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="7xcephsourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/ceph-pacific bullseye no-subscription &gt; /etc/apt/sources.list.d/ceph.list</span><br></pre></td></tr></table></figure></div></div></div></div></div></div><h3 id="升级到PVE-7-x最新的版本">3.2.2 &nbsp&nbsp<a href="#升级到PVE-7-x最新的版本" class="headerlink" title="升级到PVE 7.x最新的版本"></a>升级到PVE 7.x最新的版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br><span class="line">pveversion</span><br></pre></td></tr></table></figure><h3 id="检查版本升级的兼容性">3.2.3 &nbsp&nbsp<a href="#检查版本升级的兼容性" class="headerlink" title="检查版本升级的兼容性"></a>检查版本升级的兼容性</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pve7to8</span><br></pre></td></tr></table></figure><h3 id="替换PVE-8-x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE-8-x">3.2.4 &nbsp&nbsp<a href="#替换PVE-8-x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE-8-x" class="headerlink" title="替换PVE 8.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 8.x"></a>替换PVE 8.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 8.x</h3><p>注：推荐中科大源，清华源可能会遇到大型NAT局域网宽带频繁大流量访问而导致被禁用IP，从而导致出现403 Forbidden。<code>sources.list</code>相关的源，都是执行<code>apt update</code>更新索引生效。</p><div class="tabs" id="8xsources"><ul class="nav-tabs"><li class="tab active"><a href="#8xsources-1">PVE 8.x的Debian系统软件源</a></li><li class="tab"><a href="#8xsources-2">PVE 8.x的PVE软件源</a></li><li class="tab"><a href="#8xsources-3">PVE 8.x的CEPH分布式源</a></li></ul><div class="tab-content"><div class="tab-pane active" id="8xsources-1"><p>修改&#x2F;etc&#x2F;apt&#x2F;sources.list文件内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure><div class="tabs" id="8xsourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#8xsourcestype-1">PVE 8.x的中科大镜像源</a></li><li class="tab"><a href="#8xsourcestype-2">PVE 8.x的清华镜像源</a></li></ul><div class="tab-content"><div class="tab-pane active" id="8xsourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deb http://ftp.debian.org/debian bookworm main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bookworm main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian bookworm-updates main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org bookworm-security main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="8xsourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deb http://ftp.debian.org/debian bookworm main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian bookworm-updates main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org bookworm-security main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure></div></div></div></div><div class="tab-pane" id="8xsources-2"><p>删除pve-enterprise.list，新建pve-no-subscription.list。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/pve-enterprise.list /etc/apt/sources.list.d/pve-enterprise.list.bak</span><br></pre></td></tr></table></figure><div class="tabs" id="8xpvesourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#8xpvesourcestype-1">PVE 8.x的PVE软件源（中科大源）</a></li><li class="tab"><a href="#8xpvesourcestype-2">PVE 8.x的PVE软件源（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="8xpvesourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.ustc.edu.cn/proxmox/debian/pve bookworm pve-no-subscription &gt; /etc/apt/sources.list.d/pve-no-subscription.list</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="8xpvesourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/pve bookworm pve-no-subscription &gt; /etc/apt/sources.list.d/pve-no-subscription.list</span><br></pre></td></tr></table></figure></div></div></div></div><div class="tab-pane" id="8xsources-3"><p>修改<code>/etc/apt/sources.list.d/ceph.list</code>和<code>/usr/share/perl5/PVE/CLI/pveceph.pm</code>文件内容。<code>pveceph.pm</code>推荐是更新系统之后再操作，否则更新系统之后<code>pveceph.pm</code>会覆盖回默认的域名<code>http://download.proxmox.com</code>。</p><p>其中<code>ceph.list</code>的<code>https://mirrors.ustc.edu.cn/proxmox/debian/$CEPH_CODENAME</code>还可以通过在对应系统版本中执行命令<code>ceph -v | grep ceph | awk &#39;{print $(NF-1)}&#39;</code>获取<code>$CEPH_CODENAME</code>值。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/ceph.list /etc/apt/sources.list.d/ceph.list.bak</span><br><span class="line"><span class="built_in">cp</span> /usr/share/perl5/PVE/CLI/pveceph.pm /usr/share/perl5/PVE/CLI/pveceph.pm.bak</span><br><span class="line">sed -i <span class="string">&quot;s#http://download.proxmox.com#https://mirrors.ustc.edu.cn/proxmox#g&quot;</span> /usr/share/perl5/PVE/CLI/pveceph.pm</span><br></pre></td></tr></table></figure><div class="tabs" id="8xcephsourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#8xcephsourcestype-1">PVE 8.x的CEPH分布式源（中科大源）</a></li><li class="tab"><a href="#8xcephsourcestype-2">PVE 8.x的CEPH分布式源（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="8xcephsourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.ustc.edu.cn/proxmox/debian/ceph-quincy bookworm no-subscription &gt; /etc/apt/sources.list.d/ceph.list</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="8xcephsourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/ceph-quincy bookworm no-subscription &gt; /etc/apt/sources.list.d/ceph.list</span><br></pre></td></tr></table></figure></div></div></div></div></div></div><h3 id="开始正式升级（7-x-8-x）">3.2.5 &nbsp&nbsp<a href="#开始正式升级（7-x-8-x）" class="headerlink" title="开始正式升级（7.x-&gt;8.x）"></a>开始正式升级（7.x-&gt;8.x）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br></pre></td></tr></table></figure><div class="note info no-icon"><p>升级若遇到提示<code>Upgrade wants to remove package &#39;proxmox-ve&#39;</code>的话，在升级前尝试执行<code>apt remove linux-image-amd64</code>。</p></div><p>升级中会出现一些交互界面，下面是官网的建议（不清楚的选项，可以选择推荐参数）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/etc/issue -&gt; Proxmox VE will auto-generate this file on boot, and it has only cosmetic effects on the login console.</span><br><span class="line">Using the default <span class="string">&quot;No&quot;</span> (keep your currently-installed version) is safe here.</span><br><span class="line"></span><br><span class="line">/etc/lvm/lvm.conf -&gt; Changes relevant <span class="keyword">for</span> Proxmox VE will be updated, and a newer config version might be useful.</span><br><span class="line">If you did not make extra changes yourself and are unsure it<span class="string">&#x27;s suggested to choose &quot;Yes&quot; (install the package maintainer&#x27;</span>s version) here.</span><br><span class="line"></span><br><span class="line">/etc/ssh/sshd_config -&gt; If you have not changed this file manually, the only differences should be a replacement of ChallengeResponseAuthentication no with KbdInteractiveAuthentication no and some irrelevant changes <span class="keyword">in</span> comments (lines starting with <span class="comment">#).</span></span><br><span class="line">If this is the <span class="keyword">case</span>, both options are safe, though we would recommend installing the package maintainer<span class="string">&#x27;s version in order to move away from the deprecated ChallengeResponseAuthentication option. If there are other changes, we suggest to inspect them closely and decide accordingly.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/etc/default/grub -&gt; Here you may want to take special care, as this is normally only asked for if you changed it manually, e.g., for adding some kernel command line option.</span></span><br><span class="line"><span class="string">It&#x27;</span>s recommended to check the difference <span class="keyword">for</span> any relevant change, note that changes <span class="keyword">in</span> comments (lines starting with <span class="comment">#) are not relevant.</span></span><br><span class="line">If unsure, we suggested to selected <span class="string">&quot;No&quot;</span> (keep your currently-installed version)</span><br></pre></td></tr></table></figure><h2 id="PVE升级步骤（8-x-9-x）">3.3 &nbsp&nbsp<a href="#PVE升级步骤（8-x-9-x）" class="headerlink" title="PVE升级步骤（8.x-&gt;9.x）"></a>PVE升级步骤（8.x-&gt;9.x）</h2><h3 id="升级到PVE-8-x最新的版本">3.3.1 &nbsp&nbsp<a href="#升级到PVE-8-x最新的版本" class="headerlink" title="升级到PVE 8.x最新的版本"></a>升级到PVE 8.x最新的版本</h3><p><strong>更新之前，推荐先操作替换PVE 8.x版本系统的软件源（国内镜像）。详情参阅「<a href="#%E6%9B%BF%E6%8D%A2PVE-8-x%E7%9A%84Debian%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E6%BA%90%E5%92%8CPVE%E8%BD%AF%E4%BB%B6%E6%BA%90%EF%BC%88%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%EF%BC%89%EF%BC%8C%E6%96%B9%E4%BE%BF%E5%8D%87%E7%BA%A7%E5%88%B0PVE-8-x">替换PVE 8.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 8.x</a>」，这里不再赘述。</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br><span class="line">pveversion</span><br></pre></td></tr></table></figure><div class="flex-row"><div class="flex-column"><img data-src="/images/software/pve/pve8x-update-to-lateset.webp">执行apt命令升级</div><div class="flex-column"><img data-src="/images/software/pve/pve8x-lastest-check-version.webp">pveversion查看当前版本</div></div><h3 id="检查版本升级的兼容性-1">3.3.2 &nbsp&nbsp<a href="#检查版本升级的兼容性-1" class="headerlink" title="检查版本升级的兼容性"></a>检查版本升级的兼容性</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pve8to9</span><br></pre></td></tr></table></figure><p>笔者遇到两个警告WARN和一个失败FAIL。</p><div class="note warning"><p>警告1：提示有正在运行的客户端，检查程序推荐考虑迁移或者关闭。这个警告笔者是无视的，毕竟HomeLab的主路由和DNS递归查询等服务都是部署在这些虚拟机上，若是关闭，笔者还得额外调整网络参数才能联网。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARN: 9 running guest(s) detected - consider migrating or stopping them.</span><br></pre></td></tr></table></figure><div class="flex-column"><img data-src="/images/software/pve/pve8to9-warning1.webp">pve8to9警告信息1</div></div><div class="note warning"><p>警告2：提示本系统缺乏Intel微码，可无视该警告。想要消除警告，就使用命令安装微码<code>apt install intel-microcode</code>。AMD的CPU机器的微码安装命令为<code>apt install amd64-microcode</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WARN: The matching CPU microcode package &#x27;intel-microcode&#x27; could not be found! Consider installing it to receive the latest security and bug fixes for your CPU.</span><br><span class="line">        Ensure you enable the &#x27;non-free-firmware&#x27; component in the apt sources and run:</span><br><span class="line">        apt install intel-microcode</span><br></pre></td></tr></table></figure><div class="flex-row"><div class="flex-column"><img data-src="/images/software/pve/pve8to9-warning2.webp">pve8to9警告信息2</div><div class="flex-column"><img data-src="/images/software/pve/apt-install-intel-microcode.webp">安装Intel处理器微码</div></div></div><div class="note danger"><p>失败：这是因为PVE 9.x版本是基于<code>Debian Trixie</code>版本开发的，这个版本中<code>systemd-boot</code>已经被拆分成三个包<code>systemd-boot-efi</code>、<code>systemd-boot-tools</code>和<code>systemd-boot</code>，因此检查脚本若提示要卸载移除，最好是移除它。解决方法是运行卸载命令<code>apt remove systemd-boot</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FAIL: systemd-boot meta-package installed. This will cause problems on upgrades of other boot-related packages. Remove &#x27;systemd-boot&#x27; See https://pve.proxmox.com/wiki/Upgrade_from_8_to_9#sd-boot-warning for more information.</span><br></pre></td></tr></table></figure><div class="flex-row"><div class="flex-column"><img data-src="/images/software/pve/pve8to9-fail.webp">pve8to9失败信息</div><div class="flex-column"><img data-src="/images/software/pve/apt-remove-systemd-boot.webp">移除systemd-boot</div></div></div><p>注意解在决警告和失败之后，请重新运行检查脚本程序<code>pve8to9</code>，检查没有问题则进行下一步替换PVE 9.x镜像源。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pve8to9</span><br></pre></td></tr></table></figure><div class="flex-column"><img data-src="/images/software/pve/rerun-pve8to9.webp">重新运行检查脚本程序pve8to9</div><h3 id="替换PVE-9-x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE-9-x">3.3.3 &nbsp&nbsp<a href="#替换PVE-9-x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE-9-x" class="headerlink" title="替换PVE 9.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 9.x"></a>替换PVE 9.x的Debian系统软件源和PVE软件源（国内镜像），方便升级到PVE 9.x</h3><p>注：推荐中科大源，清华源可能会遇到大型NAT局域网宽带频繁大流量访问而导致被禁用IP，从而导致出现403 Forbidden。<code>sources.list</code>相关的源，都是执行<code>apt update</code>更新索引生效。</p><div class="tabs" id="9xsources"><ul class="nav-tabs"><li class="tab active"><a href="#9xsources-1">PVE 9.x的Debian系统软件源</a></li><li class="tab"><a href="#9xsources-2">PVE 9.x的PVE软件源</a></li><li class="tab"><a href="#9xsources-3">PVE 9.x的CEPH分布式源</a></li></ul><div class="tab-content"><div class="tab-pane active" id="9xsources-1"><p>修改&#x2F;etc&#x2F;apt&#x2F;sources.list文件内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure><div class="tabs" id="9xsourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#9xsourcestype-1">PVE 9.x的中科大镜像源</a></li><li class="tab"><a href="#9xsourcestype-2">PVE 9.x的清华镜像源</a></li></ul><div class="tab-content"><div class="tab-pane active" id="9xsourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie-updates main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org trixie-security main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian-security trixie-security main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="9xsourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ trixie main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie-updates main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ trixie-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ trixie-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org trixie-security main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian-security trixie-security main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure></div></div></div></div><div class="tab-pane" id="9xsources-2"><p>删除pve-enterprise.list，新建pve-no-subscription.list。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/pve-enterprise.list /etc/apt/sources.list.d/pve-enterprise.list.bak</span><br></pre></td></tr></table></figure><div class="tabs" id="9xpvesourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#9xpvesourcestype-1">PVE 9.x的PVE软件源（中科大源）</a></li><li class="tab"><a href="#9xpvesourcestype-2">PVE 9.x的PVE软件源（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="9xpvesourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.ustc.edu.cn/proxmox/debian/pve trixie pve-no-subscription &gt; /etc/apt/sources.list.d/pve-no-subscription.list</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="9xpvesourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/pve trixie pve-no-subscription &gt; /etc/apt/sources.list.d/pve-no-subscription.list</span><br></pre></td></tr></table></figure></div></div></div></div><div class="tab-pane" id="9xsources-3"><p>修改<code>/etc/apt/sources.list.d/ceph.list</code>和<code>/usr/share/perl5/PVE/CLI/pveceph.pm</code>文件内容。<code>pveceph.pm</code>推荐是更新系统之后再操作，否则更新系统之后<code>pveceph.pm</code>会覆盖回默认的域名<code>http://download.proxmox.com</code>。</p><p>其中<code>ceph.list</code>的<code>https://mirrors.ustc.edu.cn/proxmox/debian/$CEPH_CODENAME</code>还可以通过在对应系统版本中执行命令<code>ceph -v | grep ceph | awk &#39;{print $(NF-1)}&#39;</code>获取<code>$CEPH_CODENAME</code>值。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /usr/share/perl5/PVE/CLI/pveceph.pm /usr/share/perl5/PVE/CLI/pveceph.pm.bak</span><br><span class="line">sed -i <span class="string">&quot;s#http://download.proxmox.com#https://mirrors.ustc.edu.cn/proxmox#g&quot;</span> /usr/share/perl5/PVE/CLI/pveceph.pm</span><br><span class="line"></span><br><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/ceph.list /etc/apt/sources.list.d/ceph.list.bak</span><br></pre></td></tr></table></figure><div class="tabs" id="9xcephsourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#9xcephsourcestype-1">PVE 9.x的CEPH分布式源（中科大源）</a></li><li class="tab"><a href="#9xcephsourcestype-2">PVE 9.x的CEPH分布式源（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="9xcephsourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.ustc.edu.cn/proxmox/debian/ceph-squid trixie no-subscription &gt; /etc/apt/sources.list.d/ceph.list</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="9xcephsourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb https://mirrors.tuna.tsinghua.edu.cn/proxmox/debian/ceph-squid trixie no-subscription &gt; /etc/apt/sources.list.d/ceph.list</span><br></pre></td></tr></table></figure></div></div></div></div></div></div><h3 id="开始正式升级（8-x-9-x）">3.3.4 &nbsp&nbsp<a href="#开始正式升级（8-x-9-x）" class="headerlink" title="开始正式升级（8.x-&gt;9.x）"></a>开始正式升级（8.x-&gt;9.x）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br></pre></td></tr></table></figure><div class="note info no-icon"><p>升级若遇到提示<code>Upgrade wants to remove package &#39;proxmox-ve&#39;</code>的话，在升级前尝试执行<code>apt remove linux-image-amd64</code>。</p></div><p>升级中会出现一些交互界面，下面是官网的建议（不清楚的选项，可以选择推荐参数）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/etc/issue -&gt; Proxmox VE will auto-generate this file on boot, and it has only cosmetic effects on the login console.</span><br><span class="line">Using the default <span class="string">&quot;No&quot;</span> (keep your currently-installed version) is safe here.</span><br><span class="line"></span><br><span class="line">/etc/lvm/lvm.conf -&gt; Changes relevant <span class="keyword">for</span> Proxmox VE will be updated, and a newer config version might be useful.</span><br><span class="line">If you did not make extra changes yourself and are unsure it<span class="string">&#x27;s suggested to choose &quot;Yes&quot; (install the package maintainer&#x27;</span>s version) here.</span><br><span class="line"></span><br><span class="line">/etc/ssh/sshd_config -&gt; If you have not changed this file manually, the only differences should be a replacement of ChallengeResponseAuthentication no with KbdInteractiveAuthentication no and some irrelevant changes <span class="keyword">in</span> comments (lines starting with <span class="comment">#).</span></span><br><span class="line">If this is the <span class="keyword">case</span>, both options are safe, though we would recommend installing the package maintainer<span class="string">&#x27;s version in order to move away from the deprecated ChallengeResponseAuthentication option. If there are other changes, we suggest to inspect them closely and decide accordingly.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/etc/default/grub -&gt; Here you may want to take special care, as this is normally only asked for if you changed it manually, e.g., for adding some kernel command line option.</span></span><br><span class="line"><span class="string">It&#x27;</span>s recommended to check the difference <span class="keyword">for</span> any relevant change, note that changes <span class="keyword">in</span> comments (lines starting with <span class="comment">#) are not relevant.</span></span><br><span class="line">If unsure, we suggested to selected <span class="string">&quot;No&quot;</span> (keep your currently-installed version)</span><br><span class="line"></span><br><span class="line">/etc/chrony/chrony.conf -&gt; If you made <span class="built_in">local</span> changes you might want to move them out of the global config into the conf.d or, <span class="keyword">for</span> custom <span class="keyword">time</span> sources, the sources.d folder.</span><br><span class="line">See the /etc/chrony/conf.d/README and /etc/chrony/sources.d/README files on your system <span class="keyword">for</span> detaily.</span><br><span class="line">If you did not make extra changes yourself and are unsure it<span class="string">&#x27;s suggested to choose &quot;Yes&quot; (install the package maintainer&#x27;</span>s version) here.</span><br></pre></td></tr></table></figure><p>以下是实操选择的参数：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">Configuration file <span class="string">&#x27;/etc/issue&#x27;</span></span><br><span class="line"> ==&gt; Modified (by you or by a script) since installation.</span><br><span class="line"> ==&gt; Package distributor has shipped an updated version.</span><br><span class="line">   What would you like to <span class="keyword">do</span> about it ?  Your options are:</span><br><span class="line">    Y or I  : install the package maintainer<span class="string">&#x27;s version</span></span><br><span class="line"><span class="string">    N or O  : keep your currently-installed version</span></span><br><span class="line"><span class="string">      D     : show the differences between the versions</span></span><br><span class="line"><span class="string">      Z     : start a shell to examine the situation</span></span><br><span class="line"><span class="string"> The default action is to keep your current version.</span></span><br><span class="line"><span class="string">*** issue (Y/I/N/O/D/Z) [default=N] ?</span></span><br><span class="line"><span class="string">输入N回车</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">┌────────────────────────────────────────────┤ Configuring libc6:amd64 ├────────────────────────────────────────────┐</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">│ There are services installed on your system which need to be restarted when certain libraries, such as libpam,    │</span></span><br><span class="line"><span class="string">│ libc, and libssl, are upgraded. Since these restarts may cause interruptions of service for the system, you will  │</span></span><br><span class="line"><span class="string">│ normally be prompted on each upgrade for the list of services you wish to restart.  You can choose this option    │</span></span><br><span class="line"><span class="string">│ to avoid being prompted; instead, all necessary restarts will be done for you automatically so you can avoid      │</span></span><br><span class="line"><span class="string">│ being asked questions on each library upgrade.                                                                    │</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">│ Restart services during package upgrades without asking?                                                          │</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">│                                  &lt;Yes&gt;                                     &lt;No&gt;                                   │</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span></span><br><span class="line"><span class="string">选择Yes回车</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Configuration file &#x27;</span>/etc/lvm/lvm.conf<span class="string">&#x27;</span></span><br><span class="line"><span class="string"> ==&gt; Modified (by you or by a script) since installation.</span></span><br><span class="line"><span class="string"> ==&gt; Package distributor has shipped an updated version.</span></span><br><span class="line"><span class="string">   What would you like to do about it ?  Your options are:</span></span><br><span class="line"><span class="string">    Y or I  : install the package maintainer&#x27;</span>s version</span><br><span class="line">    N or O  : keep your currently-installed version</span><br><span class="line">      D     : show the differences between the versions</span><br><span class="line">      Z     : start a shell to examine the situation</span><br><span class="line"> The default action is to keep your current version.</span><br><span class="line">*** lvm.conf (Y/I/N/O/D/Z) [default=N] ?</span><br><span class="line">输入Y回车</span><br></pre></td></tr></table></figure><h3 id="屏蔽PVE-9-x企业源pve-enterprise-sources">3.3.5 &nbsp&nbsp<a href="#屏蔽PVE-9-x企业源pve-enterprise-sources" class="headerlink" title="屏蔽PVE 9.x企业源pve-enterprise.sources"></a>屏蔽PVE 9.x企业源<code>pve-enterprise.sources</code></h3><p>成功升级至PVE 9.x之后，会自动生成一个<code>DEB822</code>格式的企业源<code>pve-enterprise.sources</code>文件，需要手动屏蔽它，否则WEB后台和<code>apt update</code>会有提示。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/pve-enterprise.sources /etc/apt/sources.list.d/pve-enterprise.sources.bak</span><br><span class="line">apt update</span><br></pre></td></tr></table></figure><h3 id="成功升级PVE-9-x">3.3.6 &nbsp&nbsp<a href="#成功升级PVE-9-x" class="headerlink" title="成功升级PVE 9.x"></a>成功升级PVE 9.x</h3><p>以下就是升级到最新的PVE 9.x版本的WEB后台界面了。</p><div class="flex-column"><img data-src="/images/software/pve/pve9x-web-control.webp">PVE 9.x的WEB后台界面</div><h2 id="移除无用的包">3.4 &nbsp&nbsp<a href="#移除无用的包" class="headerlink" title="移除无用的包"></a>移除无用的包</h2><p>运行如下如下命令，移除无用的包，节省服务器空间：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt autoremove</span><br></pre></td></tr></table></figure><div class="flex-column"><img data-src="/images/software/pve/apt-auto-remove.webp">移除无用的包</div><h2 id="后续PVE系统日常更新">3.5 &nbsp&nbsp<a href="#后续PVE系统日常更新" class="headerlink" title="后续PVE系统日常更新"></a>后续PVE系统日常更新</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br></pre></td></tr></table></figure><h2 id="屏蔽PVE无有效订阅提示弹窗">3.6 &nbsp&nbsp<a href="#屏蔽PVE无有效订阅提示弹窗" class="headerlink" title="屏蔽PVE无有效订阅提示弹窗"></a>屏蔽PVE无有效订阅提示弹窗</h2><div class="note info no-icon"><ul><li>原理：修改<code>/usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js</code>文件，注销浏览器当前的PVE登录信息，之后重新登录就没有提示弹窗了。</li><li>每次更新升级PVE系统版本，proxmoxlib.js都会被替换还原，升级系统之后需要重复执行命令屏蔽弹窗。</li><li><strong>推荐使用方法一</strong>，实测执行方法二和方法三都会导致PVE 9.x版本WEB后台的「软件包版本」按钮无法响应。PVE 9.x之后的版本，在点击「软件包版本」按钮时，首先会弹出「无有效订阅」的提示弹窗，然后再跳转到软件包版本页面。以前版本没有这种逻辑。</li></ul></div><div class="tabs" id="屏蔽pve无有效订阅提示弹窗"><ul class="nav-tabs"><li class="tab active"><a href="#屏蔽pve无有效订阅提示弹窗-1">方法一：修改订阅状态检测逻辑</a></li><li class="tab"><a href="#屏蔽pve无有效订阅提示弹窗-2">方法二：禁用弹窗显示函数</a></li><li class="tab"><a href="#屏蔽pve无有效订阅提示弹窗-3">方法三：重写条件判断表达式</a></li></ul><div class="tab-content"><div class="tab-pane active" id="屏蔽pve无有效订阅提示弹窗-1"><p>这是笔者自行探索总结出来的方法。</p><ul><li>原理：通过修改订阅状态检测的条件判断，将严格不等于<code>!==</code>改为严格等于<code>===</code>，本质上仅替换一个字符。当系统检测订阅状态时，原本需要状态为&quot;active&quot;才不显示警告，修改后只要状态不是&quot;active&quot;就不会触发警告弹窗，从而实现屏蔽了未订阅提示。</li><li>优缺点：<strong>完美适配PVE 9.x版本</strong>，不会导致PVE的WEB后台「软件包版本」按钮无法响应。</li><li>适用PVE版本范围：经测试PVE 8.x和PVE 9.x版本有效，理论上兼容PVE 7.x及以前版本。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak</span><br><span class="line"></span><br><span class="line">line_num=$(grep -n <span class="string">&quot;res.data.status.toLowerCase() !== &#x27;active&#x27;&quot;</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js | <span class="built_in">head</span> -1 | <span class="built_in">cut</span> -d: -f1)</span><br><span class="line">sed -i <span class="string">&quot;<span class="variable">$&#123;line_num&#125;</span>s/!==/===/&quot;</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js</span><br><span class="line"></span><br><span class="line">systemctl restart pveproxy</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="屏蔽pve无有效订阅提示弹窗-2"><p>该方法是从Github上<a target="_blank" rel="noopener" href="https://github.com/Mapleawaa/PVE-Tools-9">PVE-Tools-9</a>项目中找到的。</p><ul><li>原理：通过将Ext.Msg.show函数调用替换为void表达式，使弹窗显示函数失效。void操作符会计算表达式但返回undefined，从而阻止了弹窗的实际显示。</li><li>优缺点：<strong>不能完美适配PVE 9.x版本</strong>，导致PVE的WEB后台「软件包版本」按钮无法响应。</li><li>适用PVE版本范围：理论上兼容所有版本。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak</span><br><span class="line"></span><br><span class="line">sed -Ezi <span class="string">&quot;s/(Ext.Msg.show\(\&#123;\s+title: gettext\(&#x27;No valid sub)/void\(\&#123; \/\/\1/g&quot;</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js</span><br><span class="line"></span><br><span class="line">systemctl restart pveproxy</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="屏蔽pve无有效订阅提示弹窗-3"><p>这是网络上流传最广的方法，绝大部分教程都是基于此方法。</p><ul><li>原理：彻底重写订阅检测的条件判断逻辑，将复杂的条件检查替换为简单的false值。通过两个sed命令分别处理条件语句的起始部分和状态检测部分，使整个条件判断永远返回false，从而跳过弹窗显示代码。</li><li>优缺点：<strong>同方法二，不能完美适配PVE 9.x版本</strong>，会导致「软件包版本」按钮无法响应。</li><li>适用PVE版本范围：理论上兼容所有版本。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak</span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&quot;s/if (res === null || res === undefined || \!res || res/if(/g&quot;</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js</span><br><span class="line">sed -i <span class="string">&quot;s/.data.status.toLowerCase() !== &#x27;active&#x27;/false/g&quot;</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js</span><br><span class="line"></span><br><span class="line">systemctl restart pveproxy</span><br></pre></td></tr></table></figure></div></div></div><div class="flex-column"><img data-src="/images/software/pve/pve-no-subscribe.webp">PVE「无有效订阅」的提示弹窗</div><div class="flex-row"><div class="flex-column"><img data-src="/images/software/pve/pve9x-check-package-version.webp">PVE 9.x版本「软件包版本」按钮的逻辑</div><div class="flex-column"><img data-src="/images/software/pve/pve9x-check-package-version-no-popup.webp">方法一的屏蔽效果：完美适配PVE 9.x版本</div></div><h2 id="替换LXC模板（CT-Templates）镜像源">3.7 &nbsp&nbsp<a href="#替换LXC模板（CT-Templates）镜像源" class="headerlink" title="替换LXC模板（CT Templates）镜像源"></a>替换LXC模板（CT Templates）镜像源</h2><p>修改<code>/usr/share/perl5/PVE/APLInfo.pm</code>文件内容，<strong>针对 <code>/usr/share/perl5/PVE/APLInfo.pm</code> 文件的修改，执行<code>systemctl restart pvedaemon</code>后生效。</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /usr/share/perl5/PVE/APLInfo.pm /usr/share/perl5/PVE/APLInfo.pm.bak</span><br></pre></td></tr></table></figure><div class="tabs" id="lxcsourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#lxcsourcestype-1">PVE LXC模板（CT Templates）（中科大源）</a></li><li class="tab"><a href="#lxcsourcestype-2">PVE LXC模板（CT Templates）（清华源）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="lxcsourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&quot;s#http://download.proxmox.com/images#https://mirrors.ustc.edu.cn/proxmox/images#g&quot;</span> /usr/share/perl5/PVE/APLInfo.pm</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="lxcsourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&quot;s#http://download.proxmox.com/images#https://mirrors.tuna.tsinghua.edu.cn/proxmox/images#g&quot;</span> /usr/share/perl5/PVE/APLInfo.pm</span><br></pre></td></tr></table></figure></div></div></div><h2 id="网卡mac地址绑定网卡名称">3.8 &nbsp&nbsp<a href="#网卡mac地址绑定网卡名称" class="headerlink" title="网卡mac地址绑定网卡名称"></a>网卡mac地址绑定网卡名称</h2><p>如果PVE宿主机经常要变更硬件的话，这个步骤的操作很重要，详看<a href="#PVE%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%9B%B4%E6%9B%BF%E7%A1%AC%E4%BB%B6%E5%90%8E%E5%AF%BC%E8%87%B4%E5%A4%B1%E8%81%94%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%BD%91%E9%A1%B5%E5%90%8E%E5%8F%B0">PVE宿主机更替硬件后导致失联无法访问网页后台</a></p><h2 id="PVE清理旧内核">3.9 &nbsp&nbsp<a href="#PVE清理旧内核" class="headerlink" title="PVE清理旧内核"></a>PVE清理旧内核</h2><p><code>proxmox-boot-tool</code>工具默认会配置当前运行的内核以及两个最新安装的内核，因此在保留最新两个内核的情况下，清理剩余的旧内核即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前内核版本</span></span><br><span class="line"><span class="built_in">uname</span> -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看proxmox-boot-tool工具配置选择的用于启动booting的内核</span></span><br><span class="line">proxmox-boot-tool kernel list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询所有包含kernel关键词的包名及其状态（已安装/已卸载），输出格式为：&lt;包名&gt; &lt;状态&gt;</span></span><br><span class="line">dpkg --get-selections | grep kernel</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询PVE内核包并自动排序，排除当前内核版本，输出格式为：&lt;内核版本&gt;</span></span><br><span class="line">dpkg --list | grep <span class="string">&#x27;kernel-.*-pve&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | grep -v <span class="string">&quot;6.14.11-4-pve&quot;</span> | <span class="built_in">sort</span> -V</span><br></pre></td></tr></table></figure><p>以笔者的情况为例（上述命令输出如下结果），因此后续清理步骤中，保留输出结果中两个内核版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当前内核版本</span></span><br><span class="line">6.14.11-4-pve</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用于启动booting的内核</span></span><br><span class="line">Manually selected kernels:</span><br><span class="line">None.</span><br><span class="line"></span><br><span class="line">Automatically selected kernels:</span><br><span class="line">6.14.11-4-pve</span><br><span class="line">6.8.12-16-pve</span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有kernel包名及其状态</span></span><br><span class="line"><span class="comment"># 有些包状态显示为已卸载，像apt autoremove卸载清理之后就会这样，但dpkg数据库中还存在包的记录，dpkg会标记为已卸载</span></span><br><span class="line">proxmox-default-kernel                          install</span><br><span class="line">proxmox-kernel-6.14                             install</span><br><span class="line">proxmox-kernel-6.14.11-4-pve-signed             install</span><br><span class="line">proxmox-kernel-6.8                              install</span><br><span class="line">proxmox-kernel-6.8.12-10-pve-signed             deinstall</span><br><span class="line">proxmox-kernel-6.8.12-11-pve-signed             deinstall</span><br><span class="line">proxmox-kernel-6.8.12-16-pve-signed             install</span><br><span class="line">proxmox-kernel-6.8.12-9-pve-signed              deinstall</span><br><span class="line">proxmox-kernel-helper                           install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 排除当前内核版本的所有内核包的排序结果</span></span><br><span class="line">proxmox-kernel-6.8.12-9-pve-signed</span><br><span class="line">proxmox-kernel-6.8.12-10-pve-signed</span><br><span class="line">proxmox-kernel-6.8.12-11-pve-signed</span><br><span class="line">proxmox-kernel-6.8.12-16-pve-signed</span><br></pre></td></tr></table></figure><h3 id="方法一：使用社区的内核清理脚本kernel-clean-sh">3.9.1 &nbsp&nbsp<a href="#方法一：使用社区的内核清理脚本kernel-clean-sh" class="headerlink" title="方法一：使用社区的内核清理脚本kernel-clean.sh"></a>方法一：使用社区的内核清理脚本<code>kernel-clean.sh</code></h3><p>下载执行脚本<code>kernel-clean.sh</code>，输入想要卸载的内核版本序列号，有多个则用英文逗号<code>,</code>间隔</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/community-scripts/ProxmoxVE/main/tools/pve/kernel-clean.sh</span><br><span class="line"><span class="built_in">chmod</span> +x kernel-clean.sh</span><br><span class="line">./kernel-clean.sh</span><br></pre></td></tr></table></figure><div class="flex-column"><img data-src="/images/software/pve/kernel-cleaner.webp">kernel-clean.sh清理过程</div><h3 id="方法二：手动清理内核">3.9.2 &nbsp&nbsp<a href="#方法二：手动清理内核" class="headerlink" title="方法二：手动清理内核"></a>方法二：手动清理内核</h3><p>以卸载<code>proxmox-kernel-6.8.12-11-pve-signed</code>内核包为例，执行如下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt purge -y proxmox-kernel-6.8.12-11-pve-signed</span><br><span class="line">apt autoremove -y</span><br><span class="line">update-grub</span><br></pre></td></tr></table></figure><div class="flex-column"><img data-src="/images/software/pve/kernel-cleaner-manual.webp">手动清理内核过程</div><h1 id="PVE安装和使用遇到的坑">4 &nbsp&nbsp<a href="#PVE安装和使用遇到的坑" class="headerlink" title="PVE安装和使用遇到的坑"></a>PVE安装和使用遇到的坑</h1><h2 id="PVE安装到99-时出现unable-to-install-the-EFI-boot-loader-on-dev-sda">4.1 &nbsp&nbsp<a href="#PVE安装到99-时出现unable-to-install-the-EFI-boot-loader-on-dev-sda" class="headerlink" title="PVE安装到99%时出现unable to install the EFI boot loader on &#39;&#x2F;dev&#x2F;sda&#39;"></a>PVE安装到99%时出现unable to install the EFI boot loader on &#39;&#x2F;dev&#x2F;sda&#39;</h2><p>报错信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bootloader setup errors:</span><br><span class="line">- failed to prepare EFI boot using Grub on &#x27;/dev/sda2&#x27;: unable to install the EFI boot loader on &#x27;/dev/sda&#x27;</span><br></pre></td></tr></table></figure><p>原因：PVE 8.0版本镜像īso不兼容N3530工控机，估计是bug。参考其他帖子说的只保留usb的uefi设备，依旧也会报错。并且因为机器的bios设置也比较繁琐，我反复尝试将其设置为csm模式，机器始终无法以csm模式启动，估计该主板的bios也是魔改过有bug的。因此导致也无法以csm模式安装pve。</p><p>解决方法：安装pve 7.4版本，再升级到pve 8.x。</p><h2 id="USB键盘一直插着时会无法响应的，无法进入并操控BIOS，只有CTRL-ALT-DELETE可以响应">4.2 &nbsp&nbsp<a href="#USB键盘一直插着时会无法响应的，无法进入并操控BIOS，只有CTRL-ALT-DELETE可以响应" class="headerlink" title="USB键盘一直插着时会无法响应的，无法进入并操控BIOS，只有CTRL+ALT+DELETE可以响应"></a>USB键盘一直插着时会无法响应的，无法进入并操控BIOS，只有CTRL+ALT+DELETE可以响应</h2><p>原因：推测为N3530工控机BIOS的驱动BUG。</p><p>解决方法：先不插键盘启动机器，看屏幕右下角等待主板自检代码走到99阶段，快速插上键盘，摁DEL键。如果一次不成功，就使用<code>CTRL+ALT+DELETE</code>强制重启，继续尝试该操作。</p><h2 id="hdmi屏幕不显bios">4.3 &nbsp&nbsp<a href="#hdmi屏幕不显bios" class="headerlink" title="hdmi屏幕不显bios"></a>hdmi屏幕不显bios</h2><p>N3530工控机主板BIOS内置驱动对普通HDMI小屏幕兼容性不好，只有成功启动PVE系统后才会正常显示画面，而在自检阶段和BIOS界面只会显示白屏或者花屏，接大屏驱动板兼容性好点。</p><h2 id="后面加装的RTL8211网卡不识别">4.4 &nbsp&nbsp<a href="#后面加装的RTL8211网卡不识别" class="headerlink" title="后面加装的RTL8211网卡不识别"></a>后面加装的RTL8211网卡不识别</h2><p>原因：因为安装pve系统之前未加装好螃蟹卡RTL8111，因此后续加装之后，pve系统并未识别到。</p><p>解决方法：重装pve系统。（驱动源码编译方案，也有编译报错，不好解决，推荐是重装pve，让pve自动打驱动）</p><h2 id="工控机重启bug，看门狗导致重启很长时间">4.5 &nbsp&nbsp<a href="#工控机重启bug，看门狗导致重启很长时间" class="headerlink" title="工控机重启bug，看门狗导致重启很长时间"></a>工控机重启bug，看门狗导致重启很长时间</h2><p>原因：未查明，只要一重启，就会长时间卡在看门狗的错误提示。</p><p>错误提示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">watchgod: watchdog0: watchdog did<span class="string">&#x27;t did not stop!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">systemd-shutdown: Failed to finalzie DM services, ignorening.</span></span><br></pre></td></tr></table></figure><p>解决方法：无法解决，只能长时间等待完成重启或者强制关机重开。</p><p><strong>P.S. 尝试在主板BIOS中主动启用看门狗计时器设置<code>Advanced-&gt;SIO MISC Configuration-&gt;Watchdog Dog Timer-&gt;Enabled</code>仍无法解决，该问题暂未查明原因。</strong></p><h2 id="Repository-Debian-bookworm-changed-its-non-free-component-value-from-non-free-to-non-free-non-free-firmware">4.6 &nbsp&nbsp<a href="#Repository-Debian-bookworm-changed-its-non-free-component-value-from-non-free-to-non-free-non-free-firmware" class="headerlink" title="Repository &#39;Debian bookworm&#39; changed its &#39;non-free component&#39; value from &#39;non-free&#39; to &#39;non-free non-free-firmware&#39;"></a>Repository &#39;Debian bookworm&#39; changed its &#39;non-free component&#39; value from &#39;non-free&#39; to &#39;non-free non-free-firmware&#39;</h2><p>问题现象：运行<code>apt update</code>出现报错：Repository &#39;Debian bookworm&#39; changed its &#39;non-free component&#39; value from &#39;non-free&#39; to &#39;non-free non-free-firmware&#39;</p><p>问题原因：Debian 12版本（bookworm）的非自有固件包（如硬件驱动程序）不再放在non-free目录中，而是non-free-firmware目录。</p><p>解决方法1（修正<code>/etc/apt/sources.list</code>软件源）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 确保软件源中添加了non-free-firmware目录，而不仅仅只有non-free目录</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure><p>解决方法2（直接屏蔽该错误）：<br>创建一个文件<code>/etc/apt/apt.conf.d/no-bookworm-firmware.conf</code>，写入内容如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">APT::Get::Update::SourceListWarnings::NonFreeFirmware <span class="string">&quot;false&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="安装独立显卡的机器中PVE系统里面识别不到核显设备">4.7 &nbsp&nbsp<a href="#安装独立显卡的机器中PVE系统里面识别不到核显设备" class="headerlink" title="安装独立显卡的机器中PVE系统里面识别不到核显设备"></a>安装独立显卡的机器中PVE系统里面识别不到核显设备</h2><p>问题现象：华硕Z690-A Gaming WiFi D4主板在安装独立显卡后，运行<code>ls pci | grep VGA</code>找不到核显的VGA设备。</p><p>问题原因：主板BIOS未有开启核显。</p><p>解决方法：</p><ul><li>开启iGPU设置：<code>Advanced-&gt;System Agent (SA) Configuration-&gt;Graphics Configuration-&gt;iGPU Multi-Monitor-&gt;Enabled</code><ul><li>Intel 11代及以后的CPU核显不支持传统Legacy显示方式，如果看不到在主板BIOS中找不到iGPU设置选项的话，请设置关闭CSM：<code>BOOT-&gt;CSM (Compatibility Support Module)-&gt;Launch CSM-&gt;Disabled</code></li></ul></li><li>设置首选显示设备为核显：<code>Advanced-&gt;System Agent (SA) Configuration-&gt;Graphics Configuration-&gt;Primary Display-&gt;CPU Graphics</code><ul><li>一般其他主板型号可能有的选项值：<ul><li>Auto</li><li>CPU Graphics：核显</li><li>PEG Slot (PCI-e Graphics Device)：独立显卡</li><li>PCIE (PCI-e Graphics Device)</li><li>IGD (Internal Graphics Device)：一般多指核显，除非主板自带有北桥显示芯片</li><li>PCI (PCI Graphics Device)</li></ul></li></ul></li></ul><h2 id="PVE概要页面利用率图标信息无法显示">4.8 &nbsp&nbsp<a href="#PVE概要页面利用率图标信息无法显示" class="headerlink" title="PVE概要页面利用率图标信息无法显示"></a>PVE概要页面利用率图标信息无法显示</h2><p>问题原因：rrdcached服务异常，某些情况下也可能会导致所有虚拟机显示「状态: unknown」。</p><p>解决方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop rrdcached</span><br><span class="line"><span class="built_in">rm</span> -rf /var/lib/rrdcached/*</span><br><span class="line"><span class="comment"># 或者mv /var/lib/rrdcached /var/lib/rrdcached.bck</span></span><br><span class="line">systemctl start rrdcached</span><br></pre></td></tr></table></figure><h2 id="PVE面板节点和所有虚拟机显示「状态-unknown」，虚拟机正常运行">4.9 &nbsp&nbsp<a href="#PVE面板节点和所有虚拟机显示「状态-unknown」，虚拟机正常运行" class="headerlink" title="PVE面板节点和所有虚拟机显示「状态: unknown」，虚拟机正常运行"></a>PVE面板节点和所有虚拟机显示「状态: unknown」，虚拟机正常运行</h2><p>问题原因：pve的节点状态守护程序<code>pvestatd</code>异常。</p><p>解决方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看状态和重启服务</span></span><br><span class="line">systemctl status pvestatd</span><br><span class="line">systemctl restart pvestatd</span><br></pre></td></tr></table></figure><h2 id="使用ventoy引导安装PVE后，无法正常启动PVE">4.10 &nbsp&nbsp<a href="#使用ventoy引导安装PVE后，无法正常启动PVE" class="headerlink" title="使用ventoy引导安装PVE后，无法正常启动PVE"></a>使用ventoy引导安装PVE后，无法正常启动PVE</h2><p>问题：使用ventoy引导安装PVE后，安装完成重启，初次开机就卡在<code>loading initial ramdisk</code>或者黑屏</p><p>原因：因为ventoy偷偷给PVE添加启动内核参数<code>rdinit=/vtoy/vtoy</code>。据反复实验，在ventoy使用grub模式加载PVE镜像引导的话，这个参数百分百会被偷偷加入，使用正常UEFI模式加载偶尔会出现这种情况。测试使用的ventoy版本为v1.1.05。</p><p>解决方法：</p><ol><li>强制重启主机，在出现PVE引导菜单时，按E键，进入grub编辑模式</li><li>方向键定位到<code>linux</code>开头一行，删除<code>rdinit=/vtoy/vtoy</code>参数，Ctrl+X启动配置，进入系统引导加载启动。</li><li>登录PVE终端后台</li><li>查看并修改所有涉及内核参数的文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/default/grub</span><br><span class="line"><span class="comment"># 若有修改，执行更新</span></span><br><span class="line">update-grub</span><br><span class="line"></span><br><span class="line">nano /etc/kernel/cmdline</span><br><span class="line"><span class="comment"># 若有修改，执行更新</span></span><br><span class="line">proxmox-boot-tool refresh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果上述两个文件都不存在该参数，尝试检查以下文件</span></span><br><span class="line">/boot/grub/grub.cfg</span><br><span class="line">/etc/default/grub.d/init-select.cfg</span><br><span class="line">/etc/default/grub.d/installer.cfg</span><br><span class="line">/etc/default/proxmox-ve.cfg</span><br><span class="line">/etc/default/grub.ucf-dist</span><br></pre></td></tr></table></figure><ol start="5"><li>移除参数后，重启机器，PVE启动应该就能恢复正常</li></ol><h2 id="KVM和LXC被锁定lock无法启动">4.11 &nbsp&nbsp<a href="#KVM和LXC被锁定lock无法启动" class="headerlink" title="KVM和LXC被锁定lock无法启动"></a>KVM和LXC被锁定lock无法启动</h2><p>原因：回滚快照或者备份被异常中断都可能导致出现这种情况，对应的虚拟机状态可以看见一个被锁的图标。</p><p>解决方法：</p><ul><li>KVM虚拟机解锁命名：<code>qm unlock vmid</code>，例如<code>qm unlock 100</code>。</li><li>LXC虚拟机解锁命名：<code>pct unlock vmid</code>，例如<code>pct unlock 101</code>。</li></ul><h2 id="Intel-13-14代CPU搭建的PVE机器频繁宕机">4.12 &nbsp&nbsp<a href="#Intel-13-14代CPU搭建的PVE机器频繁宕机" class="headerlink" title="Intel 13&#x2F;14代CPU搭建的PVE机器频繁宕机"></a>Intel 13&#x2F;14代CPU搭建的PVE机器频繁宕机</h2><p>问题现象：Intel 13&#x2F;14代CPU搭建的PVE机器经常会出现宕机现象，基本每隔两天就会出现失联，ssh也无法正常连接到PVE。此外还有一个很严重的现象，即未设置任何硬件直通的内核启动参数情况下，仍然会导致十分随机的PVE系统启动卡住现象或者出现随机启动报错，包括并不仅限于：</p><ul><li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Magic_Engine/article/details/144424476">PVE启动卡在loading initial ramdisk</a></li><li><a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/proxmox-stuck-in-dev-mapper-pve-root-clean.154567/">Proxmox stuck in &#x2F;dev&#x2F;mapper&#x2F;pve-root: clean</a>：光标在下一行，并且光标不会闪烁，就显示一个下划线<code>_</code>。</li><li><code>BUG: Bad page state in process init pfn:11386d</code></li><li>启动虚拟机经常遇到：<a target="_blank" rel="noopener" href="https://github.com/lxc/lxc/issues/2678">Failed to create the configured network</a>，从而导致无法启动</li><li>无法正常卸载分区，reboot系统也会卡住在<code>unmount filesystem xxxx</code>（xxxx指UUID）</li><li>导致PBS备份失败：<a href="#ERROR-Backup-of-VM-102-failed-lvcreate-snapshot-pve-snap-vm-102-disk-0-vzdump-error">ERROR: Backup of VM 102 failed - lvcreate snapshot &#39;pve&#x2F;snap_vm-102-disk-0_vzdump&#39; error</a></li></ul><p>问题原因：CPU缩缸（辣鸡Intel(ಥ﹏ಥ)）。相信我，修改grub引导参数设置<code>nomodeset</code>什么的都不管用的，仍然是随机崩溃宕机或者开机随机卡住。</p><p>解决方法：为CPU设置BIOS锁频和稳压，确保CPU可以稳定运行工作。</p><div class="note default no-icon"><p>如果是1265u的机器，可能是C状态的问题。编辑<code>/etc/default/grub</code>，在<code>GRUB_CMDLINE_LINUX_DEFAULT</code>追加<code>intel_idle.max_cstate=2</code>参数，然后<code>update-grub</code>，最后在BIOS中设置关闭C状态。</p></div><h2 id="安装独立显卡的机器启动异常的参数调整">4.13 &nbsp&nbsp<a href="#安装独立显卡的机器启动异常的参数调整" class="headerlink" title="安装独立显卡的机器启动异常的参数调整"></a>安装独立显卡的机器启动异常的参数调整</h2><p>TODO。该问题主要是输出显示的问题（系统未能选择正确的显示输出方式），BIOS可以设置参数调整。另外修改grub参数也能忽略设备异常启动，但这种方式是临时使用，不建议用于正式环境。<br>拆开独显，只留核显安装pve，可以不用改任何参数。</p><h2 id="PVE宕机故障的排查手段">4.14 &nbsp&nbsp<a href="#PVE宕机故障的排查手段" class="headerlink" title="PVE宕机故障的排查手段"></a>PVE宕机故障的排查手段</h2><ul><li>PVE管理后台-&gt;PVE节点-&gt;系统-&gt;系统日志</li><li>排障思路：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看系统版本</span></span><br><span class="line"><span class="built_in">uname</span> -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看PVE版本</span></span><br><span class="line">pveversion -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看PVE启动日志</span></span><br><span class="line"><span class="built_in">cd</span> /var/log</span><br><span class="line">last</span><br></pre></td></tr></table></figure><h2 id="PVE宿主机更替硬件后导致失联无法访问网页后台">4.15 &nbsp&nbsp<a href="#PVE宿主机更替硬件后导致失联无法访问网页后台" class="headerlink" title="PVE宿主机更替硬件后导致失联无法访问网页后台"></a>PVE宿主机更替硬件后导致失联无法访问网页后台</h2><p>问题现象：PVE更替硬件，重新开机后，直连PVE主机显示器显示启动正常，但是无法通过IP地址访问PVE管理后台。</p><p>原因：PVE更替硬件，例如加装或者拆卸网卡&#x2F;硬盘&#x2F;显卡等设置，会导致PCI设备变动，对应的PCI编号变更。这样会导致网卡名称发生变动，但是PVE自身没法自动识别和更新这些信息，网络接口信息<code>/etc/network/interfaces</code>仍然是记录着旧的网卡名称信息，因此重启开机后就失联无法访问。</p><p>解决方法：</p><ul><li>永久解决方案（推荐）：使用.link文件固定网卡名字<ol><li>查看当前所有物理网卡的MAC地址<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ip addr</span><br><span class="line"><span class="comment"># 输出信息中lan开头设备就是物理网卡，其中00:03:ee:00:xx:dc就是lan1的MAC地址</span></span><br><span class="line"><span class="comment"># lan1: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq master vmbr3 state DOWN group default qlen 1000</span></span><br><span class="line"><span class="comment"># link/ether 00:03:ee:00:xx:dc brd ff:ff:ff:ff:ff:ff</span></span><br></pre></td></tr></table></figure></li><li>在<code>/etc/systemd/network/</code>路径下创建网卡对应的.link文件<code>10-persistent-net.link</code>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Match]</span><br><span class="line">MACAddress=00:03:ee:00:xx:dc</span><br><span class="line"></span><br><span class="line">[Link]</span><br><span class="line">Name=lan1</span><br></pre></td></tr></table></figure></li><li>其余网卡就按照<code>1[x]-persistent-net.link</code>和<code>lan[x]</code>的命名方式创建.link文件和设置网卡名称即可。</li></ol></li><li>临时解决方案（不推荐）：显示器直连PVE宿主机器，登录帐号。但这个方法不推荐，如果机器网卡很多的话，压根无法知道哪个网卡是以前的管理口。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前所有网卡名称</span></span><br><span class="line">ip addr</span><br><span class="line"><span class="comment"># 把查看到新的网卡名称，更新到/etc/network/interfaces文件中</span></span><br><span class="line">nano /etc/network/interfaces</span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure></li></ul><h1 id="PVE硬件直通">5 &nbsp&nbsp<a href="#PVE硬件直通" class="headerlink" title="PVE硬件直通"></a>PVE硬件直通</h1><div class="note danger no-icon"><p>如果机器本身就支持VT-X和VT-d等CPU虚拟化和直通硬件功能，则PVE启用IOMMU方面不需要额外设置。只需要设置好主板BIOS对应的CPU虚拟化和直通硬件功能即可，因为安装PVE系统阶段就会自动设置好启动IOMMU。</p></div><p>IOMMU允许系统设备在虚拟内存中进行寻址，也就是将虚拟内存地址映射为物理内存地址，让实体设备可以在虚拟的内存环境中工作，这样可以帮助系统扩充内存容量，提升性能。</p><p>换而言之，IOMMU可以使VM虚拟机能够接入一些物理设备，比如PCIe中的网卡、声卡、显卡，VM虚拟机可以直接或间接使用这些设备。</p><blockquote><p>在创建虚拟机时，芯片组一定要q35。因为Q35，才能PCIE直通，否则就是PCI直通。</p></blockquote><h2 id="检查硬件是否支持直通（BIOS内查看Advanced高级选项）">5.1 &nbsp&nbsp<a href="#检查硬件是否支持直通（BIOS内查看Advanced高级选项）" class="headerlink" title="检查硬件是否支持直通（BIOS内查看Advanced高级选项）"></a>检查硬件是否支持直通（BIOS内查看Advanced高级选项）</h2><ol><li>开启CPU虚拟化：Intel: VT-X(Intel Virtual Technology)。AMD: AMD-V(SVM, Secure Virtual Machine)。</li><li>开启硬件直通功能：Intel: Intel VT-d。AMD: IOMMU。</li><li>部分主板会有和Intel VT-d&#x2F;IOMMU相关联的<code>Memory Remap Feature</code>设置。</li></ol><div class="note danger no-icon"><p>如果主板BIOS中没有VT-d或者IOMMU功能选项，则很可能不支持直通硬件功能。一般确认CPU是否支持该特性即可，例如确认Intel CPU是否支持VT-d，请查询Intel 官方CPU SKU规格页面资料即可。</p></div><div class="note info no-icon"><p>若机器CPU明确支持VT-d特性，但在主板BIOS中却找不到该选项的话，则很可能是机器主板BIOS默认设置关闭，并隐藏了该设置选项（这种情况常见于笔记本主板或者工控机主板）。</p><p>解决方法：使用<code>UniversalAMDFormBrowser</code>工具查看隐藏设定并开启。</p><ol><li>下载<code>UniversalAMDFormBrowser</code>工具<ul><li><strong>方案1（推荐）</strong>：<a target="_blank" rel="noopener" href="https://github.com/mio-19/UniversalAMDFormBrowser-Ventoy">UniversalAMDFormBrowser-Ventoy</a>的<code>UniversalAMDFormBrowser.img</code>文件：该方案只需要将img文件拷贝到ventoy引导盘即可。</li><li>方案2：<a target="_blank" rel="noopener" href="https://github.com/DavidS95/Smokeless_UMAF">Smokeless_UMAF</a>的<code>UniversalAMDFormBrowser.zip</code>文件：该方案需要制作FAT32分区格式的U盘制作引导盘。</li></ul></li><li>重启机器，选择U盘启动项，引导加载<code>UniversalAMDFormBrowser</code>镜像。</li><li>在<code>UniversalAMDFormBrowser</code>中查看隐藏设定，例如隐藏的VT-d选项或者解除功耗限制选项等。</li></ol></div><h2 id="PVE提示No-IOMMU-detected">5.2 &nbsp&nbsp<a href="#PVE提示No-IOMMU-detected" class="headerlink" title="PVE提示No IOMMU detected"></a>PVE提示<code>No IOMMU detected</code></h2><p>当pve未启用IOMMU或者硬件不支持直通（即使手动设置PVE开启IOMMU）时，在ProxmoxVE(PVE)的VM&#x2F;VPS中添加PCI设备时候提示：<code>No IOMMU detected, please activate it.See Documentation for further information</code>.</p><p>解决方法：请确认自己的机器是否支持VT-X和VT-d等CPU虚拟化和直通硬件功能，并是否已开启IOMMU。若硬件不支持，建议更换支持这些功能特性的硬件设备。</p><h2 id="PVE启用IOMMU">5.3 &nbsp&nbsp<a href="#PVE启用IOMMU" class="headerlink" title="PVE启用IOMMU"></a>PVE启用IOMMU</h2><div class="note info no-icon"><p>内核版本为5.15或之前的，在ProxmoxVE(PVE)系统内核中，需要手动启用IOMMU。5.15版本以后的ProxmoxVE(PVE)系统内核自带默认开启了IOMMU支持。</p><p>但我的硬件（N3530工控机）本身不支持VT-d功能（<a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/81074/intel-pentium-processor-n3530-2m-cache-up-to-2-58-ghz/specifications.html">N3530 SKU规格页面明确写到不支持VT-d</a>），因此安装PVE时并未自动启用IOMMU。</p></div><div class="tabs" id="引导类型"><ul class="nav-tabs"><li class="tab active"><a href="#引导类型-1">GRUD引导类型（PVE默认引导方式）</a></li><li class="tab"><a href="#引导类型-2">systemd-boot引导类型（非PVE现行版本常见引导方式）</a></li></ul><div class="tab-content"><div class="tab-pane active" id="引导类型-1"><ol><li>编辑grub文件：<code>nano /etc/default/grub</code></li><li>找到GRUB_CMDLINE_LINUX_DEFAULT这一行：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">GRUB_DEFAULT=0</span><br><span class="line">GRUB_TIMEOUT=5</span><br><span class="line">GRUB_DISTRIBUTOR=`lsb_release -i -s &lt;strong&gt;2&lt;/strong&gt;&gt; /dev/null || echo Debian`</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet&quot;</span><br><span class="line">GRUB_CMDLINE_LINUX=&quot;&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ol start="3"><li>根据CPU类型修改</li></ol><div class="tabs" id="grub-cpu类型"><ul class="nav-tabs"><li class="tab active"><a href="#grub-cpu类型-1">Intel CPU</a></li><li class="tab"><a href="#grub-cpu类型-2">AMD CPU</a></li></ul><div class="tab-content"><div class="tab-pane active" id="grub-cpu类型-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet intel_iommu=on&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="grub-cpu类型-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet amd_iommu=on&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></div></div></div>4. 更新grub：`update-grub` 5. 重启PVE</div><div class="tab-pane" id="引导类型-2"><ol><li>编辑cmdline：<code>nano /etc/kernel/cmdline</code>。（若不存在，则新建该文件）</li><li>根据CPU类型在第一行末尾添加：</li></ol><div class="tabs" id="systemd-boot-cpu类型"><ul class="nav-tabs"><li class="tab active"><a href="#systemd-boot-cpu类型-1">Intel CPU</a></li><li class="tab"><a href="#systemd-boot-cpu类型-2">AMD CPU</a></li></ul><div class="tab-content"><div class="tab-pane active" id="systemd-boot-cpu类型-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quiet intel_iommu=on</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="systemd-boot-cpu类型-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quiet amd_iommu=on</span><br></pre></td></tr></table></figure></div></div></div></div></div></div><h2 id="验证PVE的IOMMU是否启用">5.4 &nbsp&nbsp<a href="#验证PVE的IOMMU是否启用" class="headerlink" title="验证PVE的IOMMU是否启用"></a>验证PVE的IOMMU是否启用</h2><ol><li>查询命令：<code>dmesg | grep -e DMAR -e IOMMU</code>。输出显示<code>DMAR: IOMMU enabled</code>或者<code>DMAR: Intel(R) Virtualization Technology for Directed I/O</code>证明已启用。</li><li>实操验证：虚拟机分配PCI设备时可见。</li></ol><h2 id="PVE启用PT模式">5.5 &nbsp&nbsp<a href="#PVE启用PT模式" class="headerlink" title="PVE启用PT模式"></a>PVE启用PT模式</h2><div class="note info no-icon"><p>PT模式：会在IOMMU需要使用时候启动，适配器不需要使用 DMA 转换到内存，因此可以提高其他没有分配过设备的性能。</p></div><ol><li>编辑grub文件：<code>nano /etc/default/grub</code></li><li>找到GRUB_CMDLINE_LINUX_DEFAULT这一行：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">GRUB_DEFAULT=0</span><br><span class="line">GRUB_TIMEOUT=5</span><br><span class="line">GRUB_DISTRIBUTOR=`lsb_release -i -s &lt;strong&gt;2&lt;/strong&gt;&gt; /dev/null || echo Debian`</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet&quot;</span><br><span class="line">GRUB_CMDLINE_LINUX=&quot;&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ol start="3"><li>附加参数iommu&#x3D;pt，Intel和AMD芯片均可使用这个参数。</li><li>添加模块设置（5.4内核需自行添加，现行版本自带有添加）：<code>nano /etc/modules</code>。没有如下内容需添加。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vfio</span><br><span class="line">vfio_iommu_type1</span><br><span class="line">vfio_pci</span><br><span class="line">vfio_virqfd</span><br></pre></td></tr></table></figure><ol start="5"><li>刷新 initramfs：<code>update-initramfs -u -k all</code></li><li>更新 grub：<code>update-grub</code></li></ol><h2 id="直通i9-13900K核显UHD770给虚拟机Windows11">5.6 &nbsp&nbsp<a href="#直通i9-13900K核显UHD770给虚拟机Windows11" class="headerlink" title="直通i9-13900K核显UHD770给虚拟机Windows11"></a>直通i9-13900K核显UHD770给虚拟机Windows11</h2><h3 id="Intel-核显直通-optionROM方案">5.6.1 &nbsp&nbsp<a href="#Intel-核显直通-optionROM方案" class="headerlink" title="Intel 核显直通 optionROM方案"></a>Intel 核显直通 optionROM方案</h3><div class="note danger no-icon"><p>QEMU 9.2.0后的版本无法使用igd的ROM直通核显。例如PVE8.3.1版本的QEMU就不支持。回退到9.1.3版本再操作直通核显：<code>apt install pve-qemu-kvm=9.1.2-3</code>。</p><p>注意BIOS设定：DVMT pre allocated，不要大过64M，64M对应x-igd-gms&#x3D;0x2，如果超过64M,x-igd-gms要加大！</p></div><ol><li>访问<a target="_blank" rel="noopener" href="https://github.com/gangqizai/igd">igd</a>仓库，在仓库代码根路径下，下载<a target="_blank" rel="noopener" href="https://github.com/gangqizai/igd/blob/main/gen12_gop.rom"><code>gen12_gop.rom</code></a>和<a target="_blank" rel="noopener" href="https://github.com/gangqizai/igd/blob/main/gen12_igd.rom"><code>gen12_igd.rom</code></a>两个文件。</li><li>将这两个文件复制到<code>/usr/share/kvm/</code>目录下。</li><li>编辑Windows虚拟机配置文件（示例Windows虚拟机ID为103）：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/pve/qemu-server/103.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加下面三行</span></span><br><span class="line">args: -<span class="built_in">set</span> device.hostpci0.addr=02.0 -<span class="built_in">set</span> device.hostpci0.x-igd-gms=0x2 -<span class="built_in">set</span> device.hostpci0.x-igd-opregion=on -debugcon fil&gt;bios: ovmf</span><br><span class="line">hostpci0: 0000:00:02.0,legacy-igd=1,romfile=gen12_igd.rom</span><br><span class="line">hostpci1: 0000:00:1f.3,romfile=gen12_gop.rom</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以下是测试工作正常的完整配置</span></span><br><span class="line">args: -<span class="built_in">set</span> device.hostpci0.addr=02.0 -<span class="built_in">set</span> device.hostpci0.x-igd-gms=0x2 -<span class="built_in">set</span> device.hostpci0.x-igd-opregion=on</span><br><span class="line">bios: ovmf</span><br><span class="line">boot: order=sata0</span><br><span class="line">cores: 16</span><br><span class="line">cpu: host</span><br><span class="line">efidisk0: local-lvm:vm-103-disk-0,efitype=4m,size=4M</span><br><span class="line">hostpci0: 0000:00:02.0,legacy-igd=1,romfile=gen12_igd.rom</span><br><span class="line">hostpci1: 0000:00:1f.3,romfile=gen12_gop.rom</span><br><span class="line">machine: pc-i440fx-8.0</span><br><span class="line">memory: 20480</span><br><span class="line">meta: creation-qemu=9.2.0,ctime=1744108457</span><br><span class="line">name: windows</span><br><span class="line">net0: virtio=BC:24:11:C9:53:72,bridge=vmbr1,firewall=1</span><br><span class="line">numa: 0</span><br><span class="line">onboot: 1</span><br><span class="line">ostype: win11</span><br><span class="line">sata0: local-lvm:vm-103-disk-1,size=200G,ssd=1</span><br><span class="line">sata1: win-hdd:103/vm-103-disk-0.raw,backup=0,size=1007G</span><br><span class="line">scsihw: virtio-scsi-single</span><br><span class="line">smbios1: uuid=eddc911c-c81f-4d48-9ae2-f8c7f6cee2c5</span><br><span class="line">sockets: 1</span><br><span class="line">startup: order=4,up=1</span><br><span class="line">tpmstate0: local-lvm:vm-103-disk-2,size=4M,version=v2.0</span><br><span class="line">vga: none</span><br><span class="line">vmgenid: dc473f54-0098-45f9-92b8-d99320460696</span><br></pre></td></tr></table></figure><ol start="4"><li>注意在启动前，将虚拟机-&gt;硬件-&gt;显示-&gt;设置为「无 (none)」，即对应虚拟机配置文件的参数：<code>vga: none</code></li><li>通过远程桌面连接RDP接入虚拟机系统，下载并安装最新的Intel的核显驱动（已测试正常的驱动版本<code>32.0.101.6732</code>，驱动程序日期：2025&#x2F;4&#x2F;1）。</li></ol><h1 id="创建PVE虚拟机KVM">6 &nbsp&nbsp<a href="#创建PVE虚拟机KVM" class="headerlink" title="创建PVE虚拟机KVM"></a>创建PVE虚拟机KVM</h1><div class="note primary no-icon"><p>从配置文件中修改虚拟机KVM的配置参数（请自行修改对应ID）：<code>nano /etc/pve/qemu-server/103.conf</code></p></div><h2 id="安装爱快iKuai（KVM虚拟机">6.1 &nbsp&nbsp<a href="#安装爱快iKuai（KVM虚拟机" class="headerlink" title="安装爱快iKuai（KVM虚拟机)"></a>安装爱快iKuai（KVM虚拟机)</h2><ol><li>下载iKuai镜像：<a target="_blank" rel="noopener" href="https://www.ikuai8.com/component/download">点击跳转</a></li><li>local-内容-上传：iKuai的安装镜像文件。</li><li>创建虚拟机，命名虚拟机名称iKuai，VM编号100。</li><li>CD&#x2F;DVD光盘镜像文件选择刚上传的ISO镜像。</li><li>主硬盘分配2G，额外添加EFI磁盘（不勾选添加密钥），CPU给4核（host），内存分配4G（64位iKuai要求4G内存），网卡模型选择VirtIO（半虚拟化）。</li><li>完成新建后，在硬件标签页中继续完成添加所有网桥，网桥的防火墙全部关掉（使用iKuai的），模型都选择半虚拟化。</li><li>在选项标签页中把「开机自启动」开启，启动顺序设置为1，引导顺序只开disk‘xxxx’磁盘，把网络启动关掉，CD启动上移到第一位。</li><li>点击启动虚拟机，完成安装即可。</li><li>iKuai内识别的第一个网卡设置为lan1。</li><li>输入字母o回车进入其「其他选项」，开启外网访问web。</li><li>访问WEB管理地址并登录：<a target="_blank" rel="noopener" href="http://192.168.1.1/">http://192.168.1.1:80</a>。默认账户：admin。默认密码：admin。</li></ol><h2 id="安装及配置飞牛私有云fnOS（KVM虚拟机）">6.2 &nbsp&nbsp<a href="#安装及配置飞牛私有云fnOS（KVM虚拟机）" class="headerlink" title="安装及配置飞牛私有云fnOS（KVM虚拟机）"></a>安装及配置飞牛私有云fnOS（KVM虚拟机）</h2><ol><li>下载飞牛私有云fnOS镜像：<a target="_blank" rel="noopener" href="https://www.fnnas.com/download">点击跳转</a></li><li>local-内容-上传：fnOS的安装镜像文件。</li><li>创建虚拟机，命名虚拟机名称fnOS，VM编号102。</li><li>CD&#x2F;DVD光盘镜像文件选择刚上传的ISO镜像。</li><li>主硬盘分配64G，额外添加EFI磁盘（不勾选添加密钥），CPU给4核（host），内存分配6G（fnOS系统内存需求还是有点大的），网卡模型选择VirtIO（半虚拟化）。<ul><li>其他硬盘后续自行根据需求添加。</li></ul></li><li>网桥只选择第五个网桥（用作iKuai和fnOS之间的传输），网卡的防火墙全部关掉（使用iKuai的），模型选择半虚拟化。</li><li>在选项标签页中把「开机自启动」开启，启动顺序设置为3，引导顺序只开disk‘xxxx’磁盘，把网络启动关掉，CD启动上移到第一位。</li><li>点击启动虚拟机。</li><li>选择<code>Graphical Install</code>进行图形化安装流程。</li><li>选择系统主硬盘进行安装。</li><li>系统分区大小：64GB；Swap大小：0GB。（有论坛帖子反馈开启<code>Swap cache</code>时，某些下载应用例如<code>QBittorrent</code>可能会引导硬盘持续读取和CPU的异常占用。永久禁用Swap还需要修改fstab文件。）</li><li>点击确认安装，选择网卡界面，直接默认选项确认即可。</li><li>安装完成后，点击确认开始重启。摁<code>ESC</code>键，进入虚拟机BIOS设置界面，重新选择硬盘分区作为启动项启动。（否则默认启动CD）</li><li>出现<code>Debian GNU/Linux</code>系统引导选项就是安装成功了</li><li>进入到传统Linux登录界面（无GUI），这里能看到WEB管理地址。若需要固定IP地址，在<code>iKuai</code>中找到对应MAC地址加入静态分配表即可。</li><li>访问WEB管理地址并登录：<a target="_blank" rel="noopener" href="http://192.168.1.5:5666/">http://192.168.1.5:5666/</a>。首次访问会提示创建NAS<code>设备名称``超级管理员账号``密码``确认密码</code>。</li></ol><h3 id="飞牛私有云fnOS的硬件直通设置">6.2.1 &nbsp&nbsp<a href="#飞牛私有云fnOS的硬件直通设置" class="headerlink" title="飞牛私有云fnOS的硬件直通设置"></a>飞牛私有云fnOS的硬件直通设置</h3><p>新版PVE（5.15 版本以后）无需额外设置什么直通参数，系统内核自带默认开启了IOMMU支持。</p><p>需要额外注意的一点是：安装飞牛系统时先不要加PCI设备，照常安装飞牛fnOS系统，正常设置完成之后，再关闭虚拟机添加PCI设备，例如核显和sata控制器（添加PCI设备-&gt;原始设备时，按默认参数即可，也无需勾选「所有功能」）。</p><ul><li>核显设备：Alder Lake-S GT1 [UHD Graphics 730]</li><li>SATA控制器：Alder Lake-S PCH SATA Controller [AHCI Mode]</li></ul><h2 id="安装OpenWrt（KVM虚拟机）">6.3 &nbsp&nbsp<a href="#安装OpenWrt（KVM虚拟机）" class="headerlink" title="安装OpenWrt（KVM虚拟机）"></a>安装OpenWrt（KVM虚拟机）</h2><h3 id="OpenWrt镜像的选择">6.3.1 &nbsp&nbsp<a href="#OpenWrt镜像的选择" class="headerlink" title="OpenWrt镜像的选择"></a>OpenWrt镜像的选择</h3><ul><li><a target="_blank" rel="noopener" href="https://openwrt.mpdn.fun:8443/?dir=lede/x86_64">Bleach OpenWrt</a>：推荐（本教程使用该固件）。内置SmartDNS，软件包空间设置为1G，剩余五百多兆。</li><li><a target="_blank" rel="noopener" href="https://drive.google.com/drive/folders/1PsS3c0P7a4A4KY8plQg4Fla8ZI-PGBb1">eSir GDQ 高大全</a>：eSir的高大全固件。不推荐。没有内置SmartDNS拓展（我测试时安装SmartDNS并未出现有服务项，无效）。并且相较于Blench版本，较为繁琐。软件包空间只剩余几兆，需自己手动扩盘。</li></ul><h3 id="安装步骤">6.3.2 &nbsp&nbsp<a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><ol><li>创建虚拟机，命名虚拟机名称openwrt，VM编号101。</li><li>CD&#x2F;DVD光盘镜像文件设置为无介质。</li><li>主硬盘随便分配（后续会删除），额外添加EFI磁盘（不勾选添加密钥），CPU给4核（KVM64），内存分配4G，网卡模型选择VirtIO（半虚拟化）。</li><li>网桥只选择第四个网桥（用作iKuai和OpenWrt之间的传输），网卡的防火墙全部关掉（使用iKuai的），模型选择半虚拟化。</li><li>下载OpenWrt镜像：<a href="#OpenWrt%E9%95%9C%E5%83%8F%E7%9A%84%E9%80%89%E6%8B%A9">见上一小节</a></li><li>local-内容-上传：OpenWrt的镜像文件。</li><li>向虚拟机导入OpenWrt镜像：<code>qm importdisk 101 /var/lib/vz/template/iso/bleach-plus-20230826-openwrt-x86-64-generic-squashfs-combined-efi.img local-lvm</code>。（直接写盘即可，无需安装）。</li><li>在pve管理页面中，加载刚才导入镜像生成的磁盘。</li><li>在选项标签页中把「开机自启动」开启，启动顺序设置为2，引导顺序只开disk‘xxxx’磁盘，把网络启动关掉。</li><li>点击启动虚拟机。</li><li>pve中用shell：<code>vi /etc/config/network</code>，将lan口ip改为<code>192.168.1.3</code>，<code>reboot</code>重启。vim编辑：按i进入修改模式，按esc退出编辑模式，输入:wq回车保存修改并退出。</li><li>访问WEB管理地址并登录：<a target="_blank" rel="noopener" href="http://192.168.1.3/">http://192.168.1.3</a>。默认账户：root。默认密码：password。</li></ol><h3 id="扩容Overlay软件安装空间">6.3.3 &nbsp&nbsp<a href="#扩容Overlay软件安装空间" class="headerlink" title="扩容Overlay软件安装空间"></a>扩容Overlay软件安装空间</h3><ol><li>关闭openwrt虚拟机。</li><li>硬件&gt;硬盘&gt;更多，调整磁盘大小（只能增加大小，按需增加所需硬盘的空间大小）。</li><li>打开openwrt虚拟机。</li><li>系统&gt;磁盘管理L：将新增磁盘大小新建一个分区并格式化为ext4，保存并应用</li><li>挂载刚才新增的分区，举例sda3：<code>mount /dev/sda3 /mnt/sda3</code>，保存并应用。</li><li>拷贝源overlay目录的文件到新分区内：<code>cp -r /overlay/* /mnt/sda3</code>。</li><li>系统&gt;挂载点：添加sda3挂载点为「作为外部overlay使用（&#x2F;overlay）」，保存并应用。</li><li>重启openwrt虚拟机，检查扩容情况。</li><li>根据情况可能需手动移除之前挂载的<code>/mnt/sda3</code>状态。</li></ol><h1 id="创建PVE虚拟机KVM遇到的坑">7 &nbsp&nbsp<a href="#创建PVE虚拟机KVM遇到的坑" class="headerlink" title="创建PVE虚拟机KVM遇到的坑"></a>创建PVE虚拟机KVM遇到的坑</h1><h2 id="添加EFI磁盘后，启动无法引导磁盘，出现shell界面。">7.1 &nbsp&nbsp<a href="#添加EFI磁盘后，启动无法引导磁盘，出现shell界面。" class="headerlink" title="添加EFI磁盘后，启动无法引导磁盘，出现shell界面。"></a>添加EFI磁盘后，启动无法引导磁盘，出现shell界面。</h2><p>原因：创建EFI磁盘时，勾选了添加密钥。</p><p>解决方法：创建EFI磁盘时，取消勾选添加密钥。</p><h2 id="安装windows镜像，无法识别找到磁盘">7.2 &nbsp&nbsp<a href="#安装windows镜像，无法识别找到磁盘" class="headerlink" title="安装windows镜像，无法识别找到磁盘"></a>安装windows镜像，无法识别找到磁盘</h2><p>原因：scsi不适合windows镜像，windows安装解决识别不到硬盘。</p><p>解决方法：创建硬盘时，总线&#x2F;设备选择：SATA硬盘或者IDE。</p><h2 id="安装windows镜像，网卡无驱动">7.3 &nbsp&nbsp<a href="#安装windows镜像，网卡无驱动" class="headerlink" title="安装windows镜像，网卡无驱动"></a>安装windows镜像，网卡无驱动</h2><p>现象：当网卡设置为virtio模型时，安装并进入到windows系统后，网卡无驱动。</p><p>原因：windows系统自带的驱动无此虚拟硬件的驱动。</p><p>解决方式：加载virtio镜像，并运行x64程序安装驱动即可。</p><p>VirtIO镜像下载地址：<a target="_blank" rel="noopener" href="https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/">点击跳转</a></p><h2 id="创建的Windows虚拟机运行一段时间自动挂起进入suspended状态">7.4 &nbsp&nbsp<a href="#创建的Windows虚拟机运行一段时间自动挂起进入suspended状态" class="headerlink" title="创建的Windows虚拟机运行一段时间自动挂起进入suspended状态"></a>创建的Windows虚拟机运行一段时间自动挂起进入suspended状态</h2><p>问题：创建的Windows虚拟机运行一段时间后，会自动挂起进入suspended状态，并且恢复resume系统状态会导致虚拟机内存占用瞬间吃满，然后无响应。</p><p>原因：虚拟机Windows系统自身有自动睡眠和关闭屏幕等设置，导致PVE的QEMU自动进入到挂起状态。</p><p>解决方法：关闭虚拟机Windows系统内电源设置的自动睡眠和自动关闭屏幕功能。</p><h2 id="创建Windows虚拟机之后，PVE整体性能表现下降">7.5 &nbsp&nbsp<a href="#创建Windows虚拟机之后，PVE整体性能表现下降" class="headerlink" title="创建Windows虚拟机之后，PVE整体性能表现下降"></a>创建Windows虚拟机之后，PVE整体性能表现下降</h2><p>若机器硬件性能不太足够的话，不建议安装win系统，win系统极度消耗硬件性能（即便是空载待机状态也消耗很大），而这影响openwrt的性能。比如我的情况：安装了tiny10系统，千兆网线，宽带500M实测不到300Mbp&#x2F;s（这里是指用<a target="_blank" rel="noopener" href="http://speed.unicomgd.com:8080/">广东联通宽带测速平台</a>测试的结果，实际iKuai主路由测试速率却又正常），局域网速率最高只能到700Mbp&#x2F;s的速率。关闭后tiny10后，实测宽带速率恢复正常，局域网速率跑到900Mbp&#x2F;s出头）</p><h2 id="虚拟机挂载新路径，共享宿主机目录">7.6 &nbsp&nbsp<a href="#虚拟机挂载新路径，共享宿主机目录" class="headerlink" title="虚拟机挂载新路径，共享宿主机目录"></a>虚拟机挂载新路径，共享宿主机目录</h2><p><a target="_blank" rel="noopener" href="https://blog.209902.xyz/archives/1715428748533">https://blog.209902.xyz/archives/1715428748533</a></p><h1 id="创建PVE虚拟机LXC容器">8 &nbsp&nbsp<a href="#创建PVE虚拟机LXC容器" class="headerlink" title="创建PVE虚拟机LXC容器"></a>创建PVE虚拟机LXC容器</h1><div class="note primary no-icon"><p>从配置文件中修改虚拟器LXC容器的配置参数（请自行修改对应ID）：<code>nano /etc/pve/lxc/101.conf</code></p></div><h2 id="安装OpenWrt（LXC容器）">8.1 &nbsp&nbsp<a href="#安装OpenWrt（LXC容器）" class="headerlink" title="安装OpenWrt（LXC容器）"></a>安装OpenWrt（LXC容器）</h2><h3 id="OpenWrt根文件镜像的选择">8.1.1 &nbsp&nbsp<a href="#OpenWrt根文件镜像的选择" class="headerlink" title="OpenWrt根文件镜像的选择"></a>OpenWrt根文件镜像的选择</h3><ul><li><a href="https://firmware-selector.immortalwrt.org/?target=x86/64&id=generic">ImmortalWrt</a>：推荐（本教程使用该固件）。选择<code>ROOTFS (SQUASHFS)</code>类型下载，编写教程时最新版本为<code>immortalwrt-24.10.4-x86-64-generic-squashfs-rootfs.img.gz</code>。延伸：<a target="_blank" rel="noopener" href="https://downloads.immortalwrt.org/">ImmortalWrt官网下载页面</a>和<a target="_blank" rel="noopener" href="https://github.com/immortalwrt">ImmortalWrt项目主页</a>。<ul><li>点击「预安装的软件包」按钮，添加编辑器依赖包<code>nano</code>、主题美化包<code>luci-i18n-argon-config-zh-cn</code>和openclash包<code>luci-app-openclash</code>。自定义镜像下载需要科学上网。这一步不操作的话，后面需要自行手动安装软件包。（luci-app-openclash后面均为它的依赖包，依赖包信息参阅<a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash">GitHub源码仓库页面</a>）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">autocore automount base-files block-mount ca-bundle default-settings-chn dnsmasq-full dropbear fdisk firewall4 fstools grub2-bios-setup i915-firmware-dmc kmod-8139cp kmod-8139too kmod-button-hotplug kmod-e1000e kmod-fs-f2fs kmod-i40e kmod-igb kmod-igbvf kmod-igc kmod-ixgbe kmod-ixgbevf kmod-nf-nathelper kmod-nf-nathelper-extra kmod-nft-offload kmod-pcnet32 kmod-r8101 kmod-r8125 kmod-r8126 kmod-r8168 kmod-tulip kmod-usb-hid kmod-usb-net kmod-usb-net-asix kmod-usb-net-asix-ax88179 kmod-usb-net-rtl8150 kmod-usb-net-rtl8152-vendor kmod-vmxnet3 libc libgcc libustream-openssl logd luci-app-package-manager luci-compat luci-lib-base luci-lib-ipkg luci-light mkf2fs mtd netifd nftables odhcp6c odhcpd-ipv6only opkg partx-utils ppp ppp-mod-pppoe procd-ujail uci uclient-fetch urandom-seed urngd kmod-amazon-ena kmod-amd-xgbe kmod-bnx2 kmod-e1000 kmod-dwmac-intel kmod-forcedeth kmod-fs-vfat kmod-tg3 kmod-drm-i915  nano luci-i18n-argon-config-zh-cn luci-app-openclash luci luci-base bash curl ipset ip-full ruby ruby-yaml unzip iptables kmod-ipt-nat iptables-mod-tproxy iptables-mod-extra kmod-tun ip6tables-mod-nat kmod-inet-diag kmod-nft-tproxy</span><br></pre></td></tr></table></figure></li></ul></li><li><a target="_blank" rel="noopener" href="https://downloads.openwrt.org/">OpenWrt官方固件</a></li></ul><h3 id="安装步骤-1">8.1.2 &nbsp&nbsp<a href="#安装步骤-1" class="headerlink" title="安装步骤"></a>安装步骤</h3><ol><li>在PVE宿主机上安装<code>squashfs-tools</code>软件包：<code>apt install squashfs-tools</code>。</li><li>下载OpenWrt根文件镜像：<a href="#OpenWrt%E6%A0%B9%E6%96%87%E4%BB%B6%E9%95%9C%E5%83%8F%E7%9A%84%E9%80%89%E6%8B%A9">见上一小节</a></li><li>解压gz包：<code>gunzip immortalwrt-24.10.4-x86-64-generic-squashfs-rootfs.img.gz</code>（gunzip解压gz包之后会自动删除gz包的）。</li><li>解压img镜像文件：<code>unsquashfs immortalwrt-24.10.4-x86-64-generic-squashfs-rootfs.img</code>，解压路径为当前路径下的<code>squashfs-root</code>文件夹。</li><li>打包tar.gz格式，作为LXC模版：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> squashfs-root</span><br><span class="line">tar zcf /var/lib/vz/template/cache/immortalwrt-24.10.4-x86-64-generic-rootfs.tar.gz ./*</span><br><span class="line"><span class="comment"># 完成之后PVE的local的CT模板路径中就可以看到immortalwrt-24.10.4-x86-64-generic-rootfs.tar.gz文件了</span></span><br></pre></td></tr></table></figure><ol start="6"><li>手动创建LXC容器（这里不能用网页端选择LXC模板来创建，会报错），若需要后期编辑虚拟机LXC容器的配置项，使用命令编辑<code>nano /etc/pve/lxc/101.conf</code>。</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pct create 101 /var/lib/vz/template/cache/immortalwrt-24.10.4-x86-64-generic-rootfs.tar.gz --rootfs local-lvm:1 --ostype unmanaged --hostname openwrt --<span class="built_in">arch</span> amd64 --cores 4 --memory 512 --swap 0 --net0 bridge=vmbr4,name=eth0 --net1 bridge=vmbr4,name=eth1 --features nesting=1 --unprivileged 0</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li><code>pct create 100</code>: 创建一个 ID 为 100 的容器。</li><li><code>/var/lib/vz/template/cache/openwrt-x86-64-generic-rootfs.tar.gz</code>: 指定要使用的根文件系统模板的路径。这里是 OpenWRT 的根文件系统。</li><li><code>--rootfs local-lvm:1</code>: 设置容器的根文件系统存储位置。local-lvm表示使用local-lvm的空间，1表示分配2GB的存储空间。根据自己需求调整磁盘空间大小。</li><li><code>--ostype unmanaged</code>: 指定操作系统类型为&quot;unmanaged&quot;，表示 Proxmox 不会对已知操作系统进行特定优化。</li><li><code>--hostname openwrt</code>: 将容器的主机名设置为 openwrt。</li><li><code>--arch amd64</code>: 指定容器的架构为 64 位（amd64）。</li><li><code>--cores 4</code>: 分配 4 个 CPU 核心给容器。</li><li><code>--memory 512</code>: 分配 512 MB 的内存给容器。</li><li><code>--swap 0</code>: 分配 0 MB 的交换空间给容器。</li><li><code>--net0 bridge=vmbr4,name=eth0</code>: 配置第一个网络接口，连接到 vmbr4 桥接口，并将接口命名为 eth0。</li><li><code>--net1 bridge=vmbr4,name=eth1</code>: 配置第二个网络接口，连接到 vmbr4 桥接口，并将接口命名为 eth1。</li><li><code>--features nesting=1</code>: 启用特定功能。nesting&#x3D;1 允许嵌套虚拟化。</li><li><code>--unprivileged 0</code>：表示使用特权模式（该选项一定要开启，否则OpenWrt的DNSMasq服务无法正常启动）</li></ul><ol start="7"><li>为容器追加额外的参数设置<code>nano /etc/pve/lxc/101.conf</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lxc.cgroup2.devices.allow: a</span><br><span class="line">lxc.cap.drop:</span><br><span class="line">lxc.mount.auto: proc:mixed sys:ro cgroup:mixed</span><br><span class="line">lxc.mount.entry: /dev/net/tun dev/net/tun none <span class="built_in">bind</span>,create=file</span><br></pre></td></tr></table></figure><p>参数说明：这些配置项主要用于确保容器能够正常访问网络设备，并设置适当的权限和挂载点，以便 OpenWRT 能够正常工作。</p><ul><li><code>lxc.cgroup2.devices.allow: a</code>：允许容器访问所有设备。a 表示所有设备权限。</li><li><code>lxc.cap.drop:</code>：该参数用于指定要从容器中删除的 Linux 功能（capabilities）。如果没有指定任何功能，表示不删除任何功能。此项通常用于限制容器的特权。</li><li><code>lxc.mount.auto: proc:mixed sys:ro cgroup:mixed</code>：<ul><li><code>lxc.mount.auto</code> 用于自动挂载文件系统。</li><li><code>proc:mixed</code> 表示以混合模式挂载 <code>/proc</code> 文件系统，允许容器访问进程信息。</li><li><code>sys:ro</code> 表示以只读模式挂载 <code>/sys</code> 文件系统，容器可以读取系统信息但不能修改。</li><li><code>cgroup:mixed</code> 表示以混合模式挂载 <code>cgroup</code> 文件系统，用于管理资源限制。</li></ul></li><li><code>lxc.mount.entry: /dev/net/tun dev/net/tun none bind,create=file</code>：该参数用于手动挂载设备。<ul><li><code>/dev/net/tun</code> 是 TUN&#x2F;TAP 虚拟网络设备的路径。</li><li><code>dev/net/tun</code> 是容器内的挂载点。</li><li><code>none</code> 表示不指定文件系统类型。</li><li><code>bind</code> 表示将主机的设备绑定到容器中。</li><li><code>create=file</code> 表示如果挂载点不存在则创建它。</li></ul></li></ul><ol start="8"><li>在PVE管理网页打开进入LXC的shell，修改固件的LAN口IP，让OpenWrt可以访问外网：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim编辑：按 i 进入修改模式，按 esc 退出编辑模式，输入:wq回车保存修改并退出</span></span><br><span class="line">vim /etc/config/network</span><br><span class="line">service network restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置文件内容（请按自己的网络拓扑需求进行修改）</span></span><br><span class="line">config interface <span class="string">&#x27;loopback&#x27;</span></span><br><span class="line">        option device <span class="string">&#x27;lo&#x27;</span></span><br><span class="line">        option proto <span class="string">&#x27;static&#x27;</span></span><br><span class="line">        option ipaddr <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">        option netmask <span class="string">&#x27;255.0.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line">config globals <span class="string">&#x27;globals&#x27;</span></span><br><span class="line">        option ula_prefix <span class="string">&#x27;fdbb:d148:dd0e::/48&#x27;</span></span><br><span class="line">        option packet_steering <span class="string">&#x27;1&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除br-lan网桥设备的设置</span></span><br><span class="line"><span class="comment"># config device</span></span><br><span class="line"><span class="comment">#         option name &#x27;br-lan&#x27;</span></span><br><span class="line"><span class="comment">#         option type &#x27;bridge&#x27;</span></span><br><span class="line"><span class="comment">#         list ports &#x27;eth0&#x27;</span></span><br><span class="line"></span><br><span class="line">config interface <span class="string">&#x27;lan&#x27;</span></span><br><span class="line">        option device <span class="string">&#x27;eth0&#x27;</span> <span class="comment"># 修改为eth0</span></span><br><span class="line">        option proto <span class="string">&#x27;static&#x27;</span></span><br><span class="line">        option ipaddr <span class="string">&#x27;10.10.11.1&#x27;</span> <span class="comment"># 修改IP</span></span><br><span class="line">        option netmask <span class="string">&#x27;255.255.255.0&#x27;</span></span><br><span class="line">        <span class="comment"># option ip6assign &#x27;60&#x27; 删除此项</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># WAN口修改如下</span></span><br><span class="line">config interface <span class="string">&#x27;wan&#x27;</span></span><br><span class="line">        option device <span class="string">&#x27;eth1&#x27;</span></span><br><span class="line">        option proto <span class="string">&#x27;static&#x27;</span></span><br><span class="line">        option ipaddr <span class="string">&#x27;10.10.10.3&#x27;</span></span><br><span class="line">        option netmask <span class="string">&#x27;255.255.255.0&#x27;</span></span><br><span class="line">        option gateway <span class="string">&#x27;10.10.10.1&#x27;</span></span><br><span class="line">        list dns <span class="string">&#x27;114.114.114.114&#x27;</span></span><br><span class="line">        option broadcast <span class="string">&#x27;10.10.10.255&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="安装、配置及升级PBS-Proxmox-Backup-Server-（LXC容器）">8.2 &nbsp&nbsp<a href="#安装、配置及升级PBS-Proxmox-Backup-Server-（LXC容器）" class="headerlink" title="安装、配置及升级PBS(Proxmox Backup Server)（LXC容器）"></a>安装、配置及升级PBS(Proxmox Backup Server)（LXC容器）</h2><h3 id="PBS安装步骤（PBS-3-x）">8.2.1 &nbsp&nbsp<a href="#PBS安装步骤（PBS-3-x）" class="headerlink" title="PBS安装步骤（PBS 3.x）"></a>PBS安装步骤（PBS 3.x）</h3><h4 id="创建部署环境">8.2.1.1 &nbsp&nbsp<a href="#创建部署环境" class="headerlink" title="创建部署环境"></a>创建部署环境</h4><ol><li>创建LXC容器配置（debian-12-standard_12.7-1_amd64）<ul><li>核心：2</li><li>内存：512MB</li><li>SWAP：512MB</li><li>磁盘：10GB</li><li>网桥和网卡：eth0，vmbr4，<code>10.10.10.8/24</code>，10.10.10.1（请根据自行实际情况设置）</li></ul></li><li>替换debian系统镜像源和配置系统时区。</li></ol><h4 id="替换PBS-3-x的软件源">8.2.1.2 &nbsp&nbsp<a href="#替换PBS-3-x的软件源" class="headerlink" title="替换PBS 3.x的软件源"></a>替换PBS 3.x的软件源</h4><ul><li>方案一：配置<code>pbs-enterprise.list</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb http://mirrors.ustc.edu.cn/proxmox/debian/pbs bookworm pbs-no-subscription &gt; /etc/apt/sources.list.d/pbs-enterprise.list</span><br></pre></td></tr></table></figure></li><li>方案二：<code>nano /etc/apt/sources.list</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加以下内容到文件末尾</span></span><br><span class="line">deb http://mirrors.ustc.edu.cn/proxmox/debian/pbs bookworm pbs-no-subscription</span><br></pre></td></tr></table></figure></li></ul><h4 id="下载GPG-Key并安装PBS">8.2.1.3 &nbsp&nbsp<a href="#下载GPG-Key并安装PBS" class="headerlink" title="下载GPG Key并安装PBS"></a>下载GPG Key并安装PBS</h4><p>添加Proxmox的GPG Key，使用APT安装proxmox-backup-server包（可以尝试直接安装看看，若报错再下载GPG KEY，笔者测试时没有下载GPG KEY）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可以不下载GPG KEY，直接安装，如有报错再下载GPG KEY执行更新安装</span></span><br><span class="line">wget https://enterprise.proxmox.com/debian/proxmox-release-bookworm.gpg -O /etc/apt/trusted.gpg.d/proxmox-release-bookworm.gpg</span><br><span class="line">apt update &amp;&amp; apt install proxmox-backup-server -y</span><br></pre></td></tr></table></figure><p>安装过程中会出现一些交互界面，以下是实操选择的参数：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Configuration file <span class="string">&#x27;/etc/apt/sources.list.d/pbs-enterprise.list&#x27;</span></span><br><span class="line">==&gt; File on system created by you or by a script.</span><br><span class="line">==&gt; File also <span class="keyword">in</span> package provided by package maintainer.</span><br><span class="line">What would you like to <span class="keyword">do</span> about it ?  Your options are:</span><br><span class="line">    Y or I  : install the package maintainer<span class="string">&#x27;s version</span></span><br><span class="line"><span class="string">    N or O  : keep your currently-installed version</span></span><br><span class="line"><span class="string">    D     : show the differences between the versions</span></span><br><span class="line"><span class="string">    Z     : start a shell to examine the situation</span></span><br><span class="line"><span class="string">The default action is to keep your current version.</span></span><br><span class="line"><span class="string">*** pbs-enterprise.list (Y/I/N/O/D/Z) [default=N] ?</span></span><br><span class="line"><span class="string">输入N回车</span></span><br></pre></td></tr></table></figure><h4 id="访问WEB管理地址并登录">8.2.1.4 &nbsp&nbsp<a href="#访问WEB管理地址并登录" class="headerlink" title="访问WEB管理地址并登录"></a>访问WEB管理地址并登录</h4><ul><li>WEB管理地址：<a target="_blank" rel="noopener" href="http://10.10.10.8:8007/">https://10.10.10.8:8007/</a></li><li>root账户登录，领域为<code>Linux PAM standard authentication</code>。注意别选错为<code>Proxmox Backup authentication server</code>，这个是给普通pbs用户使用。</li></ul><h4 id="查看并禁用不需要的failed服务">8.2.1.5 &nbsp&nbsp<a href="#查看并禁用不需要的failed服务" class="headerlink" title="查看并禁用不需要的failed服务"></a>查看并禁用不需要的failed服务</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl命令会输出服务状态情况</span></span><br><span class="line">systemctl</span><br><span class="line">systemctl <span class="built_in">disable</span> zfs-mount.service zfs-share.service</span><br></pre></td></tr></table></figure><h3 id="PBS升级步骤（3-x-4-x）">8.2.2 &nbsp&nbsp<a href="#PBS升级步骤（3-x-4-x）" class="headerlink" title="PBS升级步骤（3.x-&gt;4.x）"></a>PBS升级步骤（3.x-&gt;4.x）</h3><h4 id="升级到PBS-3-x最新的版本">8.2.2.1 &nbsp&nbsp<a href="#升级到PBS-3-x最新的版本" class="headerlink" title="升级到PBS 3.x最新的版本"></a>升级到PBS 3.x最新的版本</h4><blockquote><p>开始正式升级前，请记得将PBS的部署机器环境的Debian系统也升级到Debian13（即<code>Trixie</code>），这里不再赘述，详情可参阅「<a href="/post-articles/2025-11/pve-lxc-debian12to13">PVE虚拟机LXC容器升级小记(Debian12-&gt;13)</a>」。</p></blockquote><p>输入如下命令完成升级并查看当前PBS版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br><span class="line">proxmox-backup-manager versions</span><br></pre></td></tr></table></figure><h4 id="检查版本升级的兼容性-2">8.2.2.2 &nbsp&nbsp<a href="#检查版本升级的兼容性-2" class="headerlink" title="检查版本升级的兼容性"></a>检查版本升级的兼容性</h4><p>输入如下命令检查PBS版本的兼容性，如果存在ERROR报错，解决报错信息再重新运行检查命令，直到没有报错为止：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pbs3to4</span><br></pre></td></tr></table></figure><h4 id="替换PBS-4-x的软件源">8.2.2.3 &nbsp&nbsp<a href="#替换PBS-4-x的软件源" class="headerlink" title="替换PBS 4.x的软件源"></a>替换PBS 4.x的软件源</h4><p>执行如下命令完成替换成中科大镜像源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> deb http://mirrors.ustc.edu.cn/proxmox/debian/pbs trixie pbs-no-subscription &gt; /etc/apt/sources.list.d/pbs-enterprise.list</span><br></pre></td></tr></table></figure><h4 id="开始正式升级（3-x-4-x）">8.2.2.4 &nbsp&nbsp<a href="#开始正式升级（3-x-4-x）" class="headerlink" title="开始正式升级（3.x-&gt;4.x）"></a>开始正式升级（3.x-&gt;4.x）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br></pre></td></tr></table></figure><p>升级中会出现一些交互界面，以下是实操选择的参数：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Configuration file <span class="string">&#x27;/etc/issue&#x27;</span></span><br><span class="line">==&gt; Modified (by you or by a script) since installation.</span><br><span class="line">==&gt; Package distributor has shipped an updated version.</span><br><span class="line">What would you like to <span class="keyword">do</span> about it ?  Your options are:</span><br><span class="line">    Y or I  : install the package maintainer<span class="string">&#x27;s version</span></span><br><span class="line"><span class="string">    N or O  : keep your currently-installed version</span></span><br><span class="line"><span class="string">    D     : show the differences between the versions</span></span><br><span class="line"><span class="string">    Z     : start a shell to examine the situation</span></span><br><span class="line"><span class="string">The default action is to keep your current version.</span></span><br><span class="line"><span class="string">*** issue (Y/I/N/O/D/Z) [default=N] ?</span></span><br><span class="line"><span class="string">输入N回车</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">┌────────────────────────────────────────────┤ Configuring libc6:amd64 ├────────────────────────────────────────────┐</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">│ There are services installed on your system which need to be restarted when certain libraries, such as libpam,    │</span></span><br><span class="line"><span class="string">│ libc, and libssl, are upgraded. Since these restarts may cause interruptions of service for the system, you will  │</span></span><br><span class="line"><span class="string">│ normally be prompted on each upgrade for the list of services you wish to restart.  You can choose this option    │</span></span><br><span class="line"><span class="string">│ to avoid being prompted; instead, all necessary restarts will be done for you automatically so you can avoid      │</span></span><br><span class="line"><span class="string">│ being asked questions on each library upgrade.                                                                    │</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">│ Restart services during package upgrades without asking?                                                          │</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">│                                  &lt;Yes&gt;                                     &lt;No&gt;                                   │</span></span><br><span class="line"><span class="string">│                                                                                                                   │</span></span><br><span class="line"><span class="string">└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span></span><br><span class="line"><span class="string">选择Yes回车</span></span><br></pre></td></tr></table></figure><h4 id="屏蔽PBS-4-x企业源pbs-enterprise-sources">8.2.2.5 &nbsp&nbsp<a href="#屏蔽PBS-4-x企业源pbs-enterprise-sources" class="headerlink" title="屏蔽PBS 4.x企业源pbs-enterprise.sources"></a>屏蔽PBS 4.x企业源<code>pbs-enterprise.sources</code></h4><p>成功升级至PBS 4.x之后，会自动生成一个<code>DEB822</code>格式的企业源<code>pbs-enterprise.sources</code>文件，需要手动屏蔽它，否则WEB后台和<code>apt update</code>会有提示。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list.d/pbs-enterprise.sources /etc/apt/sources.list.d/pbs-enterprise.sources.bak</span><br><span class="line">apt update</span><br></pre></td></tr></table></figure><h4 id="屏蔽PBS无有效订阅提示弹窗">8.2.2.6 &nbsp&nbsp<a href="#屏蔽PBS无有效订阅提示弹窗" class="headerlink" title="屏蔽PBS无有效订阅提示弹窗"></a>屏蔽PBS无有效订阅提示弹窗</h4><p>具体参阅「<a href="#%E5%B1%8F%E8%94%BDPBS%E6%97%A0%E6%9C%89%E6%95%88%E8%AE%A2%E9%98%85%E6%8F%90%E7%A4%BA%E5%BC%B9%E7%AA%97-1">屏蔽PBS无有效订阅提示弹窗</a>」。</p><h4 id="成功升级PBS-4-x">8.2.2.7 &nbsp&nbsp<a href="#成功升级PBS-4-x" class="headerlink" title="成功升级PBS 4.x"></a>成功升级PBS 4.x</h4><p>以下就是升级到最新的PBS 4.x版本的WEB后台界面了。</p><div class="flex-column"><img data-src="/images/software/pve/pbs4x-web-control.webp">PBS 4.x的WEB后台界面</div><h3 id="屏蔽PBS无有效订阅提示弹窗-1">8.2.3 &nbsp&nbsp<a href="#屏蔽PBS无有效订阅提示弹窗-1" class="headerlink" title="屏蔽PBS无有效订阅提示弹窗"></a>屏蔽PBS无有效订阅提示弹窗</h3><p>Proxmox Backup Server和PVE操作原理类似，都是修改<code>/usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js</code>文件。</p><p>注销浏览器当前的PBS登录信息，之后重新登录就没有提示弹窗了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak</span><br><span class="line"></span><br><span class="line">line_num=$(grep -n <span class="string">&quot;res.data.status.toLowerCase() !== &#x27;active&#x27;&quot;</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js | <span class="built_in">head</span> -1 | <span class="built_in">cut</span> -d: -f1)</span><br><span class="line">sed -i <span class="string">&quot;<span class="variable">$&#123;line_num&#125;</span>s/!==/===/&quot;</span> /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js</span><br><span class="line"></span><br><span class="line">systemctl restart proxmox-backup-proxy</span><br></pre></td></tr></table></figure><div class="flex-column"><img data-src="/images/software/pve/pbs-no-subscribe.webp">PBS「无有效订阅」的提示弹窗</div><h3 id="挂载新硬盘到宿主机并设置PVE的PBS备份">8.2.4 &nbsp&nbsp<a href="#挂载新硬盘到宿主机并设置PVE的PBS备份" class="headerlink" title="挂载新硬盘到宿主机并设置PVE的PBS备份"></a>挂载新硬盘到宿主机并设置PVE的PBS备份</h3><ol><li>安装新硬盘用于专门存储PBS的备份数据，这里对应的是<code>/dev/sdc</code>。</li><li>在宿主机PVE中，直接格式化整个硬盘为ext4，并挂载到<code>/mnt/backup-server-data</code>目录。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4 /dev/sdc</span><br><span class="line"><span class="comment"># 查看并复制uuid，编辑/etc/fstab文件，以便开机自动挂载硬盘</span></span><br><span class="line">blkid | grep /dev/sdc</span><br><span class="line"><span class="built_in">mkdir</span> /mnt/backup-server-data</span><br><span class="line">nano /etc/fstab</span><br><span class="line">UUID=复制的uuid值 /mnt/backup-server-data ext4 defaults 0 2</span><br><span class="line"><span class="comment"># 挂载/etc/fstab中列出的所有文件系统</span></span><br><span class="line">mount -a</span><br><span class="line"><span class="comment"># PVE可能会提示如下信息要求重载</span></span><br><span class="line"><span class="comment"># mount: (hint) your fstab has been modified, but systemd still uses</span></span><br><span class="line"><span class="comment">#        the old version; use &#x27;systemctl daemon-reload&#x27; to reload.</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="comment"># 查看挂载情况</span></span><br><span class="line">lsblk -o NAME,SIZE,FSTYPE,MOUNTPOINT</span><br></pre></td></tr></table></figure></li><li>将宿主机PVE的挂载路径映射给PBS的LXC容器。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将宿主机的/mnt/backup-server-data映射到LXC容器106的客户机 /mnt/data 路径中</span></span><br><span class="line">pct <span class="built_in">set</span> 106 -mp0 /mnt/backup-server-data,mp=/mnt/data</span><br></pre></td></tr></table></figure></li><li>设置数据目录的属主&#x2F;属组（Unprivileged非特权容器一定要设置这个操作，否则在下一步的添加数据存储就会报错：<code>TASK ERROR: EPERM: Operation not permitted</code>）<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看proxmox-backup-api的属主/属组</span></span><br><span class="line"><span class="built_in">stat</span> -c <span class="string">&quot;%u %g&quot;</span> /proc/$(pgrep -f proxmox-backup-api)</span><br><span class="line"><span class="comment"># 命令输出为100000 100000</span></span><br><span class="line"><span class="comment"># 修改属主/属组</span></span><br><span class="line"><span class="built_in">chown</span> 100000:100000 /mnt/backup-server-data</span><br></pre></td></tr></table></figure></li><li>在PBS后台管理界面中，创建数据存储：数据存储-&gt;添加数据存储。<ul><li>常规：名称：HDD，备份路径：&#x2F;mnt&#x2F;data，GC时间表：daily，精简时间表：daily。（默认的 daily 表示每天 00:00）</li><li>精简选项：参见<a href="#PBS%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A4%87%E4%BB%BD%E7%B2%BE%E7%AE%80%E8%AE%A1%E5%88%92">PBS服务器备份精简计划</a></li></ul></li><li>创建命名空间：点击<code>HDD</code>这个数据存储-&gt;内容-&gt;新增命名空间-&gt;<code>pve-backup</code><ul><li>每个数据存储中可以包含多个命名空间，命名空间并不隔离访问权限与存储设备，仅隔离备份名称。这样子可以实现，多个不同PVE节点可以备份存储在不同的命名空间。</li></ul></li><li>创建普通账户给PVE设置备份使用：配置-&gt;访问控制-&gt;添加-&gt;用户名：admin，领域：<code>Proxmox Backup authentication server</code>，密码：自己设置。<ul><li>除仅用于登录管理界面的root用户使用PAM认证外（即<code>Linux PAM standard authentication</code>），其他管理员用户或备份客户端均使用Proxmox Backup Server自带的用户管理系统进行认证（即<code>Proxmox Backup authentication server</code>）。</li><li>如果需要设置邮件通知，双击对应帐号，在弹窗里填写<code>E-Mail</code>一栏即可。</li></ul></li><li>为上一步创建的帐号设置权限：配置-&gt;访问控制-&gt;权限-&gt;用户权限-&gt;路径：&#x2F;datastore&#x2F;HDD，用户：admin@pbs，角色：DatastoreAdmin。（该角色方便在PVE中管理备份）</li><li>回到宿主机PVE后台管理界面中，将Proxmox Backup Server添加为存储（Storage）：数据中心-&gt;存储-&gt;添加-&gt;Proxmox Backup Server<ul><li>常规：ID：pve-pbs，服务器：10.10.10.8，用户名：admin@pbs，密码：<password>，Datastore：HDD，命名空间：pve-backup，指纹：[在PBS管理界面首页中查看：仪表板-&gt;显示指纹]</password></li><li>备份保留：默认设置，该功能直接由PBS接管即可，无需在这里设置。</li><li>加密：如果是首次添加PBS存储，选择自动生成客户端加密密钥。不是首次添加，可以选择上传密钥。注意保存好密钥。</li></ul></li><li>在PVE中设置备份任务：数据中心-&gt;备份-添加：自行选择需要备份的虚拟机ID。节点：PVE节点，存储：pve-pbs，计划：*&#x2F;1:00，选择模式：所有，压缩：灰色选项（因为设置了pve-pbs备份存储空间，该选项无法调整），模式：快照。<ul><li>如果是生产数据，比较重要，建议设置备份时间为30分钟一次或者更短时间。</li><li>如果需要不同的备份时间频率，可以设置多个备份任务。</li></ul></li><li>点击备份任务计划，点击<code>现在运行</code>，查看备份效果。</li></ol><h3 id="PBS配置日志轮转清理">8.2.5 &nbsp&nbsp<a href="#PBS配置日志轮转清理" class="headerlink" title="PBS配置日志轮转清理"></a>PBS配置日志轮转清理</h3><blockquote><p>这一步很重要，否则长期备份的日志文件会填满的机器根目录。<br>如果设置备份间隔半小时的话，设置60天轮转一次，PBS占用大约在9.21GB；设置30天轮转一次，大约占用是6.03GB。请根据自己PBS本体安装时的硬盘大小设置合适的轮转周期。</p></blockquote><p>配置方法（保留60天日志文件，一般是凌晨00:00执行轮转任务）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proxmox-backup-manager node update --task-log-max-days 60</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看节点的所有配置项</span></span><br><span class="line">proxmox-backup-manager node show</span><br></pre></td></tr></table></figure><p>日志轮转成功执行后，在PBS的网页后台管理菜单-&gt;任务：日志轮换，可以查看到相关日志信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2025-07-03T00:00:00+08:00: starting task <span class="built_in">log</span> rotation</span><br><span class="line">2025-07-03T00:00:00+08:00: task <span class="built_in">log</span> archive was rotated</span><br><span class="line">2025-07-03T00:00:00+08:00: API access <span class="built_in">log</span> was not rotated</span><br><span class="line">2025-07-03T00:00:00+08:00: API authentication <span class="built_in">log</span> was not rotated</span><br><span class="line">2025-07-03T00:00:00+08:00: cleaning up old task logs</span><br><span class="line">2025-07-03T00:00:00+08:00: TASK OK</span><br></pre></td></tr></table></figure><h4 id="Linux日志轮转logrotate服务">8.2.5.1 &nbsp&nbsp<a href="#Linux日志轮转logrotate服务" class="headerlink" title="Linux日志轮转logrotate服务"></a>Linux日志轮转logrotate服务</h4><p>logrotate 是基于 crontab 运行的(准确来说是基于timer和crontab定时机制)：</p><ul><li>配置文件<ul><li>主配置文件：<code>/etc/logrotate.conf</code>，定义全局轮转规则。</li><li>子配置文件：<code>/etc/logrotate.d/</code>目录下的文件，定义特定日志的轮转规则。<ul><li>创建自定义的轮转任务<code>mylog</code>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建mylog文件</span></span><br><span class="line">nano /etc/logrotate.d/mylog</span><br><span class="line"><span class="comment"># 填入如下内容</span></span><br><span class="line">/var/log/mylog.log &#123; <span class="comment"># 要轮转的日志文件路径，支持通配符（如 /var/log/mylog/*.log）</span></span><br><span class="line">    daily <span class="comment"># 每日轮转</span></span><br><span class="line">    rotate 10 <span class="comment"># 保留7个备份，mylog.log.1.gz 到 mylog.log.7.gz</span></span><br><span class="line">    size 10M <span class="comment"># 当日志文件超出10M时，轮转</span></span><br><span class="line">    compress <span class="comment"># 压缩旧的日志文件</span></span><br><span class="line">    missingok <span class="comment"># 若日志文件不存在，不报错</span></span><br><span class="line">    notifempty <span class="comment"># 若日志文件为空，不轮转</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改文件权限，只有拥有者有读写权限；而属组用户和其他用户只有读权限。</span></span><br><span class="line"><span class="built_in">chmod</span> 644 /etc/logrotate.d/mylog</span><br><span class="line"><span class="comment"># 模拟轮转任务，-d是调试模式</span></span><br><span class="line">logrotate -d /etc/logrotate.conf</span><br><span class="line"><span class="comment"># 模拟mylog的轮转任务</span></span><br><span class="line">logrotate -d /etc/logrotate.conf/mylog</span><br><span class="line"><span class="comment"># 强制执行轮转任务</span></span><br><span class="line">logrotate -f /etc/logrotate.conf</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><p>查看相关轮转任务后台服务的命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看logrotate版本</span></span><br><span class="line">logrotate --version</span><br><span class="line">systemctl status cron.service</span><br><span class="line">systemctl status logrotate.service</span><br><span class="line">systemctl status logrotate.timer</span><br><span class="line"><span class="comment"># 查看Linux系统内置的logrotate服务轮转状态</span></span><br><span class="line"><span class="built_in">cat</span> /var/lib/logrotate/status</span><br></pre></td></tr></table></figure><h3 id="后续PBS系统日常更新">8.2.6 &nbsp&nbsp<a href="#后续PBS系统日常更新" class="headerlink" title="后续PBS系统日常更新"></a>后续PBS系统日常更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br></pre></td></tr></table></figure><h1 id="创建PVE虚拟机LXC容器遇到的坑">9 &nbsp&nbsp<a href="#创建PVE虚拟机LXC容器遇到的坑" class="headerlink" title="创建PVE虚拟机LXC容器遇到的坑"></a>创建PVE虚拟机LXC容器遇到的坑</h1><h2 id="使用debian-12的CT模板创建LXC容器SSH终端中文乱码">9.1 &nbsp&nbsp<a href="#使用debian-12的CT模板创建LXC容器SSH终端中文乱码" class="headerlink" title="使用debian-12的CT模板创建LXC容器SSH终端中文乱码"></a>使用<code>debian-12</code>的CT模板创建LXC容器SSH终端中文乱码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apt install locales -y</span><br><span class="line"><span class="comment"># 需要重新设置语言的，也可以重新执行该命令</span></span><br><span class="line">dpkg-reconfigure locales</span><br><span class="line"><span class="comment"># 使用Page Up和Page Down翻页查找这两种语言，使用空格确认复选框，tab键切换「确认」，然后回车执行</span></span><br><span class="line"><span class="comment"># en_US.UTF-8 UTF-8</span></span><br><span class="line"><span class="comment"># zh_CN.UTF-8 UTF-8</span></span><br><span class="line"><span class="comment"># 然后重启机器</span></span><br><span class="line">init 6</span><br></pre></td></tr></table></figure><h2 id="非特权（unprivileged）LXC容器无法设置vm-max-map-count内核参数">9.2 &nbsp&nbsp<a href="#非特权（unprivileged）LXC容器无法设置vm-max-map-count内核参数" class="headerlink" title="非特权（unprivileged）LXC容器无法设置vm.max_map_count内核参数"></a>非特权（unprivileged）LXC容器无法设置<code>vm.max_map_count</code>内核参数</h2><p>报错提示：<code>error: permission denied on key &#39;vm.max_map_count&#39;</code></p><p>报错原因：因为非特权的LXC容器的<code>/proc/sys</code>是以只读方式挂载到容器里面，无法修改sysctl内核参数。</p><p>解决方法：在PVE宿主机上设置<code>vm.max_map_count</code>内核参数，<code>max_map_count</code>默认值是262144，而我们需要设置为2000000。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 持久化设定，永久生效，推荐使用该方式</span></span><br><span class="line">nano /etc/sysctl.conf</span><br><span class="line"><span class="comment"># 在/etc/sysctl.conf最底部添加如下参数，保存文件</span></span><br><span class="line">vm.max_map_count=2000000</span><br><span class="line"><span class="comment"># 从文件中加载参数，不指定文件默认加载读取 /etc/sysctl.conf 的内容，会立即应用其中的内核参数（无需重启系统）</span></span><br><span class="line">sysctl -p</span><br><span class="line"></span><br><span class="line"><span class="comment"># 临时设置生效，重启PVE后会恢复到默认值，而不是2000000</span></span><br><span class="line">sysctl -w vm.max_map_count=2000000</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看参数值</span></span><br><span class="line">sysctl vm.max_map_count</span><br></pre></td></tr></table></figure><h3 id="补充知识点：namespace化的sysctl内核参数">9.2.1 &nbsp&nbsp<a href="#补充知识点：namespace化的sysctl内核参数" class="headerlink" title="补充知识点：namespace化的sysctl内核参数"></a>补充知识点：namespace化的sysctl内核参数</h3><p><code>vm.max_map_count</code>属于内核参数，而<code>vm.*</code>参数并没有namespace化。只有namespace化的sysctl内核参数在容器内直接修改设置的时候，不会影响宿主机和其他容器。</p><p>已经namespace化的sysctl内核参数：</p><ul><li>kernel.shm*</li><li>kernel.msg*</li><li>kernel.sem</li><li>fs.mqueue.*</li><li>net.*<ul><li>net.netfilter.nf_conntrack_max（Linux 5.12.2之前并未namespace化）</li><li>net.netfilter.nf_conntrack_expect_max（Linux 5.12.2之前并未namespace化）</li></ul></li></ul><p>给LXC容器单独设置sysctl内核参数的方式：</p><ul><li>为LXC容器开启特权选项<code>--privileged</code>，对应<code>/proc</code>目录的挂载方式为<code>rw</code>，可以直接在容器内使用命令修改参数了。若修改的是<code>namespaced</code>参数，则不会影响宿主机和其他容器。</li><li>把<code>/proc/sys</code>bind到容器里面，该方式和<code>--privileged</code>效果类似。</li></ul><p>给docker容器单独设置sysctl内核参数的方式：</p><ul><li><code>--privileged</code>：<code>docker run --privileged -it ubuntu bash</code>，该方式启动后，可以通过命令任意修改sysctl参数。</li><li>把&#x2F;proc&#x2F;sys bind到容器里面，再具体写值，和上面的效果类似。<ol><li><code>docker run -v /proc/sys:/writable-sys -it ubuntu bash</code></li><li><code>echo 62 &gt; /writable-sys/net/ipv4/ip_default_ttl</code></li></ol></li><li><code>--sysctl</code>：<code>docker run -it --sysctl &#39;net.ipv4.ip_default_ttl=63&#39; ubuntu sysctl net.ipv4.ip_default_ttl</code>。<ul><li>只有namespaced参数才可以。否则会报错&quot;invalid argument...&quot;</li><li>这种方式只是在容器初始化过程中完成内核参数的修改，容器运行起来以后，&#x2F;proc&#x2F;sys仍然是以只读方式挂载的，在容器中不能再次修改sysctl内核参数。</li></ul></li></ul><h2 id="创建的LXC容器debian-12系统时间与宿主机时间不一致">9.3 &nbsp&nbsp<a href="#创建的LXC容器debian-12系统时间与宿主机时间不一致" class="headerlink" title="创建的LXC容器debian-12系统时间与宿主机时间不一致"></a>创建的LXC容器<code>debian-12</code>系统时间与宿主机时间不一致</h2><p>使用<code>debian-12</code>的CT模板默认使用的是世界时设置，比东八区时间慢八小时，因此需要手动设置时区。</p><ul><li>方法1：<code>timedatectl set-timezone Asia/Shanghai</code></li><li>方法2：<code>dpkg-reconfigure tzdata</code></li></ul><p>验证修改是否成功：<code>timedatectl</code></p><h2 id="在PVE管理页面工具选择OpenWrt的自建LXC模板来创建LXC会报错">9.4 &nbsp&nbsp<a href="#在PVE管理页面工具选择OpenWrt的自建LXC模板来创建LXC会报错" class="headerlink" title="在PVE管理页面工具选择OpenWrt的自建LXC模板来创建LXC会报错"></a>在PVE管理页面工具选择OpenWrt的自建LXC模板来创建LXC会报错</h2><p>报错提示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  Logical volume <span class="string">&quot;vm-101-disk-0&quot;</span> created.</span><br><span class="line">Creating filesystem with 524288 4k blocks and 131072 inodes</span><br><span class="line">Filesystem UUID: 0d6d0789-09cb-4564-95be-c04ba88481bb</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">    32768, 98304, 163840, 229376, 294912</span><br><span class="line">extracting archive <span class="string">&#x27;/var/lib/vz/template/cache/immortalwrt-24.10.4-x86-64-generic-rootfs.tar.gz&#x27;</span></span><br><span class="line">Total bytes <span class="built_in">read</span>: 39229440 (38MiB, 176MiB/s)</span><br><span class="line">unknown ID <span class="string">&#x27;immortalwrt&#x27;</span> <span class="keyword">in</span> /etc/os-release file, trying fallback detection</span><br><span class="line">  Logical volume <span class="string">&quot;vm-101-disk-0&quot;</span> successfully removed.</span><br><span class="line">TASK ERROR: unable to create CT 101 - unable to detect OS distribution</span><br></pre></td></tr></table></figure><p>报错原因：PVE管理页面工具无法识别该LXC模板的系统类型。</p><p>解决方法：使用<code>pct create</code>手动创建LXC容器。</p><h2 id="非特权模式的OpenWrt的LXC容器网络访问问题">9.5 &nbsp&nbsp<a href="#非特权模式的OpenWrt的LXC容器网络访问问题" class="headerlink" title="非特权模式的OpenWrt的LXC容器网络访问问题"></a>非特权模式的OpenWrt的LXC容器网络访问问题</h2><p>使用<code>unprivileged 1</code>非特权模式创建的LXC容器，OpenWrt的DNSMasq服务无法正常启动，这种模式下网络可以ping通IP，但无法解析域名，提示报错<code>ping: bad address &#39;qq.com&#39;</code>，因为DNSMasq服务异常。</p><p>临时解决方法：若需要在这种情况下临时访问外网，直接修改<code>/etc/resolv.conf</code>文件即可，追加可用的DNS服务器IP即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/resolv.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置文件内容</span></span><br><span class="line">search lan</span><br><span class="line">nameserver 127.0.0.1</span><br><span class="line">nameserver ::1</span><br><span class="line"><span class="comment"># 追加可用的DNS服务器</span></span><br><span class="line">nameserver 8.8.8.8</span><br></pre></td></tr></table></figure><h2 id="LXC容器挂载新路径，共享宿主机目录">9.6 &nbsp&nbsp<a href="#LXC容器挂载新路径，共享宿主机目录" class="headerlink" title="LXC容器挂载新路径，共享宿主机目录"></a>LXC容器挂载新路径，共享宿主机目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pct <span class="built_in">set</span> 101 -mp0 /mnt/share_folder,mp=/mnt/data</span><br><span class="line"><span class="comment"># 编辑LXC容器配置文件</span></span><br><span class="line">nano /etc/pve/lxc/101.conf</span><br><span class="line"><span class="comment"># 新增如下内容：/mnt/share_folder为PVE宿主机的路径，/mnt/data为LXC容器内的路径</span></span><br><span class="line">lxc.mount.entry: /mnt/share_folder /mnt/data none <span class="built_in">bind</span> 0 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启LXC容器</span></span><br><span class="line">init 6</span><br></pre></td></tr></table></figure><p>另一种为非特权LXC容器挂载路径的方式：<a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/tutorial-unprivileged-lxcs-mount-cifs-shares.101795/">https://forum.proxmox.com/threads/tutorial-unprivileged-lxcs-mount-cifs-shares.101795/</a></p><h1 id="PVE虚拟机LXC容器的基础设置">10 &nbsp&nbsp<a href="#PVE虚拟机LXC容器的基础设置" class="headerlink" title="PVE虚拟机LXC容器的基础设置"></a>PVE虚拟机LXC容器的基础设置</h1><h2 id="适用于CT模板（debian-12-standard-12-7-1-amd64）">10.1 &nbsp&nbsp<a href="#适用于CT模板（debian-12-standard-12-7-1-amd64）" class="headerlink" title="适用于CT模板（debian-12-standard_12.7-1_amd64）"></a>适用于CT模板（debian-12-standard_12.7-1_amd64）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">nano /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian bookworm main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bookworm main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian bookworm-updates main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org bookworm-security main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian-security bookworm-security main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">timedatectl set-timezone Asia/Shanghai</span><br><span class="line"></span><br><span class="line">apt install locales -y</span><br><span class="line">dpkg-reconfigure locales</span><br><span class="line">init 6</span><br></pre></td></tr></table></figure><h2 id="适用于CT模板（debian-13-standard-13-1-2-amd64）">10.2 &nbsp&nbsp<a href="#适用于CT模板（debian-13-standard-13-1-2-amd64）" class="headerlink" title="适用于CT模板（debian-13-standard_13.1-2_amd64）"></a>适用于CT模板（debian-13-standard_13.1-2_amd64）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">nano /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie-updates main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org trixie-security main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian-security trixie-security main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">timedatectl set-timezone Asia/Shanghai</span><br><span class="line"></span><br><span class="line">apt install locales -y</span><br><span class="line">dpkg-reconfigure locales</span><br><span class="line">init 6</span><br></pre></td></tr></table></figure><h1 id="升级PVE虚拟机LXC容器版本">11 &nbsp&nbsp<a href="#升级PVE虚拟机LXC容器版本" class="headerlink" title="升级PVE虚拟机LXC容器版本"></a>升级PVE虚拟机LXC容器版本</h1><h2 id="Debian版本升级（debian12-debian13）">11.1 &nbsp&nbsp<a href="#Debian版本升级（debian12-debian13）" class="headerlink" title="Debian版本升级（debian12-&gt;debian13）"></a>Debian版本升级（debian12-&gt;debian13）</h2><h3 id="替换-Debian-系统软件源">11.1.1 &nbsp&nbsp<a href="#替换-Debian-系统软件源" class="headerlink" title="替换 Debian 系统软件源"></a>替换 Debian 系统软件源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure><div class="tabs" id="debian13sourcestype"><ul class="nav-tabs"><li class="tab active"><a href="#debian13sourcestype-1">Debian13的中科大镜像源</a></li><li class="tab"><a href="#debian13sourcestype-2">Debian13的清华镜像源</a></li></ul><div class="tab-content"><div class="tab-pane active" id="debian13sourcestype-1"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie-updates main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian/ trixie-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org trixie-security main contrib</span></span><br><span class="line">deb https://mirrors.ustc.edu.cn/debian-security trixie-security main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="debian13sourcestype-2"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ trixie main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line"><span class="comment"># deb http://ftp.debian.org/debian trixie-updates main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ trixie-updates main contrib non-free non-free-firmware</span><br><span class="line"></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian/ trixie-backports main contrib non-free non-free-firmware</span><br><span class="line"><span class="comment"># security updates</span></span><br><span class="line"><span class="comment"># deb http://security.debian.org trixie-security main contrib</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/debian-security trixie-security main contrib non-free non-free-firmware</span><br></pre></td></tr></table></figure></div></div></div><h3 id="替换Docker源">11.1.2 &nbsp&nbsp<a href="#替换Docker源" class="headerlink" title="替换Docker源"></a>替换Docker源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/apt/sources.list.d/docker.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 替换为如下内容</span></span><br><span class="line">deb [<span class="built_in">arch</span>=amd64 signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian   trixie stable</span><br></pre></td></tr></table></figure><h3 id="开始正式升级（debian12-debian13）">11.1.3 &nbsp&nbsp<a href="#开始正式升级（debian12-debian13）" class="headerlink" title="开始正式升级（debian12-&gt;debian13）"></a>开始正式升级（debian12-&gt;debian13）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt dist-upgrade -y</span><br></pre></td></tr></table></figure><p>升级中会出现一些交互界面，以下是实操选择的参数：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">┌────────────────────────────────────────────┤ Configuring libc6:amd64 ├────────────────────────────────────────────┐</span><br><span class="line">│                                                                                                                   │</span><br><span class="line">│ There are services installed on your system <span class="built_in">which</span> need to be restarted when certain libraries, such as libpam,    │</span><br><span class="line">│ libc, and libssl, are upgraded. Since these restarts may cause interruptions of service <span class="keyword">for</span> the system, you will  │</span><br><span class="line">│ normally be prompted on each upgrade <span class="keyword">for</span> the list of services you wish to restart.  You can choose this option    │</span><br><span class="line">│ to avoid being prompted; instead, all necessary restarts will be <span class="keyword">done</span> <span class="keyword">for</span> you automatically so you can avoid      │</span><br><span class="line">│ being asked questions on each library upgrade.                                                                    │</span><br><span class="line">│                                                                                                                   │</span><br><span class="line">│ Restart services during package upgrades without asking?                                                          │</span><br><span class="line">│                                                                                                                   │</span><br><span class="line">│                                  &lt;Yes&gt;                                     &lt;No&gt;                                   │</span><br><span class="line">│                                                                                                                   │</span><br><span class="line">└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><br><span class="line">选择Yes回车</span><br><span class="line"></span><br><span class="line">Configuration file <span class="string">&#x27;/etc/crontab&#x27;</span></span><br><span class="line"> ==&gt; Modified (by you or by a script) since installation.</span><br><span class="line"> ==&gt; Package distributor has shipped an updated version.</span><br><span class="line">   What would you like to <span class="keyword">do</span> about it ?  Your options are:</span><br><span class="line">    Y or I  : install the package maintainer<span class="string">&#x27;s version</span></span><br><span class="line"><span class="string">    N or O  : keep your currently-installed version</span></span><br><span class="line"><span class="string">      D     : show the differences between the versions</span></span><br><span class="line"><span class="string">      Z     : start a shell to examine the situation</span></span><br><span class="line"><span class="string"> The default action is to keep your current version.</span></span><br><span class="line"><span class="string">*** crontab (Y/I/N/O/D/Z) [default=N] ?</span></span><br><span class="line"><span class="string">输入y，根据自己情况来，有使用到crontab定时计划任务的，输入n保留</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Configuration file &#x27;</span>/etc/cron.d/e2scrub_all<span class="string">&#x27;</span></span><br><span class="line"><span class="string"> ==&gt; Modified (by you or by a script) since installation.</span></span><br><span class="line"><span class="string"> ==&gt; Package distributor has shipped an updated version.</span></span><br><span class="line"><span class="string">   What would you like to do about it ?  Your options are:</span></span><br><span class="line"><span class="string">    Y or I  : install the package maintainer&#x27;</span>s version</span><br><span class="line">    N or O  : keep your currently-installed version</span><br><span class="line">      D     : show the differences between the versions</span><br><span class="line">      Z     : start a shell to examine the situation</span><br><span class="line"> The default action is to keep your current version.</span><br><span class="line">*** e2scrub_all (Y/I/N/O/D/Z) [default=N] ?</span><br><span class="line">输入y，和/etc/crontab情况相同</span><br><span class="line"></span><br><span class="line">┌─────────────────────────────────────────┤ Configuring openssh-server ├─────────────────────────────────────────┐</span><br><span class="line">│ A new version (/tmp/tmp.hKOeEqLlCv) of configuration file /etc/ssh/sshd_config is available, but the version   │</span><br><span class="line">│ installed currently has been locally modified.                                                                 │</span><br><span class="line">│                                                                                                                │</span><br><span class="line">│ What <span class="keyword">do</span> you want to <span class="keyword">do</span> about modified configuration file sshd_config?                                          │</span><br><span class="line">│                                                                                                                │</span><br><span class="line">│                              install the package maintainer<span class="string">&#x27;s version                                          │</span></span><br><span class="line"><span class="string">│                              keep the local version currently installed                                        │</span></span><br><span class="line"><span class="string">│                              show the differences between the versions                                         │</span></span><br><span class="line"><span class="string">│                              show a side-by-side difference between the versions                               │</span></span><br><span class="line"><span class="string">│                              show a 3-way difference between available versions                                │</span></span><br><span class="line"><span class="string">│                              do a 3-way merge between available versions                                       │</span></span><br><span class="line"><span class="string">│                              start a new shell to examine the situation                                        │</span></span><br><span class="line"><span class="string">│                                                                                                                │</span></span><br><span class="line"><span class="string">│                                                                                                                │</span></span><br><span class="line"><span class="string">│                                                     &lt;Ok&gt;                                                       │</span></span><br><span class="line"><span class="string">│                                                                                                                │</span></span><br><span class="line"><span class="string">└────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span></span><br><span class="line"><span class="string">选择install the package maintainer&#x27;</span>s version，根据自己情况来</span><br></pre></td></tr></table></figure><h3 id="移除无用的包-1">11.1.4 &nbsp&nbsp<a href="#移除无用的包-1" class="headerlink" title="移除无用的包"></a>移除无用的包</h3><p>运行如下如下命令，移除无用的包，节省服务器空间：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt autoremove</span><br></pre></td></tr></table></figure><h3 id="升级前后的版本记录">11.1.5 &nbsp&nbsp<a href="#升级前后的版本记录" class="headerlink" title="升级前后的版本记录"></a>升级前后的版本记录</h3><div class="flex-row"><div class="flex-column"><img data-src="/images/software/pve/debian12.webp">升级前：Debian12</div><div class="flex-column"><img data-src="/images/software/pve/debian13.webp">升级后：Debian13</div></div><h1 id="HomeLab路由方案一：iKuai主路由-OpenWRT传统旁路由的网络拓扑">12 &nbsp&nbsp<a href="#HomeLab路由方案一：iKuai主路由-OpenWRT传统旁路由的网络拓扑" class="headerlink" title="HomeLab路由方案一：iKuai主路由+OpenWRT传统旁路由的网络拓扑"></a>HomeLab路由方案一：iKuai主路由+OpenWRT传统旁路由的网络拓扑</h1><p>iKuai作为主路由，负责拨号及DHCP，OpenWRT做旁路由。SmartDNS+AdGuardHome设置分流与去广告。SmartDNS作为DNS管理并提供DNS缓存，实现国内国外DNS分流，彻底解决DNS污染问题、实现秒开网页。同时搭配AdGuardHome实现整个局域网去广告。</p><p>DNS转发流程：设置最核心的部分就是DNS转发端口的衔接，就是把DNSMASQ、Adguardhome、SmartDNS三个插件里的DNS服务器功能分成三个层级，实现层层转发。依次是第一级DNSMASQ，第二级Adguardhome，第三级SmartDNS，第四级OpenClash。</p><h2 id="iKuai的设置">12.1 &nbsp&nbsp<a href="#iKuai的设置" class="headerlink" title="iKuai的设置"></a>iKuai的设置</h2><ul><li><del>系统设置&gt;重启关机&gt;添加一个重启计划：每天05:00时重启。</del></li><li>网络设置&gt;内外网设置<ul><li>外网接口（选择iKuai识别到的第二个网口）：填入宽带拨号信息。</li><li>内网接口（iKuai识别到的第一个网口，IP地址192.168.1.1）：链路桥接（选择剩余的其他全部接口）</li></ul></li><li>DHCP设置&gt;DHCP服务端<ul><li>单iKuai版：<ul><li>客户端地址：192.168.1.10-192.168.1.254（1-9留给专用设备的管理地址）</li><li>子网掩码：255.255.255.0</li><li>网关：192.168.1.1</li><li>首选DNS：223.5.5.5</li><li>备选DNS：114.114.114.114</li></ul></li><li>iKuai+OpenWrt版本：<ul><li>客户端地址：192.168.1.10-192.168.1.254（1-9留给专用设备的管理地址）</li><li>子网掩码：255.255.255.0</li><li>网关：192.168.1.3</li><li>首选DNS：192.168.1.3</li><li>备选DNS：192.168.1.3</li></ul></li></ul></li><li>DNS设置&gt;DNS设置<ul><li>单iKuai版：<ul><li>首选DNS：223.5.5.5</li><li>备选DNS：114.114.114.114</li></ul></li><li>iKuai+OpenWrt版本：<ul><li>首选DNS：192.168.1.3</li><li>备选DNS：192.168.1.3</li></ul></li></ul></li><li>UPnP设置&gt;UPnP设置<ul><li>UPnP即插即用服务：开启</li><li>允许内网IP映射：0.0.0.0-255.255.255.255</li><li>默认线路设置：任意</li><li>掉线检测：开启</li><li>检测周期：2</li><li>定时重启：开启</li><li>重启周期：全选</li><li>重启时间：05:00。</li></ul></li></ul><h2 id="OpenWrt设置">12.2 &nbsp&nbsp<a href="#OpenWrt设置" class="headerlink" title="OpenWrt设置"></a>OpenWrt设置</h2><h3 id="定时重启">12.2.1 &nbsp&nbsp<a href="#定时重启" class="headerlink" title="定时重启"></a><del>定时重启</del></h3><p><del>系统&gt;定时重启：启用，设置每天05:00。</del></p><h3 id="网络">12.2.2 &nbsp&nbsp<a href="#网络" class="headerlink" title="网络"></a>网络</h3><h4 id="接口-LAN">12.2.2.1 &nbsp&nbsp<a href="#接口-LAN" class="headerlink" title="接口&gt;LAN"></a>接口&gt;LAN</h4><ul><li>IPv4地址：192.168.1.3。管理OpenWrt的地址。</li><li>和iKuai一致保证同一个网段。</li><li>IPv4网关：指向iKuai的网关。保证OpenWrt的上网数据传输到iKuai再传输到外网。</li><li>使用自定义的DNS服务器：223.5.5.5（初始先设置阿里云DNS保证设置过程的上网）。后面等设置好SmartDNS之后改由OpenWrt代理，即输入192.168.1.3。</li><li>关闭DHCP服务，统一由iKuai分配。</li><li>禁用掉IPv6服务。</li><li>物理设置：桥接接口。（因为选用的也是）</li><li>lan高级设置：不勾选IPv6，勾选【开启开机自动运行】和【强制链路】。</li></ul><h4 id="Turbo-ACC-加速">12.2.2.2 &nbsp&nbsp<a href="#Turbo-ACC-加速" class="headerlink" title="Turbo ACC 加速"></a>Turbo ACC 加速</h4><p>只开启前三个即可，DNS缓存后面由SmartDNS来管理。</p><h4 id="防火墙设置">12.2.2.3 &nbsp&nbsp<a href="#防火墙设置" class="headerlink" title="防火墙设置"></a>防火墙设置</h4><ul><li>SYN-flood 防御：关闭（此项开启关闭都行）</li><li>丢弃无效数据包：启用（此项开启关闭都行）</li><li>启用FullCone-NAT：高性能模式</li><li>入站数据、出站数据、转发都设置为接受。</li><li>lan口开启：IP 动态伪装（只保留lan口的规格，其他接口全部删除）</li><li>防火墙自定义规则（一般默认就有前四条规则，没有需加上）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A PREROUTING -p udp —dport 53 -j REDIRECT —to-ports 53</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp —dport 53 -j REDIRECT —to-ports 53</span><br><span class="line">[ -n “$(command -v ip6tables)” ] &amp;&amp; ip6tables -t nat -A PREROUTING -p udp —dport 53 -j REDIRECT —to-ports 53</span><br><span class="line">[ -n “$(command -v ip6tables)” ] &amp;&amp; ip6tables -t nat -A PREROUTING -p tcp —dport 53 -j REDIRECT —to-ports 53</span><br><span class="line">iptables -t nat -I POSTROUTING -o eth0 -j MASQUERADE</span><br></pre></td></tr></table></figure><h3 id="SmartDNS">12.2.3 &nbsp&nbsp<a href="#SmartDNS" class="headerlink" title="SmartDNS"></a>SmartDNS</h3><div class="note info no-icon"><p>Bleach OpenWrt固件自带SmartDNS，eSir GDQ高大全固件需自行手动安装。</p></div><ul><li>基本设置<ul><li>启用</li><li>本地端口6053</li></ul></li><li>高级设置<ul><li>开启TCP服务器</li><li>勾选域名预加载</li><li>勾选缓存过期服务</li><li>缓存大小设为：1000000</li><li>域名TTL最大值设为：3600</li></ul></li><li>第二DNS服务器<ul><li>启用</li><li>本地端口5335</li><li>TCP服务器</li><li>服务器组：oversea</li><li>跳过测速</li><li>跳过address规则</li><li>跳过address SOA(#)规则</li><li>跳过双栈优选</li><li>跳过cache</li><li>停用IPV6地址解析</li></ul></li><li>上游服务器（添加DNS的设置里面可以设置服务器组）<ul><li>服务器组名称：china（10条左右，包含iKuai路由宽带拨号返回的两个宽带供应商提供的DNS）<ol><li>iKuai路由宽带拨号返回的宽带供应商提供的DNS1，udp协议</li><li>iKuai路由宽带拨号返回的宽带供应商提供的DNS2，udp协议</li><li>114dns，114.114.114.114，udp协议</li><li>114dns，114.114.115.115，udp协议</li><li>opener dns，42.120.21.30，udp协议</li><li>阿里dns，223.5.5.5，udp协议</li><li>阿里dns，223.6.6.6，udp协议</li><li>腾讯dns，119.29.29.29，udp协议</li><li>百度dns，180.76.76.76，udp协议</li><li>华为dns，122.112.208.1，udp协议</li></ol></li><li>服务器组名称：oversea（10条左右）<ol><li>google dns，8.8.8.8，udp协议</li><li>google dns，8.8.4.4，tls协议</li><li>CloudFlare，1.1.1.1，udp协议</li><li>IBM Quad9，9.9.9.9，udp协议</li><li>Norton ConnectSafe，199.85.126.10，udp协议</li><li>Norton ConnectSafe，199.85.127.10，udp协议</li><li>OpenDNS，208.67.222.222，tls协议</li><li>OpenDNS，208.67.220.220，udp协议</li><li>V2EX DNS，199.91.73.222，tls协议</li><li>V2EX DNS，178.79.131.110，tls协议</li></ol></li></ul></li><li>域名规则<ul><li>服务器组：china</li><li>域名分流设置：跳过测试</li></ul></li><li>自定义设置（只设置两条，其他全部注释掉）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bind:6053 -group china</span><br><span class="line">bind:5335 -group oversea</span><br></pre></td></tr></table></figure><ul><li>保存&amp;应用</li></ul><h3 id="AdGuard-Home">12.2.4 &nbsp&nbsp<a href="#AdGuard-Home" class="headerlink" title="AdGuard Home"></a>AdGuard Home</h3><h4 id="手动更新内核">12.2.4.1 &nbsp&nbsp<a href="#手动更新内核" class="headerlink" title="手动更新内核"></a>手动更新内核</h4><ol><li>下载最新的AdGuardHome内核（AdGuardHome_linux_amd64.tar.gz）：<a target="_blank" rel="noopener" href="https://github.com/AdguardTeam/AdGuardHome/releases">点击跳转</a></li><li>解压获取「AdGuardHome」文件。</li><li>使用WinSCP登录openwrt虚拟机，进入到路径<code>/usr/bin/AdGuardHome/</code>，上传「AdGuardHome」文件。右击属性，分配权限0755（rwxr-xr-x）。</li></ol><div class="note info no-icon"><p>能科学上网时，点击检查更新，直接更新核心即可。</p></div><h4 id="设置AdGuard-Home">12.2.4.2 &nbsp&nbsp<a href="#设置AdGuard-Home" class="headerlink" title="设置AdGuard Home"></a>设置AdGuard Home</h4><ul><li>启用</li><li>AdGuardHome重定向模式：作为dnsmasq的上游服务器</li><li>详细日志</li><li>开机后网络准备好时重启</li><li>在关机时备份工作目录文件（所有的选项）</li><li>打开192.168.1.3:3000地址并配置</li><li>网页管理界面&gt;监听接口&gt;所有接口，端口号设置为默认的3000</li><li>DNS 服务器&gt;监听接口&gt;所有接口，端口号设置为5351</li><li>网页管理界面登录密码</li><li>设置&gt;常规设置&gt;使用过滤器和Hosts文件以拦截指定域名（其他选项全部关闭）</li><li>设置&gt;DNS设置<ul><li>上游 DNS 服务器<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6053</span><br><span class="line">127.0.0.1:5335</span><br></pre></td></tr></table></figure><ul><li>并行请求</li><li>Bootstrap DNS：<code>127.0.0.1:6053</code></li><li>应用</li></ul></li><li>DNS服务配置<ul><li>速度限制：0</li><li>DNS 缓存配置：都空着（采用上游DNS服务器，让SmartDNS来管理）</li></ul></li></ul></li><li>设置&gt;过滤器&gt;DNS黑名单设置（将阻止匹配 DNS 拦截清单的域名）：综合性的规则列表启用几个即可或者使用下列推荐规则。<ul><li><a target="_blank" rel="noopener" href="https://github.com/TG-Twilight/AWAvenue-Ads-Rule">AWAvenue 秋风广告规则</a></li></ul></li></ul><h3 id="DNSMASQ设置">12.2.5 &nbsp&nbsp<a href="#DNSMASQ设置" class="headerlink" title="DNSMASQ设置"></a>DNSMASQ设置</h3><p>打开网络&gt;DHCP&#x2F;DNS。主要是解除DNSMASQ的DNS功能，只保留转发功能，让DNSMASQ作为AdGuard Home的下级服务生效。</p><ul><li>DNS转发：<code>127.0.0.1#5351</code>。如果未自动设置成这个，手动强制改成这个。</li><li>HOSTS 和解析文件：忽略掉解析文件，不用DNSMASQ的解析。</li><li>高级设置<ul><li>DNS服务器端口：53</li><li>DNS查询缓存的大小：0</li><li>最大并发查询数：1500</li></ul></li><li>保存&amp;应用</li></ul><h3 id="OpenClash">12.2.6 &nbsp&nbsp<a href="#OpenClash" class="headerlink" title="OpenClash"></a>OpenClash</h3><div class="note danger no-icon"><p>实测，Meta内核因DNS转发问题，导致无法正常上网。例如GOOGLE可能会出现证书异常的问题，YOUTUBE点击视频后会存在一直转圈圈的情况，无法加载视频。现阶段稳定工作的模式为：Fake-IP的普通TUN模式，模型模式可调TUN或者混合（TUN模式需要有TUN内核支持）。代理模式使用规则上网即可。</p></div><div class="note info no-icon"><p><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/releases/tag/v0.46.014-beta">v0.46.014-beta</a>是最后一版支持TUN内核的版本，往后一版的<a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/releases/tag/v0.46.031-beta">v0.46.031-beta</a>版本就开始移除Dev和TUN内核的支持，如果手动操作更新OpenClash版本，会自动移除Dev和TUN内核文件。即使手动通过WinSCP上传Dev和TUN内核文件，软件内也是无法识别到的。</p></div><h4 id="更新客户端">12.2.6.1 &nbsp&nbsp<a href="#更新客户端" class="headerlink" title="更新客户端"></a>更新客户端</h4><ol><li>下载客户端安装包：<a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/releases">点击跳转</a></li><li>使用WinSCP登录openwrt虚拟机，进入到路径家目录home，上传安装包，运行安装<code>opkg install ./luci-app-openclash_0.46.014-beta_all.ipk</code>。如果报错，尝试<code>opkg update</code>。</li></ol><h4 id="手动更新内核-1">12.2.6.2 &nbsp&nbsp<a href="#手动更新内核-1" class="headerlink" title="手动更新内核"></a>手动更新内核</h4><p>内核下载地址：</p><ul><li>老的Release页面<ul><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/releases/tag/Clash">Dev 内核</a></li><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/releases/tag/TUN-Premium">Tun 内核</a></li><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/releases/tag/TUN">Tun 游戏内核</a></li></ul></li><li>当前发布的最新内核（自v0.46.031-beta起已移除Dev和TUN内核文件的支持）<ul><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/tree/core/master/dev"><del>Dev 内核</del></a></li><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/tree/core/master/premium"><del>Tun 内核</del></a></li><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/tree/core/master/meta">Meta 内核</a></li></ul></li></ul><div class="note info no-icon"><p>能科学上网时，点击检查并更新，直接更新核心即可。</p></div><p>更新步骤：</p><ol><li>下载内核。</li><li>使用WinSCP登录openwrt虚拟机，进入到路径<code>/etc/openclash/core</code>，上传内核文件。右击属性，分配权限0755（rwxr-xr-x）。</li></ol><p>内核对应的名称（压缩包解压出来的名称不一定对应，需手动修改）：</p><ul><li>Dev 内核: clash</li><li>Tun 内核: clash_tun</li><li>Meta 内核: clash_meta</li></ul><h4 id="OpenClash设置">12.2.6.3 &nbsp&nbsp<a href="#OpenClash设置" class="headerlink" title="OpenClash设置"></a>OpenClash设置</h4><ul><li>运行状态：启动OPENCLASH</li><li>插件设置<ul><li>模式设置&gt;运行模式：Fake-IP（TUN-混合）模式【UDP-TUN，TCP-转发】</li><li>DNS设置&gt;本地DNS劫持：停用</li><li>GEO数据库订阅：设置自动更新</li><li>大陆白名单订阅：设置自动更新</li></ul></li><li>配置订阅：设置自动更新，更新间隔60分钟</li></ul><h1 id="HomeLab路由方案二：iKuai主路由-OpenWrt旁路由分流的网络拓扑">13 &nbsp&nbsp<a href="#HomeLab路由方案二：iKuai主路由-OpenWrt旁路由分流的网络拓扑" class="headerlink" title="HomeLab路由方案二：iKuai主路由+OpenWrt旁路由分流的网络拓扑"></a>HomeLab路由方案二：iKuai主路由+OpenWrt旁路由分流的网络拓扑</h1><h2 id="iKuai主路由设置">13.1 &nbsp&nbsp<a href="#iKuai主路由设置" class="headerlink" title="iKuai主路由设置"></a>iKuai主路由设置</h2><p><a target="_blank" rel="noopener" href="https://github.com/17mon/china_ip_list">大陆地区IP列表</a></p><h2 id="OpenWrt旁路由设置">13.2 &nbsp&nbsp<a href="#OpenWrt旁路由设置" class="headerlink" title="OpenWrt旁路由设置"></a>OpenWrt旁路由设置</h2><div class="note danger no-icon"><p>该方案选用：ImmortalWrt的LXC容器版本的OpenWrt。</p><p>若OP网络异常且需要网络条件下载文件调试时：关闭OpenClash，调整「网络 -&gt; 接口 -&gt; WAN -&gt; DNS -&gt; 114.114.114.144」。这样OP就能正常访问网络了。</p></div><h3 id="网络-1">13.2.1 &nbsp&nbsp<a href="#网络-1" class="headerlink" title="网络"></a>网络</h3><h4 id="接口-LAN-1">13.2.1.1 &nbsp&nbsp<a href="#接口-LAN-1" class="headerlink" title="接口-&gt;LAN"></a>接口-&gt;LAN</h4><ul><li>高级设置-&gt;IPV6分配长度-&gt;已禁用</li><li>DHCP服务器<ul><li>常规设置-&gt;忽略此接口（不在此接口提供DHCP服务）-&gt;勾选</li><li>IPv6设置-&gt;本地IPV6 DNS 服务器-&gt;取消勾选</li></ul></li></ul><h4 id="接口-WAN">13.2.1.2 &nbsp&nbsp<a href="#接口-WAN" class="headerlink" title="接口-&gt;WAN"></a>接口-&gt;WAN</h4><ul><li>DHCP服务器<ul><li>常规设置-&gt;忽略此接口（不在此接口提供DHCP服务）-&gt;勾选</li></ul></li></ul><h4 id="防火墙-常规设置">13.2.1.3 &nbsp&nbsp<a href="#防火墙-常规设置" class="headerlink" title="防火墙-常规设置"></a>防火墙-常规设置</h4><ul><li>常规设置<ul><li>Enable SYN-flood protection(启用SYN-flood防御)-&gt;取消勾选</li><li>Input -&gt; accept</li><li>Output -&gt; accept</li><li>Forward -&gt; reject</li></ul></li><li>Zones(区域)-&gt;WAN(编辑WAN口防火墙规则)<ul><li>Input-&gt;accept</li><li>Output-&gt;accept</li><li>Intra zone forward-&gt;reject</li><li>Masquerading -&gt; 勾选</li><li>MSS clamping -&gt; 勾选 （开启wan口的mss钳制，自动判定并修复MTU，一般不需要手动设定MTU）</li></ul></li></ul><h4 id="DHCP-DNS">13.2.1.4 &nbsp&nbsp<a href="#DHCP-DNS" class="headerlink" title="DHCP&#x2F;DNS"></a>DHCP&#x2F;DNS</h4><p>开启「服务-&gt;OPenClash-&gt;DNS设置-&gt;本地DNS劫持-&gt;使用Dnsmasq转发」会自动设置这个参数，无需手动设置：</p><ul><li>转发 -&gt; DNS转发 -&gt; 127.0.0.1#7874 (7874是 OpenClash 的 DNS 监听端口)</li></ul><h3 id="OpenClash（Redir-Host模式）">13.2.2 &nbsp&nbsp<a href="#OpenClash（Redir-Host模式）" class="headerlink" title="OpenClash（Redir-Host模式）"></a>OpenClash（Redir-Host模式）</h3><div class="note info no-icon"><p>本教程适用于OpenClash v0.47.024+</p></div><p>首页简略配置参数：</p><ul><li>运行模式：Redir-Host，混合</li><li>代理模式：规则</li><li>区域绕过：大陆</li><li>域名嗅探：启用</li><li>DNS代理：启用</li><li>流媒体解锁：停用</li></ul><p>详细配置参数：</p><ul><li>插件设置<ul><li>版本更新 -&gt; 编译版本「linux-amd64-v1(x86-64)」，更新分支「Master」，Smart内核「停用」 -&gt; 检查更新，选择<code>https://fastlyjsdelivr.net/</code>完成下载即可（这一步是下载OpenClash内核，如果下载不成功，需要手动下载上传）</li><li>模式设置<ul><li>「切换页面到Redir-Host模式」（页面底部一个红色按钮）</li><li>运行模式 -&gt; Redir-Host (TUN-混合) 模式【UDP-TUN, TCP-转发】（这个模式任意选吧，笔者实际测试不影响科学上网）</li></ul></li><li>流量控制 -&gt; 实现性：绕过指定区域IP -&gt; 绕过中国大陆</li><li>DNS设置 -&gt; 本地DNS劫持 -&gt; 禁用（已经设置WAN口的DNS为PaoPaoDNS的IP地址，无需劫持）</li><li>GEO数据库订阅<ul><li>自动更新 GeoIP MMDB 数据库 -&gt; 勾选</li><li>自动更新 GeoIP Dat 数据库 -&gt; 不勾选 （这个数据库默认不存在，有需要可以自行开启）</li><li>自动更新 GeoSite 数据库 -&gt; 勾选</li><li>自动更新 Geo ASN 数据库 -&gt; 不勾选 （这个数据库默认不存在，有需要可以自行开启）</li></ul></li><li>大陆白名单订阅 -&gt; 自动更新 -&gt; 勾选</li><li>定时重启 -&gt; 定时重启 -&gt; 勾选</li></ul></li><li>覆写设置<ul><li>DNS设置<ul><li>自定义上游DNS服务器 -&gt; 勾选（这个不勾选，无法访问代理服务器）</li><li>遵循规则(repect-rules) -&gt; 勾选 （这个不勾选github会访问异常）</li><li>追加上游DNS -&gt; 勾选（实测勾选与否，并不影响使用）</li></ul></li><li>Meta设置<ul><li>启用TCP并发 -&gt; 勾选</li><li>启用统一延迟 -&gt; 勾选</li></ul></li><li>添加DNS<ul><li>服务器分组「NameServer」，服务器地址「223.5.5.5&#x2F;dns-query#h3&#x3D;true」，服务器类型「HTTPS」，节点域名解析「勾选」，强制HTTP&#x2F;3「勾选」</li><li>服务器分组「NameServer」，服务器地址「2223.6.6.6&#x2F;dns-query#h3&#x3D;true」，服务器类型「HTTPS」，节点域名解析「勾选」，强制HTTP&#x2F;3「勾选」</li><li>服务器分组「NameServer」，服务器地址「dns.alidns.com&#x2F;dns-query#h3&#x3D;true」，服务器类型「HTTPS」，节点域名解析「勾选」，强制HTTP&#x2F;3「勾选」</li></ul></li></ul></li><li>配置订阅<ul><li>自动更新 -&gt; 勾选</li><li>更新模式 -&gt; 循环</li><li>更新间隔(分钟) -&gt; 120</li></ul></li></ul><h4 id="手动下载上传更新OpenClash内核">13.2.2.1 &nbsp&nbsp<a href="#手动下载上传更新OpenClash内核" class="headerlink" title="手动下载上传更新OpenClash内核"></a>手动下载上传更新OpenClash内核</h4><p>内核下载地址（这两种内核解压之后文件都是<code>meta</code>）：</p><ul><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/tree/core/master/meta">Meta 内核</a>，选择<code>clash-linux-amd64-v1.tar.gz</code>文件下载。</li><li><a target="_blank" rel="noopener" href="https://github.com/vernesong/OpenClash/tree/core/master/smart">Smart 内核</a>，选择<code>clash-linux-amd64-v1.tar.gz</code>文件下载。</li></ul><p>更新步骤：</p><ol><li>下载所需内核文件并解压。</li><li>重命名内核文件，将<code>meta</code>重命名为<code>clash_meta</code>（适用于两种内核文件）。</li><li>使用WinSCP登录openwrt虚拟机（ImmortalWrt默认开启SSH），进入到路径<code>/etc/openclash/core</code>，上传内核文件。右击属性，分配权限0755（rwxr-xr-x）。</li></ol><h4 id="OpenClash自定义直连域名规则集">13.2.2.2 &nbsp&nbsp<a href="#OpenClash自定义直连域名规则集" class="headerlink" title="OpenClash自定义直连域名规则集"></a>OpenClash自定义直连域名规则集</h4><ul><li>方法1：覆写设置-&gt;规则设置-&gt;自定义规则-&gt;勾选（如果网站域名包含www子域名，建议写全，不写全，匹配可能失败）<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rules:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">DOMAIN,cn.bing.com,DIRECT</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">DOMAIN,www.bing.com,DIRECT</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">DOMAIN,www.uupdump.cn,DIRECT</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">DOMAIN,mikanime.tv,DIRECT</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">DOMAIN,www.agedm.io,DIRECT</span></span><br></pre></td></tr></table></figure></li><li>方法2：规则附加（rule-providersr），还未探索明白，TODO</li></ul><h2 id="AdGuardHome和PaoPaoDNS">13.3 &nbsp&nbsp<a href="#AdGuardHome和PaoPaoDNS" class="headerlink" title="AdGuardHome和PaoPaoDNS"></a>AdGuardHome和PaoPaoDNS</h2><p>docker compose部署：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">dns:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">paopaodns:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">sliamb/paopaodns:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">PaoPaoDNS</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/root/paopaodns:/data</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">UPDATE=weekly</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DNS_SERVERNAME=PaoPaoDNS,blog.03k.org</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DNSPORT=53</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SOCKS5=no</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CNAUTO=yes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">IPV6=yes_only6</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CNFALL=yes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CUSTOM_FORWARD=10.10.11.1:7874</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">AUTO_FORWARD=yes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">AUTO_FORWARD_CHECK=yes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CN_TRACKER=yes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SAFEMODE=no</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">USE_MARK_DATA=yes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">HTTP_FILE=yes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">RULES_TTL=1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">54</span><span class="string">:53/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">54</span><span class="string">:53/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">5304</span><span class="string">:5304/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">5304</span><span class="string">:5304/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">7889</span><span class="string">:7889/tcp</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">dns</span></span><br><span class="line">  <span class="attr">adguardhome:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">adguard/adguardhome:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">AdguardHome</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/root/adguardhome/workdir:/opt/adguardhome/work</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/root/adguardhome/confdir:/opt/adguardhome/conf</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">53</span><span class="string">:53/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">53</span><span class="string">:53/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">67</span><span class="string">:67/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">68</span><span class="string">:68/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">80</span><span class="string">:80/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">443</span><span class="string">:443/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">443</span><span class="string">:443/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3000</span><span class="string">:3000/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">853</span><span class="string">:853/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">853</span><span class="string">:853/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">5443</span><span class="string">:5443/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">5443</span><span class="string">:5443/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">6060</span><span class="string">:6060/tcp</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">dns</span></span><br></pre></td></tr></table></figure><h3 id="PaoPaoDNS自定义域名">13.3.1 &nbsp&nbsp<a href="#PaoPaoDNS自定义域名" class="headerlink" title="PaoPaoDNS自定义域名"></a>PaoPaoDNS自定义域名</h3><p>确保已经设置了参数<code>RULES_TTL=1</code>，编辑<code>force_ttl_rules.txt</code>文件内容，保存即可生效</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">www.uupdump.cn@@@98.142.241.98</span><br></pre></td></tr></table></figure><p>参考：</p><ul><li><a target="_blank" rel="noopener" href="https://blog.03k.org/post/paopaodns.html">https://blog.03k.org/post/paopaodns.html</a></li><li><a target="_blank" rel="noopener" href="https://github.com/kkkgo/PaoPaoDNS/discussions/95">https://github.com/kkkgo/PaoPaoDNS/discussions/95</a></li><li><a target="_blank" rel="noopener" href="https://github.com/kkkgo/PaoPaoDNS/discussions/131">https://github.com/kkkgo/PaoPaoDNS/discussions/131</a></li><li><a target="_blank" rel="noopener" href="https://github.com/kkkgo/PaoPaoDNS/discussions/28">https://github.com/kkkgo/PaoPaoDNS/discussions/28</a></li></ul><h2 id="构建本地机场订阅转换服务">13.4 &nbsp&nbsp<a href="#构建本地机场订阅转换服务" class="headerlink" title="构建本地机场订阅转换服务"></a>构建本地机场订阅转换服务</h2><p>相关核心项目：</p><ul><li>后端项目：<a target="_blank" rel="noopener" href="https://github.com/tindy2013/subconverter">tindy2013&#x2F;subconverter</a></li><li>前端项目：<a target="_blank" rel="noopener" href="https://github.com/CareyWang/sub-web">CareyWang&#x2F;sub-web</a></li><li>短链服务：<a target="_blank" rel="noopener" href="https://github.com/CareyWang/MyUrls">CareyWang&#x2F;MyUrls</a></li></ul><h3 id="PVE新建一个debian虚拟机">13.4.1 &nbsp&nbsp<a href="#PVE新建一个debian虚拟机" class="headerlink" title="PVE新建一个debian虚拟机"></a>PVE新建一个debian虚拟机</h3><p>使用LXC模板（debian-12-standard），完成创建之后，并登录该debian虚拟机（可设置SSH连接）</p><ul><li>容器名称：sub-converter</li><li>内存：2GB（别分配1.5GB以下的内存，否则不够内存完成构建docker镜像）（构建完成docker镜像后，内存可以调整为512MB）</li><li>Swap：0B</li><li>核心：4核心（构建完成docker镜像后，核心可以调整为1）</li><li>根磁盘：5GB（别分配2GB以下的磁盘，否则不够空间完成构建docker镜像）</li><li>网络：选择已分配给主路由LAN口的网桥（我的情况是：vmbr4，IP静态地址：10.10.10.6&#x2F;24，网关：10.10.10.1）</li></ul><h3 id="设置优化debian虚拟机">13.4.2 &nbsp&nbsp<a href="#设置优化debian虚拟机" class="headerlink" title="设置优化debian虚拟机"></a>设置优化debian虚拟机</h3><ol><li>为debian修改apt镜像源：<a href="#%E6%9B%BF%E6%8D%A2PVE-8-x%E7%9A%84Debian%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E6%BA%90%E5%92%8CPVE%E8%BD%AF%E4%BB%B6%E6%BA%90%EF%BC%88%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%EF%BC%89">替换PVE-8-x的Debian系统软件源和PVE软件源（国内镜像）</a></li><li>为debian安装docker：<a href="/code/docker/#%E4%BD%BF%E7%94%A8apt%E4%BB%93%E5%BA%93%E4%B8%BADebian%E5%AE%89%E8%A3%85docker">使用apt仓库为Debian安装docker</a></li><li>为debian系统设置时区：<a href="#%E5%88%9B%E5%BB%BA%E7%9A%84LXC%E5%AE%B9%E5%99%A8debian-12%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E4%B8%8E%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%97%B6%E9%97%B4%E4%B8%8D%E4%B8%80%E8%87%B4">创建的LXC容器debian-12系统时间与宿主机时间不一致</a></li><li>为debian系统设置UTF-8语言环境：<a href="#%E4%BD%BF%E7%94%A8debian-12%E7%9A%84CT%E6%A8%A1%E6%9D%BF%E5%88%9B%E5%BB%BALXC%E5%AE%B9%E5%99%A8SSH%E7%BB%88%E7%AB%AF%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81">使用debian-12的CT模板创建LXC容器SSH终端中文乱码</a></li></ol><h3 id="手动重新构建前端docker镜像">13.4.3 &nbsp&nbsp<a href="#手动重新构建前端docker镜像" class="headerlink" title="手动重新构建前端docker镜像"></a>手动重新构建前端docker镜像</h3><ol><li>克隆前端项目</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/CareyWang/sub-web.git</span><br></pre></td></tr></table></figure><ol start="2"><li>进入对应仓库路径<code>cd sub-web</code></li><li>修改<code>.env</code>文件内容：<code>nano .env</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找到以下三行内容，并修改自己的域名或者IP</span></span><br><span class="line"><span class="comment"># VUE_APP_SUBCONVERTER_DEFAULT_BACKEND = &quot;https://api.wcc.best&quot;</span></span><br><span class="line"><span class="comment"># VUE_APP_MYURLS_API = &quot;https://suo.yt/short&quot;</span></span><br><span class="line"><span class="comment"># VUE_APP_CONFIG_UPLOAD_API = &quot;https://oss.wcc.best/upload&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是笔者修改的配置</span></span><br><span class="line">VUE_APP_SUBCONVERTER_DEFAULT_BACKEND = <span class="string">&quot;http://10.10.10.6:25500&quot;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>修改<code>Subconverter.vue</code>文件内容：<code>nano src/views/Subconverter.vue</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索127.0.0.1内容，并修改为10.10.10.6（该IP是LXC容器debian使用的IP）</span></span><br><span class="line"><span class="comment"># placeholder=&quot;动动小手，（建议）自行搭建后端服务。例：http://127.0.0.1:25500/sub?&quot;&gt;</span></span><br><span class="line"><span class="comment"># backendOptions: [&#123; value: &quot;http://127.0.0.1:25500/sub?&quot; &#125;],</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是笔者修改的配置</span></span><br><span class="line">placeholder=<span class="string">&quot;动动小手，（建议）自行搭建后端服务。例：http://10.10.10.6:25500/sub?&quot;</span>&gt;</span><br><span class="line">backendOptions: [&#123; value: <span class="string">&quot;http://10.10.10.6:25500/sub?&quot;</span> &#125;],</span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索remoteConfig: [</span></span><br><span class="line"><span class="comment"># 在下一行添加ACL4SSR的规则配置。</span></span><br><span class="line"><span class="comment"># 效果如下：</span></span><br><span class="line">remoteConfig: [</span><br><span class="line">  &#123;</span><br><span class="line">      label: <span class="string">&quot;ACL4SSR&quot;</span>,</span><br></pre></td></tr></table></figure><p>ACL4SSR规则配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    label: <span class="string">&quot;ACL4SSR&quot;</span>,</span><br><span class="line">    options: [</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online 默认版 分组比较全 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_AdblockPlus 更多去广告 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_AdblockPlus.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_NoAuto 无自动测速 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_NoAuto.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_NoReject 无广告拦截规则 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_NoReject.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Mini 精简版 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Mini_AdblockPlus.ini 精简版 更多去广告 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_AdblockPlus.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Mini_NoAuto.ini 精简版 不带自动测速 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_NoAuto.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Mini_Fallback.ini 精简版 带故障转移 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_Fallback.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Mini_MultiMode.ini 精简版 自动测速、故障转移、负载均衡 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiMode.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Full 全分组 重度用户使用 (与Github同步) (漏网之鱼默认直连)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/Mister-Kin/ACL4SSR/master/ACL4SSR_Online_Full.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Full 全分组 重度用户使用 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Full_NoAuto.ini 全分组 无自动测速 重度用户使用 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_NoAuto.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Full_AdblockPlus 全分组 重度用户使用 更多去广告 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_AdblockPlus.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Online_Full_Netflix 全分组 重度用户使用 奈飞全量 (与Github同步)&quot;</span>,</span><br><span class="line">        value:</span><br><span class="line">          <span class="string">&quot;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Full_Netflix.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR 本地 默认版 分组比较全&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Mini 本地 精简版&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_Mini.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Mini_NoAuto.ini 本地 精简版+无自动测速&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_Mini_NoAuto.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_Mini_Fallback.ini 本地 精简版+fallback&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_Mini_Fallback.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_BackCN 本地 回国&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_BackCN.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_NoApple 本地 无苹果分流&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_NoApple.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_NoAuto 本地 无自动测速 &quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_NoAuto.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_NoAuto_NoApple 本地 无自动测速&amp;无苹果分流&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_NoAuto_NoApple.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_NoMicrosoft 本地 无微软分流&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_NoMicrosoft.ini&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">&quot;ACL4SSR_WithGFW 本地 GFW列表&quot;</span>,</span><br><span class="line">        value: <span class="string">&quot;config/ACL4SSR_WithGFW.ini&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><ol start="5"><li>重新构建docker本地镜像</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t subweb-local:latest .</span><br></pre></td></tr></table></figure><h3 id="在root账户用户路径下新建docker-compose-yml：nano-docker-compose-yml">13.4.4 &nbsp&nbsp<a href="#在root账户用户路径下新建docker-compose-yml：nano-docker-compose-yml" class="headerlink" title="在root账户用户路径下新建docker-compose.yml：nano docker-compose.yml"></a>在root账户用户路径下新建<code>docker-compose.yml</code>：<code>nano docker-compose.yml</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">services:</span><br><span class="line">  subc:</span><br><span class="line">    hostname: subc</span><br><span class="line">    restart: always</span><br><span class="line">    container_name: subc</span><br><span class="line">    image: tindy2013/subconverter:latest</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;25500:25500&quot;</span></span><br><span class="line">  subweb:</span><br><span class="line">    hostname: subweb</span><br><span class="line">    restart: always</span><br><span class="line">    container_name: subweb</span><br><span class="line">    image: subweb-local:latest</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;80:80&quot;</span></span><br></pre></td></tr></table></figure><h3 id="运行docker-compose">13.4.5 &nbsp&nbsp<a href="#运行docker-compose" class="headerlink" title="运行docker compose"></a>运行docker compose</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose -f docker-compose.yml up -d</span><br></pre></td></tr></table></figure><h3 id="验证服务是否运行成功">13.4.6 &nbsp&nbsp<a href="#验证服务是否运行成功" class="headerlink" title="验证服务是否运行成功"></a>验证服务是否运行成功</h3><p>访问前端页面：<a target="_blank" rel="noopener" href="http://10.10.10.6/">http://10.10.10.6</a></p><p>通过tcping验证各个端口是否都正常：</p><ul><li><code>tcping 10.10.10.6 80</code></li><li><code>tcping 10.10.10.6 25500</code></li></ul><h2 id="普通无线路由器配置">13.5 &nbsp&nbsp<a href="#普通无线路由器配置" class="headerlink" title="普通无线路由器配置"></a>普通无线路由器配置</h2><p>为避免下游路由器单独开一个网段管理一个小局域网，上网配置模式，即WAN口设置为「桥接」。然后关闭LAN口的IPv4和IPv6的DHCP服务，LAN口无需修改IP。因为WAN口配置桥接成功之后，局域网就能通过IP地址访问到无线路由器了，其本质是通过WAN口实现通信的。</p><p>建议先提前获取该设备的MAC地址，然后在iKuai主路由做好DHCP静态分配。</p><p>关于无线的配置，如果局域网内无需2.4G的信号，则建议设置不启用2.4G频段，直接单开5G频段即可。WiFi名称可以自定义删除<code>_5G</code>后缀，建议先给2.4G频段的WiFi名称加上<code>_2.4G</code>后缀保存，然后再禁用2.4G频段，之后再修改5G频段的名称，否则某些路由系统可能会因为重名导致修改失败。</p><p>如果路由系统支持定时重启，建议设置每周重启一次。</p><p>「桥接」方案比传统直接用LAN口实现交换的方案好处在于，路由系统自身可以联网校时，避免某些需要时间戳的服务无法正常工作。直接LAN口实现交换的方案，大部分系统不支持自定义NTP服务器，会导致路由系统自身无法联网，导致系统时间默认从1970年1月1日1时1分1秒开始计算（UNIX TIME的纪元时间（开始时间））。</p><h1 id="PVE-Proxmox-VE-总结">14 &nbsp&nbsp<a href="#PVE-Proxmox-VE-总结" class="headerlink" title="PVE(Proxmox VE)总结"></a>PVE(Proxmox VE)总结</h1><h2 id="PVE-Proxmox-VE-虚拟机各硬件模型总结">14.1 &nbsp&nbsp<a href="#PVE-Proxmox-VE-虚拟机各硬件模型总结" class="headerlink" title="PVE(Proxmox VE)虚拟机各硬件模型总结"></a>PVE(Proxmox VE)虚拟机各硬件模型总结</h2><p>TODO</p><h2 id="PVE服务器的网络拓扑思路">14.2 &nbsp&nbsp<a href="#PVE服务器的网络拓扑思路" class="headerlink" title="PVE服务器的网络拓扑思路"></a>PVE服务器的网络拓扑思路</h2><p>一般而言，TODO</p><p><code>vmbr0</code>为PVE初始创建的默认网桥，一般设置如下参数：</p><ul><li>固定ip地址<code>192.168.2.2/24</code></li><li>网关<code>192.168.2.1</code></li><li>绑定到一个物理网口</li></ul><p>点击创建第二个网桥<code>vmbr1</code>，设置如下参数：</p><ul><li>固定ip地址<code>10.10.10.1/24</code></li><li>网关留空</li><li>不绑定物理网卡</li></ul><p>编辑PVE宿主机的<code>/etc/network/interfaces</code>文件，添加如下语句实现<code>vmbr1</code>数据转发<code>vmbr0</code>：<code>nano /etc/network/interfaces</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">auto vmbr1</span><br><span class="line">iface vmbr1 inet static</span><br><span class="line">        <span class="comment"># address 10.10.10.1</span></span><br><span class="line">        <span class="comment"># netmask 255.255.255.0</span></span><br><span class="line">        address 10.10.10.1/24</span><br><span class="line">        bridge-ports none</span><br><span class="line">        bridge-stp off</span><br><span class="line">        bridge-fd 0</span><br><span class="line">        post-up <span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br><span class="line">        post-up iptables -t nat -A POSTROUTING -s <span class="string">&#x27;10.10.10.0/24&#x27;</span> -o vmbr0 -j MASQUERADE</span><br><span class="line">        post-down iptables -t nat -D POSTROUTING -s <span class="string">&#x27;10.10.10.0/24&#x27;</span> -o vmbr0 -j MASQUERADE</span><br></pre></td></tr></table></figure><p>启用并验证</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启用网桥</span></span><br><span class="line">ifup vmbr1</span><br><span class="line"><span class="comment"># 查看网桥状态</span></span><br><span class="line">ip address show dev vmbr1</span><br><span class="line"><span class="comment"># 查看iptables路由表</span></span><br><span class="line">iptables -L -t nat</span><br><span class="line"><span class="comment"># 重启网络服务</span></span><br><span class="line">systemctl restart networking</span><br><span class="line"><span class="comment"># 注意post-up和post-down是在vmbr1网络接口启动时和关闭时才会执行后面的指令。systemctl restart networking是不会执行这些命令的</span></span><br></pre></td></tr></table></figure><h3 id="创建DHCP服务器，为vmbr1网桥的设备自动设置ip地址">14.2.1 &nbsp&nbsp<a href="#创建DHCP服务器，为vmbr1网桥的设备自动设置ip地址" class="headerlink" title="创建DHCP服务器，为vmbr1网桥的设备自动设置ip地址"></a>创建DHCP服务器，为vmbr1网桥的设备自动设置ip地址</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">apt install isc-dhcp-server -y</span><br><span class="line"><span class="comment"># 配置DHCP服务器监听的网络接口，就是用来分发ip地址的网络接口</span></span><br><span class="line">nano /etc/default/isc-dhcp-server</span><br><span class="line">INTERFACESv4=<span class="string">&quot;vmbr1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义NAT子网，例如DHCP的ip范围，</span></span><br><span class="line">nano /etc/dhcp/dhcpd.conf</span><br><span class="line">subnet 10.10.10.0 netmask 255.255.255.0 &#123;</span><br><span class="line">        range 10.10.10.10 10.10.10.254;</span><br><span class="line">        option subnet-mask 255.255.255.0;</span><br><span class="line">        option domain-name-servers 223.5.5.5,223.6.6.6;</span><br><span class="line">        option routers 10.10.10.1;</span><br><span class="line">        option netbios-name-servers 10.10.10.1;</span><br><span class="line">        option netbios-node-type 8;</span><br><span class="line">        get-lease-hostnames <span class="literal">true</span>;</span><br><span class="line">        use-host-decl-names <span class="literal">true</span>;</span><br><span class="line">        default-lease-time 600;</span><br><span class="line">        max-lease-time 7200;</span><br><span class="line">        interface vmbr0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 重启DHCP服务</span></span><br><span class="line">systemctl restart isc-dhcp-server</span><br><span class="line"><span class="comment"># 查看DHCP服务运行状态</span></span><br><span class="line">systemctl status isc-dhcp-server</span><br><span class="line"><span class="comment"># 检查DHCP服务器的日志文件</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/syslog | grep isc-dhcp-server</span><br></pre></td></tr></table></figure><p>NAT网络转发：转发3389端口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/network/interfaces</span><br><span class="line">auto vmbr0</span><br><span class="line">iface vmbr0 inet static</span><br><span class="line">        address 192.168.2.2/24</span><br><span class="line">        gateway 192.168.2.1</span><br><span class="line">        bridge-ports enp6s0</span><br><span class="line">        bridge-stp off</span><br><span class="line">        bridge-fd 0</span><br><span class="line">        post-up iptables -t nat -A PREROUTING -i vmbr0 -p tcp --dport 3389 -j DNAT --to 10.10.10.10:3389</span><br><span class="line">        post-down iptables -t nat -D PREROUTING -i vmbr0 -p tcp --dport 3389 -j DNAT --to 10.10.10.10:3389</span><br></pre></td></tr></table></figure><p>iptables命令设置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#新增</span></span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -m tcp --dport 10022 -j DNAT --to-destination 10.10.10.100:22</span><br><span class="line"><span class="comment">#删除 （即把新增映射的-A改成-D）</span></span><br><span class="line">iptables -t nat -D PREROUTING -p tcp -m tcp --dport 10022 -j DNAT --to-destination 10.10.10.100:22</span><br><span class="line"><span class="comment">#查看NAT规则，并显示行号</span></span><br><span class="line">iptables -t nat --list --line-number</span><br><span class="line"><span class="comment">#删除指定行号的iptables规则</span></span><br><span class="line">iptables -t nat -D POSTROUTING 10</span><br></pre></td></tr></table></figure><h2 id="PVE虚拟机磁盘容量调整">14.3 &nbsp&nbsp<a href="#PVE虚拟机磁盘容量调整" class="headerlink" title="PVE虚拟机磁盘容量调整"></a>PVE虚拟机磁盘容量调整</h2><ul><li>LXC容器的磁盘，在网页控制台设置增加大小，容器会自动增加对应的磁盘分区大小，无需手动在虚拟机系统格式化和挂载。</li></ul><h2 id="PVETOOLS脚本程序推荐">14.4 &nbsp&nbsp<a href="#PVETOOLS脚本程序推荐" class="headerlink" title="PVETOOLS脚本程序推荐"></a>PVETOOLS脚本程序推荐</h2><blockquote><p>新硬件主机不太推荐安装该脚本，CPU省电相关设置不一定能正常设置成功，恢复时也容易出问题。</p></blockquote><ul><li>PVETOOLS仓库地址：<a target="_blank" rel="noopener" href="https://github.com/ivanhao/pvetools">点击跳转</a></li><li>安装步骤（PVE SHELL执行命令）：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LC_ALL=en_US.UTF-8</span><br><span class="line">apt update &amp;&amp; apt -y install git &amp;&amp; git <span class="built_in">clone</span> https://github.com/ivanhao/pvetools.git</span><br><span class="line"><span class="built_in">cd</span> pvetools</span><br><span class="line">./pvetools.sh</span><br></pre></td></tr></table></figure><ul><li>执行脚本程序后，可以一键执行「安装配置CPU省电」「配置PVE的web界面显示传感器温度」「屏蔽订阅提示」等功能。</li></ul><h1 id="PBS-Proxmox-Backup-Server-总结">15 &nbsp&nbsp<a href="#PBS-Proxmox-Backup-Server-总结" class="headerlink" title="PBS(Proxmox Backup Server)总结"></a>PBS(Proxmox Backup Server)总结</h1><h2 id="PBS常用命令">15.1 &nbsp&nbsp<a href="#PBS常用命令" class="headerlink" title="PBS常用命令"></a>PBS常用命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看PBS版本</span></span><br><span class="line">proxmox-backup-manager versions</span><br><span class="line"><span class="comment"># 查看PBS节点配置信息</span></span><br><span class="line">proxmox-backup-manager node show</span><br><span class="line"><span class="comment"># 查看节点配置文件</span></span><br><span class="line">nano /etc/proxmox-backup/node.cfg</span><br><span class="line"><span class="comment"># 配置PBS日志文件的轮转日期，例如只保留最近30天的日志文件</span></span><br><span class="line">proxmox-backup-manager node update --task-log-max-days 30</span><br></pre></td></tr></table></figure><h2 id="PBS备份计划">15.2 &nbsp&nbsp<a href="#PBS备份计划" class="headerlink" title="PBS备份计划"></a>PBS备份计划</h2><p>重要服务器虚拟机，可以将备份时间设置为半小时或者更短时间。</p><h2 id="PBS服务器备份精简计划">15.3 &nbsp&nbsp<a href="#PBS服务器备份精简计划" class="headerlink" title="PBS服务器备份精简计划"></a>PBS服务器备份精简计划</h2><p>PBS备份精简计划设置效果模拟器：<a target="_blank" rel="noopener" href="https://pbs.proxmox.com/docs/prune-simulator/index.html">https://pbs.proxmox.com/docs/prune-simulator/index.html</a></p><p>保留设置：</p><ul><li>keep-last（保留上次）： 3 - 保留最近 3 次的备份。</li><li>keep-hourly（保留每小时）: not set - 若设置了每日备份，这个选项一般无需设置</li><li>keep-daily（保留每天）： 13 - 与 keep-last 一起使用，确保至少有两周的每日备份</li><li>keep-weekly（保留每周）： 8 - 确保至少有两个月的每周备份</li><li>keep-monthly（保留每月）： 11 - 与之前的保留设置一起，这确保至少有一年的每月备份</li><li>keep-yearly（保留每年）： 9 - 确保至少 10 年的覆盖</li></ul><h2 id="PBS使用遇到的坑">15.4 &nbsp&nbsp<a href="#PBS使用遇到的坑" class="headerlink" title="PBS使用遇到的坑"></a>PBS使用遇到的坑</h2><h3 id="ERROR-Backup-of-VM-102-failed-lvcreate-snapshot-pve-snap-vm-102-disk-0-vzdump-error">15.4.1 &nbsp&nbsp<a href="#ERROR-Backup-of-VM-102-failed-lvcreate-snapshot-pve-snap-vm-102-disk-0-vzdump-error" class="headerlink" title="ERROR: Backup of VM 102 failed - lvcreate snapshot &#39;pve&#x2F;snap_vm-102-disk-0_vzdump&#39; error"></a>ERROR: Backup of VM 102 failed - lvcreate snapshot &#39;pve&#x2F;snap_vm-102-disk-0_vzdump&#39; error</h3><p>问题现象：PBS备份服务器或者PVE备份LXC虚拟机容器时出现失败，具体报错信息为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">INFO: Starting Backup of VM 102 (lxc)</span><br><span class="line">INFO: Backup started at 2025-04-25 00:30:36</span><br><span class="line">INFO: status = running</span><br><span class="line">INFO: CT Name: <span class="built_in">test</span></span><br><span class="line">INFO: including mount point rootfs (<span class="string">&#x27;/&#x27;</span>) <span class="keyword">in</span> backup</span><br><span class="line">INFO: backup mode: snapshot</span><br><span class="line">INFO: ionice priority: 7</span><br><span class="line">INFO: create storage snapshot <span class="string">&#x27;vzdump&#x27;</span></span><br><span class="line">snapshot create failed: starting cleanup</span><br><span class="line">no lock found trying to remove <span class="string">&#x27;backup&#x27;</span>  lock</span><br><span class="line">ERROR: Backup of VM 102 failed - lvcreate snapshot <span class="string">&#x27;pve/snap_vm-102-disk-0_vzdump&#x27;</span> error:   Logical Volume <span class="string">&quot;snap_vm-102-disk-0_vzdump&quot;</span> already exists <span class="keyword">in</span> volume group <span class="string">&quot;pve&quot;</span></span><br><span class="line">INFO: Failed at 2025-04-25 00:30:36</span><br><span class="line">INFO: Backup job finished with errors</span><br><span class="line">INFO: notified via target `mail-to-root`</span><br><span class="line">TASK ERROR: job errors</span><br></pre></td></tr></table></figure><p>问题原因：有残留的同名逻辑卷<code>/dev/pve/snap_vm-102-disk-0_vzdump</code>，一般是上次备份成功之后的清理操作失败导致残留下来的逻辑卷，例如卸载操作失败<code>command &#39;umount -l -d /mnt/vzsnapo/ failed: got signal 11</code>。</p><p>解决方法：</p><ol><li>查看当前PVE系统中存在的逻辑卷：<code>lvdisplay</code>，可以查看到<code>/dev/pve/snap_vm-102-disk-0_vzdump</code>逻辑卷属性<code>LV Write Access read only</code>是只读。其他查看命令<code>lvs</code>，<code>lvscan</code>。</li><li>清理残留的逻辑卷：<ul><li>方法一：<code>lvremove /dev/pve/snap_vm-102-disk-0_vzdump</code></li><li>方法二：PVE后台网页控制面板中，对应的虚拟机选项-&gt;快照，可以选中对应的vzdump快照删除。</li></ul></li></ol><p>若遇上报错：<code>lvremove /dev/pve/snap_vm-102-disk-0_vzdump&#39; error: Logical volume pve/snap_vm-102-disk-0_vzdump contains a filesystem in use.</code>，请尝试</p><ul><li>方案1：重启PVE宿主机</li><li>方案2：添加<code>-f</code>参数强制删除，<code>lvremove -f /dev/pve/snap_vm-102-disk-0_vzdump</code></li></ul><h4 id="PBS宿主机被日志文件填满根目录">15.4.1.1 &nbsp&nbsp<a href="#PBS宿主机被日志文件填满根目录" class="headerlink" title="PBS宿主机被日志文件填满根目录"></a>PBS宿主机被日志文件填满根目录</h4><p>详看<a href="#%E9%85%8D%E7%BD%AEPBS%E6%97%A5%E5%BF%97%E8%BD%AE%E8%BD%AC%E6%B8%85%E7%90%86">配置PBS日志轮转清理</a></p><h1 id="iKuai总结">16 &nbsp&nbsp<a href="#iKuai总结" class="headerlink" title="iKuai总结"></a>iKuai总结</h1><h2 id="iKuai爱快内网测试">16.1 &nbsp&nbsp<a href="#iKuai爱快内网测试" class="headerlink" title="iKuai爱快内网测试"></a>iKuai爱快内网测试</h2><p>iKuai爱快内置支持iperf3内网测试工具，但服务端默认并未开启。</p><p>开启服务端设置和测试的步骤</p><ol><li>在iKuai爱快中设置：应用工具-&gt;吞吐测试-&gt;服务端功能开关（勾选启用）</li><li>下载<a target="_blank" rel="noopener" href="https://iperf.fr/iperf-download.php">iperf3</a>到客户端机器。</li><li>运行测试命令：<code>iperf3 -c 192.168.1.1</code></li></ol><p>命令扩展：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -c 以客户端模式运行，后面接服务端地址，-p 指定端口，-n 指定传输数据量，1T代表1TB数据</span></span><br><span class="line">iperf3 -c 192.168.1.1 -p 5201 -n 1tb</span><br></pre></td></tr></table></figure><p>客户端机器作为服务端的设置步骤：</p><ol><li>下载<a target="_blank" rel="noopener" href="https://iperf.fr/iperf-download.php">iperf3</a>到客户端机器。</li><li>运行测试命令：<code>iperf3 -s -p 5201</code></li><li>在iKuai爱快的客户端工具连接客户端IP测试。</li></ol><h2 id="iKuai报错提示：写入数据失败-请检查你的配置">16.2 &nbsp&nbsp<a href="#iKuai报错提示：写入数据失败-请检查你的配置" class="headerlink" title="iKuai报错提示：写入数据失败,请检查你的配置!"></a>iKuai报错提示：写入数据失败,请检查你的配置!</h2><p>问题：调整iKuai设置，无法保存设置，并报错提示：写入数据失败，请检查你的配置！具体变现为修改配置后，刷新页面后发现设置跟以前一样，并且无法记录流量数据等日志。</p><p>原因：磁盘所有分区变成只读模式，没有读写权限，数据无法正常保存。</p><p>排查确认方法：iKuai管理后台-&gt;应用工具-&gt;健康检测。</p><p>解决方法：强制断电重启机器。若仍然无法识别到硬盘或者反复出现这种只读权限问题，很可能硬盘出故障，请尽快备份设备文件并更换新硬盘。</p><h2 id="局域网内双iKuai主路由的DHCP的设置">16.3 &nbsp&nbsp<a href="#局域网内双iKuai主路由的DHCP的设置" class="headerlink" title="局域网内双iKuai主路由的DHCP的设置"></a>局域网内双iKuai主路由的DHCP的设置</h2><p>局域网内若有两个iKuai主路由同时提供DCHP服务，并且两个主路由物理上联通的话（两接口分别归属于各自的LAN口），可以在网络设置-&gt;DHCP设置-&gt;DHCP服务端-&gt;关联接口-&gt;取消勾选两个路由互联的接口。避免两主路由互相跨网段提供DHCP服务（相当于相互抢DHCP），引起数据跨网关转发引起延迟和性能下降，也可能导致潜在的广播风暴问题。（该问题在iKuai路由体检功能也能发现）</p><h2 id="局域网内双iKuai主路由跨网段互相访问（静态路由）">16.4 &nbsp&nbsp<a href="#局域网内双iKuai主路由跨网段互相访问（静态路由）" class="headerlink" title="局域网内双iKuai主路由跨网段互相访问（静态路由）"></a>局域网内双iKuai主路由跨网段互相访问（静态路由）</h2><p>背景假设：一个iKuai地址为<code>192.168.1.1</code>，另一个iKuai地址为<code>192.168.2.1</code></p><ol><li>为网段1的iKuai新增扩展IP：网络设置-&gt;内外网设置-&gt;LAN1-&gt;高级设置-&gt;扩展IP-&gt;新增一个不归属于两个主路由网段的IP，例如<code>192.168.5.1</code>。<ul><li>同理，另外一个网段2的iKuai新增IP为<code>192.168.5.2</code>。</li></ul></li><li>为网段1的iKuai设置静态路由表：网络设置-&gt;静态路由-&gt;添加-&gt;目的地址：<code>192.168.2.0</code>，子网掩码<code>255.255.255.0 (24)</code>，网关：<code>192.168.5.1</code>。<ul><li>同理，另外一个网段2的iKuai置静态路由表：目的地址：<code>192.168.1.0</code>，子网掩码<code>255.255.255.0 (24)</code>，网关：<code>192.168.5.2</code>。</li><li>iKuai静态路由的网关就是指下一跳。</li></ul></li></ol><h2 id="iKuai设定时间NTP服务器">16.5 &nbsp&nbsp<a href="#iKuai设定时间NTP服务器" class="headerlink" title="iKuai设定时间NTP服务器"></a>iKuai设定时间NTP服务器</h2><p>若在网络拓扑的下游中，存在个别子路由是当作交换机使用，没有接WAN口，无法联网获取时间，导致定时重启等需要时间参数的功能无法使用的话，则可以将iKuai设定为NTP服务器，然后下游子路由设置NTP服务器为iKuai的LAN1地址。</p><p>iKuai后台设置问题：系统设置-&gt;基础设置-&gt;时间设置-&gt;NTP服务-&gt;勾选开启（网关作为NTP服务器）。</p><h2 id="iKuai默认WEB管理地址IP">16.6 &nbsp&nbsp<a href="#iKuai默认WEB管理地址IP" class="headerlink" title="iKuai默认WEB管理地址IP"></a>iKuai默认WEB管理地址IP</h2><p>在iKuai8_3.x系列中，iKuai8_3.7.11版本之前，iKuai默认WEB管理地址IP（即LAN1的地址）为<code>192.168.1.1</code>。iKuai8_3.7.11版本及之后，iKuai默认WEB管理地址IP（即LAN1的地址）为<code>192.168.9.1</code>。</p><div class="flex-row"><div class="flex-column"><img data-src="/images/software/pve/ikuai3710.webp">iKuai8_3.7.10版本</div><div class="flex-column"><img data-src="/images/software/pve/ikuai3711.webp">iKuai8_3.7.11版本</div></div><h2 id="iKuai的版本升降级">16.7 &nbsp&nbsp<a href="#iKuai的版本升降级" class="headerlink" title="iKuai的版本升降级"></a>iKuai的版本升降级</h2><p>自动升级可以通过WEB后台，手动升级或者降级则可以下载<code>.bin</code>格式的固件并在WEB后台操作。</p><h1 id="OpenWrt总结">17 &nbsp&nbsp<a href="#OpenWrt总结" class="headerlink" title="OpenWrt总结"></a>OpenWrt总结</h1><h2 id="OpenClash报错all-DNS-requests-failed或者dns-resolve-failed">17.1 &nbsp&nbsp<a href="#OpenClash报错all-DNS-requests-failed或者dns-resolve-failed" class="headerlink" title="OpenClash报错all DNS requests failed或者dns resolve failed"></a>OpenClash报错<code>all DNS requests failed</code>或者<code>dns resolve failed</code></h2><p>问题：通过机场订阅配置后，发现部份被分流到海外的IP和域名无法正常访问。查看OpenClash后台的内核日志，是因为有大量的<code>all DNS requests failed</code>或者<code>connect error: dns resolve failed: context deadline exceeded</code>错误提示。并且该现象只会出现在个别机场订阅上，有些机场订阅是正常工作。</p><p>原因：部份机场比较挑剔OpenClash的DNS设置。</p><p>解决方法：OpenClash-&gt;覆写设置-&gt;DNS设置<br>FallBack和Default-NameServer的DNS设置比较重要，对于笔者而言，<code>8.8.4.4, UDP</code>是能有效解决上述问题。</p><ul><li>【勾选】自定义上游DNS服务器</li><li>【勾选】追加上游DNS</li><li>【勾选】追加默认DNS</li><li>【勾选】Fallback-Filter</li><li>设置自定义上游 DNS 服务器（在上方设置中启用本功能后生效）<ul><li>NameServer<ul><li>223.5.5.5&#x2F;dns-query, HTTPS</li><li>223.6.6.6&#x2F;dns-query, HTTPS</li><li>8.8.8.8, UDP</li></ul></li><li>FallBack<ul><li>8.8.4.4, UDP</li></ul></li><li>Default-NameServer<ul><li>114.114.114.114, UDP</li><li>223.5.5.5, UDP</li><li>8.8.8.8, UDP</li><li>8.8.4.4, UDP</li></ul></li></ul></li></ul><h2 id="OpenClash启动失败：no-space-left-on-device-path-etc-openclash">17.2 &nbsp&nbsp<a href="#OpenClash启动失败：no-space-left-on-device-path-etc-openclash" class="headerlink" title="OpenClash启动失败：no space left on device path=/etc/openclash"></a>OpenClash启动失败：<code>no space left on device path=/etc/openclash</code></h2><p>问题：OpenClash启动失败，报错日志为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">initial configuration directory error=can<span class="string">&#x27;t initial MMDB: can&#x27;</span>t download MMDB: write /etc/openclash/Country.mmdb: no space left on device path=/etc/openclash</span><br></pre></td></tr></table></figure><p>原因：OpenWrt系统空间满了，请排查<code>Overlay</code>软件安装空间，若满请操作扩容。</p><p>解决方法：请参阅「<a href="#%E6%89%A9%E5%AE%B9Overlay%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E7%A9%BA%E9%97%B4">扩容Overlay软件安装空间</a>」</p><h1 id="飞牛fnOS（私有云NAS总结）">18 &nbsp&nbsp<a href="#飞牛fnOS（私有云NAS总结）" class="headerlink" title="飞牛fnOS（私有云NAS总结）"></a>飞牛fnOS（私有云NAS总结）</h1><h2 id="影视及下载相关">18.1 &nbsp&nbsp<a href="#影视及下载相关" class="headerlink" title="影视及下载相关"></a>影视及下载相关</h2><h3 id="关于飞牛影视刮削的文件命名规则">18.1.1 &nbsp&nbsp<a href="#关于飞牛影视刮削的文件命名规则" class="headerlink" title="关于飞牛影视刮削的文件命名规则"></a>关于飞牛影视刮削的文件命名规则</h3><div class="note danger no-icon"><p>飞牛影视刮削数据源是TMDB，参见官方论坛帖子「<a target="_blank" rel="noopener" href="https://club.fnnas.com/forum.php?mod=viewthread&tid=32333">不知道飞牛影视刮削是直连TMDB和IMDB？</a>」。</p></div><p>一般常用刮削命名主要包含如下元素：</p><ul><li>电影类型：影视名称+年份。保留原有的电影名称和对应年份时，即使遇到同名的电影，刮削上基本不会出现问题。<ul><li>示例：<code>星际穿越Interstellar.2014.mkv</code></li></ul></li><li>动漫番剧和电视剧：影视名称+对应的每季每集。这种可能存在多季多集的情况，推荐按<code>季</code>分别创建一个文件夹存放每一季的文件。<ul><li>示例：<code>夏目友人帐.S01.E01.mkv</code>，推荐使用<code>.</code>符号分隔每季每集的，避免有些番剧名是英文，没有分隔符会导致不便阅览识别。</li><li>PowerRename的命名规则：<code>夏目友人帐.S01.E$&#123;increment=1,padding=2,start=1&#125;</code>。<code>$&#123;&#125;</code>是属于高级计数器语法，<code>increment=1</code>代表每次增长1；<code>padding=2</code>代表自动使用前导零数填充为两位，例如数字1自动填充为<code>01</code>，当增长超过两位数时，例如三位数则不受限于该规则；<code>start=1</code>代表从1开始。</li><li>关于每季的OVA命名：首先查阅<a target="_blank" rel="noopener" href="https://www.themoviedb.org/">TMDB</a>网站对应的番剧信息，如果所有OVA都归入到特别篇，则创建一个<code>番剧名.S00</code>的文件夹来存放管理，然后根据实际的TMDB数据来重命名对应的OVA文件。示例：<code>进击的巨人.S00.E07.A3.5.伊尔泽的笔记.mkv</code>。</li><li><del>关于每季的OVA命名（以下内容已过时）</del><ul><li><del>如果有多季，并且每季都有OVA特别篇，则推荐顺延该季的后续集编号，示例：<code>夏目友人帐.S03.E14.OVA1.mkv</code>，这样该<code>OVA1</code>就会显示在该季的后面。</del></li><li><del>如果只有一季且OVA只有一集，或者有多季且OVA只有一集，可以将OVA编号命名为<code>E00</code>，示例：<code>夏目友人帐.E00.OVA.mkv</code>。</del></li><li><del>如果只有一季，但OVA有多集时，只能手动校正匹配数据，飞牛影视无法正确处理这种情况。即使全部编号<code>E00</code>，例如<code>E00.OVA01</code>和<code>E00.OVA02</code>也无法正确识别，被识别归入为<code>E01</code>和<code>E02</code>。</del></li></ul></li></ul></li><li>关于字幕的命名：字幕文件名保持与视频文件同名，最后加上分隔符和字幕语言类型。<ul><li>简体中文：推荐<code>chs</code>，不推荐<code>sc</code>，可能被识别成撒丁语，示例：<code>夏目友人帐.S01.E01.chs.ass</code></li><li>繁体中文：推荐<code>cht</code>，不推荐<code>tc</code>，可能被识别成und，示例：<code>夏目友人帐.S01.E01.cht.ass</code></li><li>日文：推荐<code>jap</code>，示例：<code>夏目友人帐.S01.E01.jap.ass</code></li><li>简中日文双语：示例：<code>夏目友人帐.S01.E01.chs&amp;jap.ass</code></li></ul></li></ul><p>常见的命名缩写含义：</p><ul><li>S1: season1, 第一季</li><li>E1&#x2F;EP1: episode1, 第一集</li><li>SP: special, 特别篇</li><li>OVA: Original Video Animation, 原创动画录影带</li><li>OAD: Original Animation Disc, 原创动画光碟</li><li>OST: Original Soundtrack, 影视原声集</li><li>HD: Hign Definition, 高清</li><li>BD: Blu-ray Disc, 蓝光</li><li>X264&#x2F;HEVC: h264&#x2F;h265视频编码</li><li>AAC: 音频编码</li><li>CHS&#x2F;CHT&#x2F;JAP: 简体中文&#x2F;繁体中文字幕&#x2F;日文字幕</li><li>Director’s Cut: 导演剪辑版</li><li>On Air: TV版（电视节目或者动画播出时的版本）</li><li>Unrated: 未分级版</li><li>Extended: 加长版</li></ul><h3 id="AutoBangumi">18.1.2 &nbsp&nbsp<a href="#AutoBangumi" class="headerlink" title="AutoBangumi"></a>AutoBangumi</h3><ul><li>Mikan的RSS订阅地址：即使不注册登录网站，每个番剧左上角都可以获取订阅地址。注册帐号唯一的优势是一个RSS地址可以自动获取和管理所有的番剧订阅：例如<code>https://mikanime.tv/RSS/MyBangumi?token=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code>，帐号的RSS地址在「主页」和「订阅」页面按日期点击筛选有项目的位置就会出现RSS的链接图标。</li><li>AutoBangumi的下载设置<ul><li>下载器类型：<code>qbittorrent</code></li><li>下载器地址：<code>http://飞牛ip:8085</code></li><li>用户名&#x2F;密码：填入qbit应用的用户名和密码</li><li>下载地址：<code>/vol1/1000/下载</code>（在qbit中授予路径的读写权限：<code>存储空间1/admin 的文件/下载</code>，可以通过复制按钮得到正确的路径<code>/vol1/1000/下载</code>）</li><li>SSL：不启用</li></ul></li></ul><h4 id="应用中心安装AutoBangumi跳过首次配置页面之后，无法再次访问">18.1.2.1 &nbsp&nbsp<a href="#应用中心安装AutoBangumi跳过首次配置页面之后，无法再次访问" class="headerlink" title="应用中心安装AutoBangumi跳过首次配置页面之后，无法再次访问"></a>应用中心安装<code>AutoBangumi</code>跳过首次配置页面之后，无法再次访问</h4><p>问题现象：在应用中心安装<code>AutoBangumi</code>之后，首次访问<code>http://ip:17892/</code>端口的配置页面时，若不配置qbit的下载端口时。关闭页面，尝试二次访问该端口时，页面被拒绝访问，连接失败。通过Docker应用查看容器的运行日志：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[2025-09-02 00:30:13] ERROR     [Checker] Downloader connect failed.</span><br><span class="line">[2025-09-02 00:30:13] WARNING:  Downloader is not running.</span><br><span class="line">[2025-09-02 00:30:13] INFO:     Waiting <span class="keyword">for</span> downloader to start.</span><br></pre></td></tr></table></figure><p>问题原因：没有配置qbit的下载端口，<code>AutoBangumi</code>未能检测到下载器。</p><p>解决方法：</p><ul><li>方法一：停用<code>AutoBangumi</code>后再启用。</li><li>方法二：卸载删除数据并重装应用<ol><li>卸载<code>AutoBangumi</code>应用。</li><li>打开<code>文件管理</code>，定位到<code>应用文件</code>路径，删除<code>AutoBangumi</code>文件夹</li><li>重新安装<code>AutoBangumi</code>应用</li><li>访问<code>http://ip:17892/</code>端口即可访问成功</li></ol></li></ul><h4 id="调整search-provider-json参数适配国内直连域名订阅mikanime-tv">18.1.2.2 &nbsp&nbsp<a href="#调整search-provider-json参数适配国内直连域名订阅mikanime-tv" class="headerlink" title="调整search_provider.json参数适配国内直连域名订阅mikanime.tv"></a>调整<code>search_provider.json</code>参数适配国内直连域名订阅mikanime.tv</h4><p>在<code>文件管理</code>应用中找到<code>AutoBangumi</code>的应用配置文件：<code>存储空间1/应用文件/AutoBangumi/config/search_provider.json</code>，对应的原始路径是<code>/vol1/@appshare/AutoBangumi/config/search_provider.json</code>。</p><p>使用<code>文本编辑器</code>应用打开并编辑文件内容（确保已经提前在<code>应用中心</code>安装<code>文本编辑器</code>）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;mikan&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://mikanani.me/RSS/Search?searchstr=%s&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;nyaa&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://nyaa.si/?page=rss&amp;q=%s&amp;c=0_0&amp;f=0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dmhy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://dmhy.org/topics/rss/rss.xml?keyword=%s&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>将<code>mikan</code>的域名从<code>mikanani.me</code>更改为<code>mikanime.tv</code>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;mikan&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://mikanime.tv/RSS/Search?searchstr=%s&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;nyaa&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://nyaa.si/?page=rss&amp;q=%s&amp;c=0_0&amp;f=0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dmhy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://dmhy.org/topics/rss/rss.xml?keyword=%s&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="下载应用例如QBittorrent在后台上传时可能会引导硬盘持续读取和CPU的异常占用。">18.1.3 &nbsp&nbsp<a href="#下载应用例如QBittorrent在后台上传时可能会引导硬盘持续读取和CPU的异常占用。" class="headerlink" title="下载应用例如QBittorrent在后台上传时可能会引导硬盘持续读取和CPU的异常占用。"></a>下载应用例如<code>QBittorrent</code>在后台上传时可能会引导硬盘持续读取和CPU的异常占用。</h3><p>问题原因：系统Swap cache功能引起引起硬盘持续读取和CPU的异常占用。</p><p>解决方法：永久禁用<code>Swap cache</code>功能。</p><ol><li>访问PVE的fnOS虚拟机控制台或者开启SSH远程访问权限。</li><li>登录fnOS账户。</li><li><code>sudo vim /etc/fstab</code></li><li>摁<code>I</code>键进入vim编辑器编辑模式</li><li>找到<code>/swapfile none swap sw 0 0</code>一行内容并注释掉，即在行头加上<code>#</code>。</li><li>摁<code>ESC</code>键，摁<code>:</code>键然后输入<code>wq!</code>保存退出。</li><li><code>cat /etc/fstab</code>可以查看文件内容是否修改成功，输出内容如下：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UUID=ea545bcc-cd3f-479f-902a-ab2b02db25 / ext4 errors=remount-ro 0 1</span><br><span class="line"><span class="comment"># /swapfile none swap sw 0 0</span></span><br><span class="line">UUID=676D-A1AF /boot/efi vfat <span class="built_in">umask</span>=0077 0 1</span><br></pre></td></tr></table></figure><h3 id="迅雷变更下载目录，指定自定义路径">18.1.4 &nbsp&nbsp<a href="#迅雷变更下载目录，指定自定义路径" class="headerlink" title="迅雷变更下载目录，指定自定义路径"></a>迅雷变更下载目录，指定自定义路径</h3><div class="note info no-icon"><p>并不推荐使用：应用中心的迅雷，是基于docker构建（原项目是给群晖套件使用的），并且需要填写邀请码（永久有效邀请码：迅雷牛通）+注册帐号登录才能使用下载功能，帐号在非会员状态的，每天只能免费创建三次下载任务。</p></div><ol><li>应用商店中停用<code>迅雷</code>，打开docker应用，如果发现<code>xunlei</code>容器未停止，则强制手动停止它。</li><li>在应用中心中，为<code>迅雷</code>应用添加新的允许访问的文件夹，权限设置为「读写」，例如<code>/vol1/1000/下载/迅雷</code></li><li>在docker为找到<code>xunlei</code>容器，点击设置-&gt;存储位置，添加新的映射路径：<code>/vol1/1000/下载/迅雷</code>:<code>/xunlei/下载</code>，注意<code>xunlei</code>容器内部的路径需要是<code>/xunlei/</code>开头的，参考存储位置中已有的设置即可。</li><li>应用中心启用<code>迅雷</code>，创建新的下载任务，就可以在下载弹窗选择路径中查看到新的自定义路径了。</li></ol><h3 id="EMBY-MetaTube-Server实现影视刮削">18.1.5 &nbsp&nbsp<a href="#EMBY-MetaTube-Server实现影视刮削" class="headerlink" title="EMBY+MetaTube Server实现影视刮削"></a>EMBY+MetaTube Server实现影视刮削</h3><div class="note info no-icon"><p>注意：这个Github的metatube爬取的是R18+的数据源。</p></div><ol><li>在飞牛的应用中心中安装<code>EMBY</code>并通过<code>wizardstart</code>配置好帐号。</li><li>打开<code>docker</code>应用，点击<code>compose</code>页面，在飞牛的存储中，创建<code>metatube</code>文件夹路径存放<code>docker-compose.yaml</code>的文件（以下卷映射也是基于该路径的相对路径），输入如下内容保存运行：<code>metatube</code>的<code>docker-compose.yaml</code><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">metatube:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ghcr.io/metatube-community/metatube-server:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">metatube</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:8080&quot;</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">postgres</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">HTTP_PROXY=</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">HTTPS_PROXY=</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">run:/var/run</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-dsn</span> <span class="string">&quot;postgres://metatube:metatube@/metatube?host=/var/run/postgresql&quot;</span> <span class="string">-port</span> <span class="number">8080</span> <span class="string">-db-auto-migrate</span> <span class="string">-db-prepared-stmt</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">postgres:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres:15-alpine</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">metatube-postgres</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">POSTGRES_USER=metatube</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">POSTGRES_PASSWORD=metatube</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">POSTGRES_DB=metatube</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./db:/var/lib/postgresql/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">run:/var/run</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">&quot;-c TimeZone=Asia/Shanghai -c log_timezone=Asia/Shanghai -c listen_addresses=&#x27;&#x27; -c unix_socket_permissions=0777&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">run:</span></span><br></pre></td></tr></table></figure></li><li>下载<a target="_blank" rel="noopener" href="https://github.com/metatube-community/jellyfin-plugin-metatube/releases">Metatube</a>的插件，放置于<code>/vol1/@appdata/EmbyServer4-9/plugins</code>（应用-&gt;文件管理-&gt;管理员视角），重启EMBY应用。</li><li>在<code>EMBY</code>的控制台，<code>高级-&gt;插件</code>，找到<code>Metatube</code>，点击<code>设置</code>，填入第二步的部署docker的ip+端口：就是<code>http://飞牛IP:8080</code>，点击底部的<code>保存</code>。</li><li>然后在<code>EMBY</code>的控制台，<code>Emby Server-&gt;媒体库</code>，这里可以新增和调整元数据的设置参数。</li></ol><h2 id="图书相关">18.2 &nbsp&nbsp<a href="#图书相关" class="headerlink" title="图书相关"></a>图书相关</h2><h3 id="Komga服务端图书馆">18.2.1 &nbsp&nbsp<a href="#Komga服务端图书馆" class="headerlink" title="Komga服务端图书馆"></a>Komga服务端图书馆</h3><div class="note info no-icon"><ul><li>不支持txt书籍！！！</li><li>支持mango，PDF，epub。</li></ul></div><ol><li>打开<code>docker</code>应用，点击<code>compose</code>页面，在飞牛的存储中，创建<code>komga</code>文件夹路径存放<code>docker-compose.yaml</code>的文件（以下卷映射也是基于该路径的相对路径），输入如下内容保存运行：<code>komga</code>的<code>docker-compose.yaml</code><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">komga:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gotson/komga</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">komga</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./config:/config</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/etc/timezone:/etc/timezone:ro</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">25600</span><span class="string">:25600</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">&quot;1000:1000&quot;</span></span><br><span class="line">    <span class="comment"># remove the whole environment section if you don&#x27;t need it</span></span><br><span class="line">    <span class="comment"># environment:</span></span><br><span class="line">      <span class="comment"># - &lt;ENV_VAR&gt;=&lt;extra configuration&gt;</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br></pre></td></tr></table></figure></li><li>访问地址：<code>http://飞牛IP:25600</code>，配置帐号&#x2F;密码（帐号要求为邮箱地址）。</li></ol><h3 id="Talebook服务端图书馆">18.2.2 &nbsp&nbsp<a href="#Talebook服务端图书馆" class="headerlink" title="Talebook服务端图书馆"></a>Talebook服务端图书馆</h3><div class="note info no-icon"><ul><li>Talebook配合手机APP<code>静读天下-moonreader</code>，实测无法在线阅读epub电子书，只能下载后再阅读，阅读记录可被保留（毕竟都下载本地了(lll￢ω￢)）。</li><li>Talebook服务端批量操作没有删除选项，只能单独删除。</li></ul></div><ol><li>打开<code>docker</code>应用，点击<code>compose</code>页面，在飞牛的存储中，创建<code>talebook</code>文件夹路径存放<code>docker-compose.yaml</code>的文件（以下卷映射也是基于该路径的相对路径），输入如下内容保存运行：<code>talebook</code>的<code>docker-compose.yaml</code><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="comment"># main service</span></span><br><span class="line">  <span class="attr">talebook:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">talebook/talebook</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">       <span class="bullet">-</span> <span class="string">./data:/data</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">       <span class="bullet">-</span> <span class="string">&quot;8090:80&quot;</span></span><br><span class="line">    <span class="comment">#- &quot;8443:443&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">douban-rs-api</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># optional, for meta plugins</span></span><br><span class="line">  <span class="comment"># please set &quot;http://douban-rs-api&quot; in settings</span></span><br><span class="line">  <span class="attr">douban-rs-api:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ghcr.io/cxfksword/douban-api-rs</span></span><br></pre></td></tr></table></figure></li><li>访问地址：<code>http://飞牛IP:8090</code>，配置帐号&#x2F;密码&#x2F;邮件。</li><li>手机APP<code>静读天下-moonreader</code>右上角，增加新书库，书库地址：<code>http://飞牛IP:8090/opds/</code>。</li></ol><h2 id="设置定时自动清空回收站">18.3 &nbsp&nbsp<a href="#设置定时自动清空回收站" class="headerlink" title="设置定时自动清空回收站"></a>设置定时自动清空回收站</h2><p>详细参阅「<a href="/post-articles/2025-10/auto-emtpy-bin-for-fnos">为飞牛fnOS设置定时自动清空回收站</a>」</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># crontab的表达式</span></span><br><span class="line"><span class="comment"># vol1是代表存储空间1，1000是代表飞牛 fnOS 系统中的第一个用户帐号</span></span><br><span class="line">0 0 * * * <span class="built_in">rm</span> -rf /vol1/1000/.@#<span class="built_in">local</span>/trash/*</span><br></pre></td></tr></table></figure><h3 id="延伸内容：crontab的表达式">18.3.1 &nbsp&nbsp<a href="#延伸内容：crontab的表达式" class="headerlink" title="延伸内容：crontab的表达式"></a>延伸内容：crontab的表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* * * * * command_to_execute</span><br><span class="line">- - - - -</span><br><span class="line">| | | | |</span><br><span class="line">| | | | +----- 星期几 (0 - 7) (星期日为0或7)</span><br><span class="line">| | | +------- 月份 (1 - 12)</span><br><span class="line">| | +--------- 日 (1 - 31)</span><br><span class="line">| +----------- 小时 (0 - 23)</span><br><span class="line">+------------- 分钟 (0 - 59)</span><br></pre></td></tr></table></figure><p>特殊符号：<br><code>*</code> : 代表所有可能的值。<br><code>,</code> : 指定多个值，例如「1,3,5」。<br><code>-</code> : 指定一个范围，例如「1-5」。<br><code>/</code> : 指定间隔频率，例如「*&#x2F;2」表示每两单位。</p><p>crontab的表达式示例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 2 * * * /root/command.sh <span class="comment"># 每天凌晨2点执行脚本，把2改成0，就是每天凌晨0点</span></span><br><span class="line">0 17 * * 1-5 /root/command.sh <span class="comment"># 每周一到周五的下午5点执行脚本</span></span><br><span class="line">*/10 * * * * /root/command.sh <span class="comment"># 每10分钟执行一次脚本</span></span><br></pre></td></tr></table></figure><h2 id="FN-Connect">18.4 &nbsp&nbsp<a href="#FN-Connect" class="headerlink" title="FN Connect"></a>FN Connect</h2><p>飞牛fnOS有提供<code>FN Connect</code>服务，是官方服务器实现的中继转发服务（当然，也可以配置公网IP和DDNS）。</p><p>注册登录飞牛帐号之后，会获取一个<code>FN ID</code>。根据该ID，有如下几种访问飞牛的方式：</p><ul><li>浏览器访问：<code>https://fnos.net/[ID]</code></li><li>飞牛APP访问：帐号输入<code>FN ID</code>登录</li><li><del>SSH访问：<code>ssh 系统用户名@[FNID].fnos.net</code></del><ul><li>SSH访问方式存疑，笔者2025-11-06成功连接过一次，后面再也无法成功复现，均提示报错：<code>Permission denied (publickey,password).</code>。搜索论坛相关帖子，官方技术回复均是反馈不支持。但为何我能连接成功一次，这点暂未查明。</li></ul></li></ul><h2 id="手动校验飞牛存储文件完整性">18.5 &nbsp&nbsp<a href="#手动校验飞牛存储文件完整性" class="headerlink" title="手动校验飞牛存储文件完整性"></a>手动校验飞牛存储文件完整性</h2><p>fnOS的存储空间实现方案是<code>mdadm+lvm+btfs</code>（有新增支持EXT4），mdadm底层的RAID块校验结果不等同于btrfs的文件校验结果，例如重建RAID操作，有可能会出现btrfs存在不可校正的错误，但RAID块校验结果是正常的，WEB后台显示无法出是否存在错误。</p><h3 id="校验btrfs的文件完整性">18.5.1 &nbsp&nbsp<a href="#校验btrfs的文件完整性" class="headerlink" title="校验btrfs的文件完整性"></a>校验btrfs的文件完整性</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对存储空间1启动文件校验</span></span><br><span class="line"><span class="built_in">sudo</span> btrfs scrub start /vol1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看校验的进度</span></span><br><span class="line"><span class="built_in">sudo</span> btrfs scrub status /vol1</span><br></pre></td></tr></table></figure><p>校验完成之后，status命令结果类似如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UUID:             xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</span><br><span class="line">Scrub started:    Wed Nov 12 07:48:39 2025</span><br><span class="line">Status:           finished</span><br><span class="line">Duration:         6:52:20</span><br><span class="line">Total to scrub:   5.46TiB</span><br><span class="line">Rate:             231.43MiB/s</span><br><span class="line">Error summary:    no errors found</span><br></pre></td></tr></table></figure><h3 id="校验mdadm的RAID块完整性">18.5.2 &nbsp&nbsp<a href="#校验mdadm的RAID块完整性" class="headerlink" title="校验mdadm的RAID块完整性"></a>校验mdadm的RAID块完整性</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看系统阵列配置</span></span><br><span class="line"><span class="built_in">cat</span> /proc/mdstat</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看md0阵列的详细信息</span></span><br><span class="line"><span class="built_in">sudo</span> mdadm --detail /dev/md0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 校验md0阵列的完整性，check只会进行检测，不会进行修复，如果需要修复，请使用repair参数</span></span><br><span class="line"><span class="built_in">sudo</span> mdadm --action=check /dev/md0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看mdadm校验进度：两种方式</span></span><br><span class="line"><span class="comment"># 执行校验命令后，飞牛WEB后台「存储空间管理」页面也会显示`校验中`的进度和剩余时间</span></span><br><span class="line"><span class="built_in">cat</span> /proc/mdstat</span><br><span class="line"><span class="built_in">sudo</span> mdadm -D /dev/md0</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 阵列配置：笔者的情况是只有一个双盘raid1阵列md0</span></span><br><span class="line">Personalities : [raid1] [linear] [raid0] [raid6] [raid5] [raid4] [raid10]</span><br><span class="line">md0 : active raid1 sdb1[1] sdc1[0]</span><br><span class="line">      15625745408 blocks super 1.2 [2/2] [UU]</span><br><span class="line">      bitmap: 0/117 pages [0KB], 65536KB chunk</span><br><span class="line"></span><br><span class="line">unused devices: &lt;none&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># md0阵列详细信息：其中state状态就代表阵列的健康度，飞牛WEB后台「存储空间管理」页面显示`正常`就是基于这个状态clean判断的。</span></span><br><span class="line">/dev/md0:</span><br><span class="line">           Version : 1.2</span><br><span class="line">     Creation Time : Tue Apr 29 05:00:06 2025</span><br><span class="line">        Raid Level : raid1</span><br><span class="line">        Array Size : 15625745408 (14.55 TiB 16.00 TB)</span><br><span class="line">     Used Dev Size : 15625745408 (14.55 TiB 16.00 TB)</span><br><span class="line">      Raid Devices : 2</span><br><span class="line">     Total Devices : 2</span><br><span class="line">       Persistence : Superblock is persistent</span><br><span class="line"></span><br><span class="line">     Intent Bitmap : Internal</span><br><span class="line"></span><br><span class="line">       Update Time : Wed Nov 12 04:58:31 2025</span><br><span class="line">             State : clean</span><br><span class="line">    Active Devices : 2</span><br><span class="line">   Working Devices : 2</span><br><span class="line">    Failed Devices : 0</span><br><span class="line">     Spare Devices : 0</span><br><span class="line"></span><br><span class="line">Consistency Policy : bitmap</span><br><span class="line"></span><br><span class="line">              Name : fnOS:0  (<span class="built_in">local</span> to host fnOS)</span><br><span class="line">              UUID : xxxxxxxx:xxxxxxxx:xxxxxxxx:xxxxxxxx</span><br><span class="line">            Events : 60</span><br><span class="line"></span><br><span class="line">    Number   Major   Minor   RaidDevice State</span><br><span class="line">       0       8       33        0      active <span class="built_in">sync</span>   /dev/sdc1</span><br><span class="line">       1       8       17        1      active <span class="built_in">sync</span>   /dev/sdb1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 校验md0阵列进度：cat /proc/mdstat</span></span><br><span class="line">Personalities : [raid1] [linear] [raid0] [raid6] [raid5] [raid4] [raid10]</span><br><span class="line">md0 : active raid1 sdb1[1] sdc1[0]</span><br><span class="line">      15625745408 blocks super 1.2 [2/2] [UU]</span><br><span class="line">      [&gt;....................]  check =  0.0% (1283456/15625745408) finish=1217.3min speed=213909K/sec</span><br><span class="line">      bitmap: 0/117 pages [0KB], 65536KB chunk</span><br><span class="line"></span><br><span class="line">unused devices: &lt;none&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 校验md0阵列进度：sudo mdadm -D /dev/md0</span></span><br><span class="line">/dev/md0:</span><br><span class="line">           Version : 1.2</span><br><span class="line">     Creation Time : Tue Apr 29 05:00:06 2025</span><br><span class="line">        Raid Level : raid1</span><br><span class="line">        Array Size : 15625745408 (14.55 TiB 16.00 TB)</span><br><span class="line">     Used Dev Size : 15625745408 (14.55 TiB 16.00 TB)</span><br><span class="line">      Raid Devices : 2</span><br><span class="line">     Total Devices : 2</span><br><span class="line">       Persistence : Superblock is persistent</span><br><span class="line"></span><br><span class="line">     Intent Bitmap : Internal</span><br><span class="line"></span><br><span class="line">       Update Time : Thu Nov 13 04:57:00 2025</span><br><span class="line">             State : clean, checking</span><br><span class="line">    Active Devices : 2</span><br><span class="line">   Working Devices : 2</span><br><span class="line">    Failed Devices : 0</span><br><span class="line">     Spare Devices : 0</span><br><span class="line"></span><br><span class="line">Consistency Policy : bitmap</span><br><span class="line"></span><br><span class="line">      Check Status : 0% complete</span><br><span class="line"></span><br><span class="line">              Name : fnOS:0  (<span class="built_in">local</span> to host fnOS)</span><br><span class="line">              UUID : xxxxxxxx:xxxxxxxx:xxxxxxxx:xxxxxxxx</span><br><span class="line">            Events : 60</span><br><span class="line"></span><br><span class="line">    Number   Major   Minor   RaidDevice State</span><br><span class="line">       0       8       33        0      active <span class="built_in">sync</span>   /dev/sdc1</span><br><span class="line">       1       8       17        1      active <span class="built_in">sync</span>   /dev/sdb1</span><br></pre></td></tr></table></figure><h2 id="终端编辑网络配置修改IP地址">18.6 &nbsp&nbsp<a href="#终端编辑网络配置修改IP地址" class="headerlink" title="终端编辑网络配置修改IP地址"></a>终端编辑网络配置修改IP地址</h2><p>飞牛的网络配置文件跟常规Debian系统不同，不是<code>/etc/network/interfaces</code>文件。</p><p>编辑网络设置文件：<code>nano &#39;/etc/NetworkManager/system-connections/Wired connection 1.nmconnection&#39;</code>。</p><p>编辑后<code>systemctl restart NetworkManager.service</code>重启网络服务生效。</p><h1 id="宽带网络总结">19 &nbsp&nbsp<a href="#宽带网络总结" class="headerlink" title="宽带网络总结"></a>宽带网络总结</h1><h2 id="会话数（连接数）">19.1 &nbsp&nbsp<a href="#会话数（连接数）" class="headerlink" title="会话数（连接数）"></a>会话数（连接数）</h2><p>会话数（连接数）在线测试工具：<a target="_blank" rel="noopener" href="https://qps.itzmx.com/">https://qps.itzmx.com</a></p><p>连接数为应用产生的网络连接数，例如在爱快首页上看到连接数。并发连接数为 qps ，即每秒发起请求，等于在同一秒内，产生了 250 个请求。</p><p>会话数（连接数）的限制，一般普通线路带宽会有会话数限制，专线则没有该限制。触发限制的常见现象为：超过并发连接数上限后，此前已建立连接数的软件和网络请求可正常通信，并且期间ping一切正常，延迟没有任何抖动现象，但是新开软件则连不上网络。</p><h1 id="机场相关">20 &nbsp&nbsp<a href="#机场相关" class="headerlink" title="机场相关"></a>机场相关</h1><h2 id="自动签到领取机场流量">20.1 &nbsp&nbsp<a href="#自动签到领取机场流量" class="headerlink" title="自动签到领取机场流量"></a>自动签到领取机场流量</h2><div class="note primary no-icon"><p>只要机场基于<code>Powered by SSPANEL</code>技术构建的，就可以利用这个方案实现。</p></div><ol><li>Fork仓库<code>https://github.com/bighammer-link/jichang_checkin</code>到自己的GitHub帐号</li><li><code>Settings</code>-&gt;<code>Secrets and variables</code>→<code>Actions</code>：<code>New repository secret</code><ul><li>NAME：<code>URL</code>，值填写机场域名网址，例如<code>https://example.com</code>，尾部不要加<code>/</code>。</li><li>NAME：<code>CONFIG</code>，值填写机场的帐号（一般是邮箱）和密码。一行账号一行密码。<ul><li>第一行：帐号，即邮箱</li><li>第二行：密码</li></ul></li></ul></li><li>在<code>Actions</code>中创建一个<code>workflow</code>，手动运行一次，后续会每日自动运行。</li></ol><h1 id="后记">21 &nbsp&nbsp<a href="#后记" class="headerlink" title="后记"></a>后记</h1><p><del>这光猫还是有断流情况，估计是过热导致掉线，后续考虑下加装小风扇。</del></p><p>断流降速故障已查明：虚拟网卡模型设置为<code>Intel E1000</code>导致的故障，重设为<code>VirtIO (半虚拟化)</code>即可解决。</p><div class="note info no-icon"><p>在这台工控机上实际使用openwrt内网测速工具发现，虚拟机网卡模型设置为<code>Intel E1000</code>或者<code>Realtek RTL8139</code>都无法正常发挥网卡的性能，<code>Intel E1000</code>大约测试性能为100Mbps~300Mbps不等，<code>Realtek RTL8139</code>模型是最为拉跨的，直接为10Mbps。使用<code>VirtIO (半虚拟化)</code>模型内网测速才能恢复到900Mbps以上的正常速度。</p></div><h1 id="All-in-One-All-in-Boom-机器硬件选型总结">22 &nbsp&nbsp<a href="#All-in-One-All-in-Boom-机器硬件选型总结" class="headerlink" title="All in One (All in Boom) 机器硬件选型总结"></a>All in One (All in Boom) 机器硬件选型总结</h1><h2 id="CPU选型对比">22.1 &nbsp&nbsp<a href="#CPU选型对比" class="headerlink" title="CPU选型对比"></a>CPU选型对比</h2><div class="note primary no-icon"><p>All in One用途大多是使用虚拟机方案实现各子系统，其中虚拟化直通硬件方案需要CPU中一个很重要的功能才能实现。对于Intel CPU来说，就是VT-d（该功能可以在Intel官方每个CPU SKU规格页面查看是否支持）；对于AMD CPU来说，就是IOMMU，也称AMD-Vi（暂未找到AMD官方资料特性说明，根据维基百科资料所言，所有 Ryzen 处理器均支持该功能）。</p></div><table><thead><tr><th align="center">CPU型号</th><th align="center">内核&#x2F;线程</th><th align="center">功耗&#x2F;W</th><th align="center">频率&#x2F;GHz</th><th align="center">核显最大分辨率</th><th align="center">最大内存规格&#x2F;GB</th><th align="center">VT-x</th><th align="center">VT-d</th></tr></thead><tbody><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/78867/intel-celeron-processor-j1900-2m-cache-up-to-2-42-ghz/specifications.html">赛扬®J1900</a></td><td align="center">4&#x2F;4</td><td align="center">10</td><td align="center">2~2.42</td><td align="center">未知</td><td align="center">2×8 DDR3L 1333MT&#x2F;s</td><td align="center">支持</td><td align="center">不支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/81074/intel-pentium-processor-n3530-2m-cache-up-to-2-58-ghz/specifications.html">奔腾®N3530</a></td><td align="center">4&#x2F;4</td><td align="center">4.5~7.5</td><td align="center">2.16~2.58</td><td align="center">未知</td><td align="center">2×8 DDR3L 1333MT&#x2F;s</td><td align="center">支持</td><td align="center">不支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/95591/intel-pentium-processor-j4205-2m-cache-up-to-2-60-ghz/specifications.html">奔腾®J4205</a></td><td align="center">4&#x2F;4</td><td align="center">10</td><td align="center">1.5~2.6</td><td align="center">未知</td><td align="center">2×8 LPDDR4 2400 MT&#x2F;s<br>DDR3L&#x2F;LPDDR3 1866 MT&#x2F;s;</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/197305/intel-celeron-processor-j4125-4m-cache-up-to-2-70-ghz/specifications.html">赛扬®J4125</a></td><td align="center">4&#x2F;4</td><td align="center">10</td><td align="center">2~2.7</td><td align="center">DP：4096x2160@60Hz<br>HDMI：4096x2160@30Hz<br>eDP：4096x2160@60Hz</td><td align="center">2×8 DDR4&#x2F;LPDDR4 2400MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/214758/intel-celeron-processor-j6412-1-5m-cache-up-to-2-60-ghz/specifications.html">赛扬®J6412</a></td><td align="center">4&#x2F;4</td><td align="center">10</td><td align="center">2~2.6</td><td align="center">DP：4096 x 2160@60Hz<br>eDP：4096 x 2160@60Hz</td><td align="center">4x32 LPDDR4&#x2F;x 3733MT&#x2F;s<br>2x64 DDR4 3200MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/231803/intel-processor-n100-6m-cache-up-to-3-40-ghz/specifications.html">N100</a></td><td align="center">4&#x2F;4</td><td align="center">6</td><td align="center">3.4</td><td align="center">DP：4096 x 2160@60Hz<br>HDMI：4096 x 2160@60Hz</td><td align="center">16 DDR5 4800 MT&#x2F;s<br>16 DDR4 3200 MT&#x2F;s<br>16 LPDDR5 4800 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/226259/intel-core-i71255u-processor-12m-cache-up-to-4-70-ghz/specifications.html">酷睿™ i7-1255U</a></td><td align="center">10&#x2F;12</td><td align="center">12~55</td><td align="center">E核3.5<br>P核4.7</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2304 @ 60Hz<br>eDP：4096 x 2304 @ 120Hz</td><td align="center">64 LDDR5 4800 MT&#x2F;s<br>64 DDR4 3200 MT&#x2F;s<br>64 LPDDR5 5200 MT&#x2F;s<br>64 LPDDR4x 4267 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/134584/intel-core-i312100-processor-12m-cache-up-to-4-30-ghz/specifications.html">酷睿™ i3-12100</a></td><td align="center">4&#x2F;8</td><td align="center">60~89</td><td align="center">无E核<br>P核3.3~4.3</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2160 @ 60Hz<br>eDP：5120 x 3200 @ 120Hz</td><td align="center">128 DDR5 4800 MT&#x2F;s<br>128 DDR4 3200 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/223095/intel-core-i312300-processor-12m-cache-up-to-4-40-ghz/specifications.html">酷睿™ i3-12300</a></td><td align="center">4&#x2F;8</td><td align="center">60~89</td><td align="center">无E核<br>P核3.5~4.4</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2160 @ 60Hz<br>eDP：5120 x 3200 @ 120Hz</td><td align="center">128 DDR5 4800 MT&#x2F;s<br>128 DDR4 3200 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/134586/intel-core-i512400-processor-18m-cache-up-to-4-40-ghz/specifications.html">酷睿™ i5-12400</a></td><td align="center">6&#x2F;12</td><td align="center">65~117</td><td align="center">无E核<br>P核2.5~4.4</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2160 @ 60Hz<br>eDP：5120 x 3200 @ 120Hz</td><td align="center">128 DDR5 4800 MT&#x2F;s<br>128 DDR4 3200 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/230575/intel-core-i313100-processor-12m-cache-up-to-4-50-ghz/specifications.html">酷睿™ i3-13100</a></td><td align="center">4&#x2F;8</td><td align="center">60~110</td><td align="center">无E核<br>P核3.4~4.5</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2160 @ 60Hz<br>eDP：5120 x 3200 @ 120Hz</td><td align="center">192 DDR5 4800 MT&#x2F;s<br>192 DDR4 3200 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/236774/intel-core-i3-processor-14100-12m-cache-up-to-4-70-ghz/specifications.html">酷睿™ i3-14100</a></td><td align="center">4&#x2F;8</td><td align="center">60~110</td><td align="center">无E核<br>P核3.5~4.7</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2160 @ 60Hz<br>eDP：5120 x 3200 @ 120Hz</td><td align="center">192 DDR5 4800 MT&#x2F;s<br>192 DDR4 3200 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/134594/intel-core-i712700k-processor-25m-cache-up-to-5-00-ghz/specifications.html">酷睿™ i7-12700K</a></td><td align="center">12&#x2F;20</td><td align="center">125-190</td><td align="center">E核2.7~3.8<br>P核3.6~4.9</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2160 @ 60Hz<br>eDP：5120 x 3200 @ 120Hz</td><td align="center">128 DDR5 4800 MT&#x2F;s<br>128 DDR4 3200 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr><tr><td align="center"><a target="_blank" rel="noopener" href="https://www.intel.cn/content/www/cn/zh/products/sku/226258/intel-core-i71265u-processor-12m-cache-up-to-4-80-ghz/specifications.html">酷睿™ i7-1265U</a></td><td align="center">10&#x2F;12</td><td align="center">12~55</td><td align="center">E核3.6<br>P核4.8</td><td align="center">DP：7680 x 4320 @ 60Hz<br>HDMI：4096 x 2304 @ 60Hz<br>eDP：4096 x 2304 @ 120Hz</td><td align="center">64 DDR5 4800 MT&#x2F;s<br>64 DDR4 3200 MT&#x2F;s<br>64 LPDDR5 5200 MT&#x2F;s<br>64 LPDDR4x 4267 MT&#x2F;s</td><td align="center">支持</td><td align="center">支持</td></tr></tbody></table><div class="note default no-icon"><p>BUG处理器的折腾性思考：小黄鱼上面流通不少Intel 12代ES测试版处理器，不同步进版本存在不同问题，例如CPU没有内建直连独立显卡的PCI-E通道，会导致所有主板上第一根直连独立显卡的PCI-E X16插槽无效。这类BUG CPU虽然价格看着很诱惑，但可能实际运行不稳定，因此不纳入All in One硬件选型考虑范围。</p></div><h2 id="主板选型对比">22.2 &nbsp&nbsp<a href="#主板选型对比" class="headerlink" title="主板选型对比"></a>主板选型对比</h2><table><thead><tr><th align="center">主板型号</th><th align="center">内存插槽</th><th align="center">供电</th><th align="center">网口情况</th><th align="center">SATA支持</th><th align="center">M.2支持</th><th align="center">PCIe通道</th><th align="center">显示接口</th><th align="center">PCB设计板层</th></tr></thead><tbody><tr><td align="center">云星Matx-Z690 NAS主板</td><td align="center">4 x DDR4内存槽<br>最大支持4 x 32G&#x3D;128G</td><td align="center">8+1+1相</td><td align="center">4 x Intel I226-V 2.5G</td><td align="center">8 x SATA 3.0</td><td align="center">2 x PCIe4.0 x4正面<br>2 x PCIe3.0 x4反面</td><td align="center">2 x PCIe4.0 x16插槽（x8带宽）<br>PCIe4.0 x4插槽（x4带宽）</td><td align="center">HDMI2.0<br>DP1.4</td><td align="center">6层</td></tr></tbody></table><h1 id="参考文献">23 &nbsp&nbsp<a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>[1] Installation Failing: &quot;Failed to prepare EFI boot using Grub&quot;[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/installation-failing-failed-to-prepare-efi-boot-using-grub.122002/">https://forum.proxmox.com/threads/installation-failing-failed-to-prepare-efi-boot-using-grub.122002/</a>.<br>[2] 软路由科普系列 篇二：PVE安装iKuai OpenWrt 旁路由 基础设置 保姆级全教程[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://post.smzdm.com/p/awrx4lxm/">https://post.smzdm.com/p/awrx4lxm/</a>.<br>[3] ProxmoxVE 7.4 升级到 8.0，详细步骤[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.margrop.net/post/pve-7-upgrade-to-8/">https://blog.margrop.net/post/pve-7-upgrade-to-8/</a>.<br>[4] PVE 联网及更换国内源[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.cnblogs.com/pdblogs/p/16218543.html">https://www.cnblogs.com/pdblogs/p/16218543.html</a>.<br>[5] Force update from unsigned repository[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://askubuntu.com/questions/732985/force-update-from-unsigned-repository">https://askubuntu.com/questions/732985/force-update-from-unsigned-repository</a>.<br>[6] ProxmoxVE(PVE) 启用 IOMMU[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.insilen.com/post/501.html">https://www.insilen.com/post/501.html</a>.<br>[7] Enable IOMMU or VT-d in your motherboard BIOS[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://us.informatiweb.net/tutorials/it/bios/enable-iommu-or-vt-d-in-your-bios.html">https://us.informatiweb.net/tutorials/it/bios/enable-iommu-or-vt-d-in-your-bios.html</a>.<br>[8] ProxmoxVE(PVE) 使用 IMG 镜像文件，img 转 qcow2[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.lxtx.tech/index.php/archives/65/">https://www.lxtx.tech/index.php/archives/65/</a>.<br>[9]『软路由踩坑指南』篇三：ESXi 8.0 虚拟机安装 iKuai 主路由及保姆级配置[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://post.smzdm.com/p/a5op28x7/">https://post.smzdm.com/p/a5op28x7/</a>.<br>[10]『软路由踩坑指南』篇四：ESXi 8.0 虚拟机安装 openWrt 路由系统终极指南[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://post.smzdm.com/p/a7ngxeel/">https://post.smzdm.com/p/a7ngxeel/</a>.<br>[11]『软路由踩坑指南』篇五：OpenWrt 旁路由进阶篇 SmartDNS+AdGuardHome 设置 DNS 分流、秒开网页、去广告[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://post.smzdm.com/p/axz6z7w9/">https://post.smzdm.com/p/axz6z7w9/</a>.<br>[12] [openwrt(x86)] OPenWRT 旁路由 +MosDNS+OpenClash+AdGuard Home 傻瓜配置图文教程[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.right.com.cn/forum/thread-8284982-1-1.html">https://www.right.com.cn/forum/thread-8284982-1-1.html</a>.<br>[13] OpenWrt 扩容 Overlay 和 Docker 软件安装空间教程（内置硬盘版）附：Samba 网络共享设置[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.right.com.cn/forum/thread-7470757-1-1.html">https://www.right.com.cn/forum/thread-7470757-1-1.html</a>.<br>[14] [OpenWrt] 使用 OpenClash 科学上网[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="http://suyu0925.github.io/blog/2022/07/25/openwrt-openclash/">http://suyu0925.github.io/blog/2022/07/25/openwrt-openclash/</a>.<br>[15] 镜像站使用帮助-Proxmox 软件仓库[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/proxmox/">https://mirrors.tuna.tsinghua.edu.cn/help/proxmox/</a>.<br>[16] 开启直通[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://skyao.io/learning-pve/docs/pass-through/enable/">https://skyao.io/learning-pve/docs/pass-through/enable/</a>.<br>[17] [经验分享] 在线连接数测试网页，简单一键测试宽带并发连接数限制[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://bbs.ikuai8.com/thread-87196-1-1.html">https://bbs.ikuai8.com/thread-87196-1-1.html</a>.<br>[18] 禁用Swap cache[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://club.fnnas.com/forum.php?mod=viewthread&tid=2492">https://club.fnnas.com/forum.php?mod=viewthread&amp;tid=2492</a>.<br>[19] 镜像站使用帮助-Debian 软件源[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/debian/">https://mirrors.tuna.tsinghua.edu.cn/help/debian/</a>.<br>[20] 第 5 章 bookworm 中需要注意的问题[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.debian.org/releases/bookworm//amd64/release-notes/ch-information.zh-cn.html">https://www.debian.org/releases/bookworm//amd64/release-notes/ch-information.zh-cn.html</a>.<br>[21] 【装机帮扶站】第881期：BUG处理器能选否？聊聊12代ES处理器[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/458166029">https://zhuanlan.zhihu.com/p/458166029</a>.<br>[22] 爱快ikuai和windows电脑使用iperf3测试内网传输速度[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.mulingyuer.com/archives/1073/">https://www.mulingyuer.com/archives/1073/</a>.<br>[23] PVE8.3.0折腾记（一）——PVE初次安装后更换国内源[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_52626278/article/details/144147244">https://blog.csdn.net/weixin_52626278/article/details/144147244</a>.<br>[24] 解决PVE安装独显后，核显消失，无法直通的问题。[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="http://157.0.230.2:8090/archives/owKXsHkN">http://157.0.230.2:8090/archives/owKXsHkN</a>.<br>[25] PVE下LXC ubuntu 中文乱码解决[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/zyr920425/article/details/131126045">https://blog.csdn.net/zyr920425/article/details/131126045</a>.<br>[26] Proxmox VE常见问题以及解决办法（持续更新）[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40858216/article/details/106784329">https://blog.csdn.net/qq_40858216/article/details/106784329</a>.<br>[27] Proxmox VE面板节点和虚拟机提示问号，节点状态 unknown,储存一直打不开，虚拟机正常的诊断思路[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.wjxy.net.cn/?p=2629">https://www.wjxy.net.cn/?p=2629</a>.<br>[28] 给容器设置内核参数[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1583736">https://cloud.tencent.com/developer/article/1583736</a>.<br>[29] Using sysctls in a Kubernetes Cluster[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/#listing-all-sysctl-parameters">https://kubernetes.io/docs/tasks/administer-cluster/sysctl-cluster/#listing-all-sysctl-parameters</a>.<br>[30] setting key &quot;vm.max_map_count&quot;: Read-only file system[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/setting-key-vm-max_map_count-read-only-file-system.28720/">https://forum.proxmox.com/threads/setting-key-vm-max_map_count-read-only-file-system.28720/</a>.<br>[31] After installation with Ventoy rdinit&#x3D;&#x2F;vtoy&#x2F;vtoy[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/after-installation-with-ventoy-rdinit-vtoy-vtoy.153979/">https://forum.proxmox.com/threads/after-installation-with-ventoy-rdinit-vtoy-vtoy.153979/</a>.<br>[32] 升级至QEMU 9.2.0后直通失败[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://github.com/gangqizai/igd/issues/27">https://github.com/gangqizai/igd/issues/27</a>.<br>[33] 每过段时间修改编辑配置那些失效[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://bbs.ikuai8.com/forum.php?mod=viewthread&tid=146800&extra=page=1&filter=typeid&typeid=20">https://bbs.ikuai8.com/forum.php?mod=viewthread&amp;tid=146800&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D20</a>.<br>[34] proxmox安装定义磁盘分区大小[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.cnblogs.com/weihua2020/p/13723466.html">https://www.cnblogs.com/weihua2020/p/13723466.html</a>.<br>[35] minfree for lvm snapshots[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/minfree-for-lvm-snapshots.28977/">https://forum.proxmox.com/threads/minfree-for-lvm-snapshots.28977/</a>.<br>[36] Backup fails with Logical Volume already exists in volume group[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/backup-fails-with-logical-volume-already-exists-in-volume-group.42377/">https://forum.proxmox.com/threads/backup-fails-with-logical-volume-already-exists-in-volume-group.42377/</a>.<br>[37] PVE8.3.1 LXC下安装 OpenWRT 记录[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.cnblogs.com/airoot/p/18715211">https://www.cnblogs.com/airoot/p/18715211</a>.<br>[38] LXC容器中安装openwrt作为主路由[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.jmal.top/s/lxc-openwrt-main-router">https://blog.jmal.top/s/lxc-openwrt-main-router</a>.<br>[39] ping: bad address ‘openwrt.org’[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.axiaoke.cn/archives/1173.html">https://blog.axiaoke.cn/archives/1173.html</a>.<br>[40] Proxmox VE 容器或虚拟机被锁定解决办法[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.wort.cloud/post/notes/proxmox-ve-lxc%e5%ae%b9%e5%99%a8%e8%a2%ab%e9%94%81%e5%ae%9a%ef%bc%8c%e7%8a%b6%e6%80%81%e4%b8%barollback%e8%a7%a3%e5%86%b3%e5%8a%9e%e6%b3%95/">https://www.wort.cloud/post/notes/proxmox-ve-lxc%e5%ae%b9%e5%99%a8%e8%a2%ab%e9%94%81%e5%ae%9a%ef%bc%8c%e7%8a%b6%e6%80%81%e4%b8%barollback%e8%a7%a3%e5%86%b3%e5%8a%9e%e6%b3%95/</a>.<br>[41] kyleflower&#x2F;clash_rules[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://github.com/kyleflower/clash_rules">https://github.com/kyleflower/clash_rules</a>.<br>[42] docker搭建MyUrls短链服务,可配合sub-web食用[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="http://213.35.110.223:8000/2024/08/1724228021116">http://213.35.110.223:8000/2024/08/1724228021116</a>.<br>[43] 自建Clash订阅转换 - Subconverter+Subweb+MyUrls搭建教程 (Docker版本)[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://crossbell.io/notes/59373-1">https://crossbell.io/notes/59373-1</a>.<br>[44] 自建Clash订阅转换 - Subconverter+Subweb+MyUrls搭建教程 - 全docker完成 - mihomo内核 避坑指南[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://imgki.com/archives/718.html">https://imgki.com/archives/718.html</a>.<br>[45] 自建Clash订阅转换[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://lwnlh.com/14_Self-built_Clash_Subscription_Conversion.html">https://lwnlh.com/14_Self-built_Clash_Subscription_Conversion.html</a>.<br>[46] .env 配置在 Docker 中不起作用[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://github.com/CareyWang/sub-web/issues/68">https://github.com/CareyWang/sub-web/issues/68</a>.<br>[47] [BUG] 使用 Clash Meta 内核开启tun模式出现 connect error: dns resolve failed: context deadline exceeded[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://github.com/clash-verge-rev/clash-verge-rev/issues/104">https://github.com/clash-verge-rev/clash-verge-rev/issues/104</a>.<br>[48] openclash &quot;all DNS requests failed, first error: dns: bad rdata&quot;错误解决[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/670131605">https://zhuanlan.zhihu.com/p/670131605</a>.<br>[49] 我的家里pve虚拟机经常死机原来是原因这导致的[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/u010042660/article/details/139935170">https://blog.csdn.net/u010042660/article/details/139935170</a>.<br>[50] pve节点频繁宕机问题排查[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.cnblogs.com/nf01/p/16296724.html">https://www.cnblogs.com/nf01/p/16296724.html</a>.<br>[51] pve8.0 cpu是1265u经常死机，进不去，需要断电重启[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://tieba.baidu.com/p/8488486698">https://tieba.baidu.com/p/8488486698</a>.<br>[52] PBS 维护任务[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.cnblogs.com/varden/p/15251582.html">https://www.cnblogs.com/varden/p/15251582.html</a>.<br>[53] 使用 Proxmox Backup Server 备份 Proxmox VE 的客户机与宿主机[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.men.ci/backup-pve-with-pbs/">https://blog.men.ci/backup-pve-with-pbs/</a>.<br>[54] Installation[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://pbs.proxmox.com/docs/installation.html">https://pbs.proxmox.com/docs/installation.html</a>.<br>[55] CUSTOM SCHEMES USING .LINK FILES[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://wiki.debian.org/NetworkInterfaceNames#CUSTOM_SCHEMES_USING_.LINK_FILES">https://wiki.debian.org/NetworkInterfaceNames#CUSTOM_SCHEMES_USING_.LINK_FILES</a>.<br>[56] ProxmoxVE操作指南(已更新至pve8.0)[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://ifwww.com/posts/61099.html">https://ifwww.com/posts/61099.html</a>.<br>[57] Is there any purge facility to free up disk space?[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/is-there-any-purge-facility-to-free-up-disk-space.110575/">https://forum.proxmox.com/threads/is-there-any-purge-facility-to-free-up-disk-space.110575/</a>.<br>[58] Proxmox-backup logs[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/proxmox-backup-logs.98220/">https://forum.proxmox.com/threads/proxmox-backup-logs.98220/</a>.<br>[59] How does task-log-max-days work?[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/how-does-task-log-max-days-work.160627/">https://forum.proxmox.com/threads/how-does-task-log-max-days-work.160627/</a>.<br>[60] Linux日志切割神器logrotate原理介绍和配置详解[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/wangliang888888/article/details/134575630">https://blog.csdn.net/wangliang888888/article/details/134575630</a>.<br>[61] Linux自带神器logrotate详解[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.cnblogs.com/txlsz/p/13126723.html">https://www.cnblogs.com/txlsz/p/13126723.html</a>.<br>[62] 使用logrotate实现日志轮转[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.csdn.net/LONG_Yi_1994/article/details/147464654">https://blog.csdn.net/LONG_Yi_1994/article/details/147464654</a>.<br>[63] 年轻人折腾的第一台独服 – PVE 7.4 + NAT 内网 + DHCP + K8S 多节点集群 + Istio + CertManager(letsencrypt)[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://doraemonext.com/archives/347.html">https://doraemonext.com/archives/347.html</a>.<br>[64] AutoBangumi安装问题[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://club.fnnas.com/forum.php?mod=viewthread&tid=18727">https://club.fnnas.com/forum.php?mod=viewthread&amp;tid=18727</a>.<br>[65] MetaTube Sever deployment (后端部署)[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://metatube-community.github.io/wiki/server-deployment/#docker-compose">https://metatube-community.github.io/wiki/server-deployment/#docker-compose</a>.<br>[66] 【Docker】搭建一个媒体服务器插件后端API服务 - MetaTube[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.mvui.cn/detail/7100.html">https://blog.mvui.cn/detail/7100.html</a>.<br>[67] 飞牛NAS搭建私人图书馆，实现网页、手机看电子书[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://club.fnnas.com/forum.php?mod=viewthread&tid=16419">https://club.fnnas.com/forum.php?mod=viewthread&amp;tid=16419</a>.<br>[68] proxmox container uid&#x2F;gid mapping[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/proxmox-container-uid-gid-mapping.129544/">https://forum.proxmox.com/threads/proxmox-container-uid-gid-mapping.129544/</a>.<br>[69] PVE使用lxc.mount.entry，让LXC容器共享宿主机目录[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.209902.xyz/archives/1715429836621">https://blog.209902.xyz/archives/1715429836621</a>.<br>[70] 准备 Mikan RSS 订阅链接[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.autobangumi.org/config/rss.html">https://www.autobangumi.org/config/rss.html</a>.<br>[71] 万剑归宗之刮削大法！史上最全从Emby命名规则到刮削设置一条龙图文教程！[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://post.smzdm.com/p/aox8wp36/">https://post.smzdm.com/p/aox8wp36/</a>.<br>[72] 电影电视剧动漫 标准命名规则，jellfin、emby、kodi都适用[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.shejibiji.com/archives/8295">https://www.shejibiji.com/archives/8295</a>.<br>[73] [错误报告]RSS订阅为国内域名(mikanime.tv)，但torrent获取仍为mikanime.me，以致出现网络连接失败问题[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://github.com/EstrellaXD/Auto_Bangumi/issues/804">https://github.com/EstrellaXD/Auto_Bangumi/issues/804</a>.<br>[74] Upgrade from 8 to 9[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://pve.proxmox.com/wiki/Upgrade_from_8_to_9">https://pve.proxmox.com/wiki/Upgrade_from_8_to_9</a>.<br>[75] iKuai与Openwrt的有机结合：传统旁路由方案的完美替代[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://www.jackiewu.top/article/best-alternative-solution-for-transparent-gateway">https://www.jackiewu.top/article/best-alternative-solution-for-transparent-gateway</a>.<br>[76] 爱快(iKuai) DualWAN + OpenWrt 旁路网关流量无感分流，替换传统旁路由架构，实现流控和防火墙流量过滤[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://blog.gazer.win/essay/ikuai-multiwan-bypass-flow-with-openwrt.html">https://blog.gazer.win/essay/ikuai-multiwan-bypass-flow-with-openwrt.html</a>.<br>[77] Upgrade from 3 to 4[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://pbs.proxmox.com/wiki/Upgrade_from_3_to_4">https://pbs.proxmox.com/wiki/Upgrade_from_3_to_4</a>.<br>[78] 用终端修改飞牛系统（fnOS）的IP地址[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://ruohai.wang/202502/fnos-edit-ip-via-terminal/">https://ruohai.wang/202502/fnos-edit-ip-via-terminal/</a>.<br>[79] 在飞牛fnOS上手动进行文件完整性校验[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://ruohai.wang/202505/check-data-consistency/">https://ruohai.wang/202505/check-data-consistency/</a>.<br>[80] 记录一次RAID5 + BTRFS的文件损坏与恢复[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://ruohai.wang/202506/recover-file-damage/">https://ruohai.wang/202506/recover-file-damage/</a>.<br>[81] PVE-Tools[EB&#x2F;OL]. <a target="_blank" rel="noopener" href="https://github.com/Mapleawaa/PVE-Tools-9/blob/main/PVE-Tools.sh">https://github.com/Mapleawaa/PVE-Tools-9/blob/main/PVE-Tools.sh</a>.</p></div><footer class="post-footer"><div class="tag-text" style="margin-top:10px"><span class="half-dividing-line"></span> 本文结束 <i class="fa fa-snowflake fa-spin" aria-hidden="true"></i> 感谢阅读 <span class="half-dividing-line"></span></div><div class="tag-text"><span class="half-dividing-line"></span> Adios! <span class="half-dividing-line"></span></div><div class="support-me-free"><a href="/about#免费支持我" style="border-bottom:initial"><button class="support-button">免费支持我</button></a></div><div class="license-notice"><div class="box-style"><strong>许可注意： </strong>若想对本作品进行转载、引用亦或是进行二次创作时，请详细阅读上述相关协议内容（若不理解，请点击链接跳转阅读）。为保障本人权利，对于违反者，本人将依法予以处理！同时会向搜索引擎提交<a target="_blank" rel="noopener" href="https://www.copyright.gov/legislation/dmca.pdf">DMCA</a>的投诉申请。望周知！—— Mr. Kin</div></div><div class="correction-declaration"><div class="box-style"><strong>勘误声明： </strong>虽本人写作时已尽力保证其内容的正确性，但因个人知识面和经验的局限性以及计算机技术等相关技术日新月异，本作品内容或存在一些错误之处。欢迎<a href="/about#联系方式">联系我</a>以更正错误，不胜感激！—— Mr. Kin</div></div><div class="tort-declaration"><div class="box-style"><strong>侵权声明： </strong>若本站采用的第三方内容侵犯了你的版权，请<a href="/about/#联系方式">联系我</a>进行处理，谢谢！—— Mr. Kin</div></div><div class="disclaimer"><div class="box-style"><strong>免责声明： </strong>根据<strong>中国《<a target="_blank" rel="noopener" href="https://ipc.court.gov.cn/zh-cn/news/view-407.html">计算机软件保护条例</a>》第十七条规定：“为了学习和研究软件内含的设计思想和原理，通过安装、显示、传输或者存储软件等方式使用软件的，可以不经软件著作权人许可，不向其支付报酬。”</strong>，本站分享的任何逆向破解软件，版权所有者归原软件著作权人。仅供个人使用或学习研究，严禁商业或非法用途，严禁用于打包恶意软件推广，否则后果由用户承担责任，特此说明。—— Mr. Kin</div></div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4875259308113360" crossorigin="anonymous"></script><ins class="adsbygoogle" style="display:block;text-align:center" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4875259308113360" data-ad-slot="4881879943"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><style type="text/css">.tag-text{text-align:center;color:#a9a9a9;font-size:20px}.half-dividing-line{display:inline-block;width:26%;border-top:3px dashed;vertical-align:middle;margin:0 10px}.box-style{background:var(--card-bg-color);border-left:3px solid #ff2a2a;list-style:none;margin:1em 0 0;padding:.5em 1em}.support-button{background:0 0;color:#fc6423;cursor:pointer;line-height:2;padding:0 15px;border:2px solid #fc6423;border-radius:2px;outline:0;transition:all .2s ease-in-out;vertical-align:text-top}.support-button:hover{background:#fc6423;color:#fff}.support-me-free{order:1;text-align:center;margin-bottom:10px}.post-copyright{order:1}.followme{order:1}.license-notice{order:2}.correction-declaration{order:2}.tort-declaration{order:2}.disclaimer{order:2}.post-tags{order:2}.post-nav{order:2}.adsbygoogle{order:3}</style><div class="reward-container"><div>靓仔/美女，不考虑支持一下我吗？谢谢鼓励！(๑•̀ㅂ•́)و✧</div><button>支持</button><div class="post-reward"><div><img src="/images-public/pay-qr-code/wechatpay.webp" alt="Mr. Kin 微信"> <span>微信</span></div><div><img src="/images-public/pay-qr-code/alipay.webp" alt="Mr. Kin 支付宝"> <span>支付宝</span></div><div><img src="/images-public/pay-qr-code/alipay-red-packet.webp" alt="Mr. Kin 领取支付宝红包"> <span>领取支付宝红包</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Mr. Kin</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://mister-kin.github.io/software/pve/" title="PVE+iKuai+OpenWrt+fnOS折腾记录">https://mister-kin.github.io/software/pve/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有内容，除个人设计创作的图像（如 logo 等）和相关的视频创作及其他特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议进行发布。版权 © Mr. Kin，保留所有权利。</li></ul></div><div class="followme"><span>欢迎关注我的其它发布渠道</span><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="/images-public/follow-me/wechat-official-accounts.webp"><span class="icon"><i class="fab fa-weixin"></i> </span><span class="label">WeChat</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://www.acfun.cn/u/73269306"><span class="icon"><i class="fa fa-user-astronaut"></i> </span><span class="label">AcFun</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="http://space.bilibili.com/17025250?"><span class="icon"><i class="fa-brands fa-bilibili"></i> </span><span class="label">BiliBili</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="http://i.youku.com/i/UNjA3MTk5Mjgw?spm=a2hzp.8253869.0.0"><span class="icon"><i class="fa fa-chevron-circle-right"></i> </span><span class="label">Youku</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://www.toutiao.com/c/user/835254071079053/#mid=1663279303982091"><span class="icon"><i class="far fa-newspaper"></i> </span><span class="label">Headline</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://www.youtube.com/channel/UCNhtdG6whC5mlRDkrhQ0wLA?view_as=public"><span class="icon"><i class="fab fa-youtube"></i> </span><span class="label">Youtube</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://weibo.com/6270111192/profile?topnav=1&wvr=6&is_all=1"><span class="icon"><i class="fab fa-weibo"></i> </span><span class="label">Weibo</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="https://www.zhihu.com/people/drwu-94"><span class="icon"><i class="fab fa-zhihu"></i> </span><span class="label">Zhihu</span></a></div><div class="social-item"><a target="_blank" class="social-link" href="/atom.xml"><span class="icon"><i class="fa fa-rss"></i> </span><span class="label">RSS</span></a></div></div></div><div class="post-tags"><a href="/tags/%E7%B3%BB%E7%BB%9F/" rel="tag"><i class="fa fa-tag"></i> 系统</a> <a href="/tags/linux/" rel="tag"><i class="fa fa-tag"></i> linux</a> <a href="/tags/pve/" rel="tag"><i class="fa fa-tag"></i> pve</a> <a href="/tags/pbs/" rel="tag"><i class="fa fa-tag"></i> pbs</a> <a href="/tags/%E8%BD%AF%E8%B7%AF%E7%94%B1/" rel="tag"><i class="fa fa-tag"></i> 软路由</a> <a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag"><i class="fa fa-tag"></i> 科学上网</a> <a href="/tags/iKuai/" rel="tag"><i class="fa fa-tag"></i> iKuai</a> <a href="/tags/openwrt/" rel="tag"><i class="fa fa-tag"></i> openwrt</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag"><i class="fa fa-tag"></i> 虚拟机</a> <a href="/tags/fnOS/" rel="tag"><i class="fa fa-tag"></i> fnOS</a> <a href="/tags/%E9%A3%9E%E7%89%9B/" rel="tag"><i class="fa fa-tag"></i> 飞牛</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96%E7%B3%BB%E7%BB%9F/" rel="tag"><i class="fa fa-tag"></i> 虚拟化系统</a> <a href="/tags/HomeLab/" rel="tag"><i class="fa fa-tag"></i> HomeLab</a> <a href="/tags/openclash/" rel="tag"><i class="fa fa-tag"></i> openclash</a></div><div class="post-nav"><div class="post-nav-item"><a href="/code/python/" rel="prev" title="Python总结笔记"><i class="fa fa-angle-left"></i> Python总结笔记</a></div><div class="post-nav-item"><a href="/software/arch-linux/" rel="next" title="安装Arch Linux的踩坑记录总结">安装Arch Linux的踩坑记录总结 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments giscus-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Mr. Kin</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="站点总字数">205k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">12:25</span></span></div><div><span id="text"></span></div><script type="text/javascript">var text=function(r){function i(t){for(var e=document.createDocumentFragment(),r=0;r<t;r++){var i=document.createElement("span");i.textContent=String.fromCharCode(94*Math.random()+33),i.style.color=a[Math.floor(Math.random()*a.length)],e.appendChild(i)}return e}var n="I Love ",l=["Andriod","iOS","iPadOS","Linux","UNIX","Windows","macOS"].map(function(t){return t+"."}),a=["rgb(110,64,170)","rgb(150,61,179)","rgb(191,60,175)","rgb(228,65,157)","rgb(254,75,131)","rgb(255,94,99)","rgb(255,120,71)","rgb(251,150,51)","rgb(226,183,47)","rgb(198,214,60)","rgb(175,240,91)","rgb(127,246,88)","rgb(82,246,103)","rgb(48,239,130)","rgb(29,223,163)","rgb(26,199,194)","rgb(35,171,216)","rgb(54,140,225)","rgb(76,110,219)","rgb(96,84,200)"],o={text:"",prefixP:-5,skillI:0,skillP:0,direction:"forward",delay:2,step:1};!function t(){var e=l[o.skillI];o.step?o.step--:(o.step=1,o.prefixP<n.length?(0<=o.prefixP&&(o.text+=n[o.prefixP]),o.prefixP++):"forward"===o.direction?o.skillP<e.length?(o.text+=e[o.skillP],o.skillP++):o.delay?o.delay--:(o.direction="backward",o.delay=2):0<o.skillP?(o.text=o.text.slice(0,-1),o.skillP--):(o.skillI=(o.skillI+1)%l.length,o.direction="forward")),r.textContent=o.text,r.appendChild(i(o.prefixP<n.length?Math.min(5,5+o.prefixP):Math.min(5,e.length-o.skillP))),setTimeout(t,75)}()};text(document.getElementById("text"))</script><div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span></div><script type="text/javascript">var now=new Date;function createtime(){var n=new Date("08/12/2018 12:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站勉强运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/mister-kin" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script class="next-config" data-name="giscus" type="application/json">{"enable":true,"repo":"Mister-Kin/Mister-Kin.github.io","repo_id":"MDEwOlJlcG9zaXRvcnkxOTg5Nzg5NDg=","category":"Announcements","category_id":"DIC_kwDOC9wthM4Clt2A","mapping":"pathname","strict":0,"reactions_enabled":1,"emit_metadata":1,"theme":"preferred_color_scheme","lang":"zh-CN","crossorigin":"anonymous","input_position":"top","loading":"lazy"}</script><script>document.addEventListener("page:loaded",()=>{CONFIG.page.comments&&NexT.utils.loadComments(".giscus-container").then(()=>NexT.utils.getScript("https://giscus.app/client.js",{attributes:{async:!0,crossOrigin:"anonymous","data-repo":CONFIG.giscus.repo,"data-repo-id":CONFIG.giscus.repo_id,"data-category":CONFIG.giscus.category,"data-category-id":CONFIG.giscus.category_id,"data-mapping":CONFIG.giscus.mapping,"data-strict":CONFIG.giscus.strict,"data-reactions-enabled":CONFIG.giscus.reactions_enabled,"data-emit-metadata":CONFIG.giscus.emit_metadata,"data-theme":CONFIG.giscus.theme,"data-lang":CONFIG.giscus.lang,"data-input-position":CONFIG.giscus.input_position,"data-loading":CONFIG.giscus.loading},parentNode:document.querySelector(".giscus-container")}))})</script><script type="text/javascript">(()=>{var d=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],r=Math.floor(Math.random()*d.length);document.body.addEventListener("click",function(t){var e,n,o,a,l,p;"A"!=t.target.tagName&&(e=t.pageX,t=t.pageY,(n=document.createElement("span")).textContent=d[r],r=(r+1)%d.length,n.style.cssText=["z-index: 9999999; position: absolute; font-size: 18px; font-weight: bold; color: #ff0000; top: ",t-20,"px; left: ",e,"px;"].join(""),document.body.appendChild(n),o=n,a=0,l=parseInt(o.style.top),p=setInterval(function(){180<a?(clearInterval(p),o.parentNode.removeChild(o)):(a+=2,o.style.top=l-a+"px",o.style.opacity=(180-a)/180)},16.7))})})()</script><div class="special_day_ribbon"><div class="black_ribbon_box"><i class="fas fa-ribbon fa-2x"></i></div><p id="mourning_text">R.I.P</p><p id="memorial_text"></p></div><style type="text/css">.special_day_ribbon{position:fixed;top:1em;left:0;border:20px solid #222;border-left:0;border-right:15px solid transparent;width:140px;z-index:999;display:none}.special_day_ribbon .black_ribbon_box{position:fixed;top:.7em;left:10px;background:#fff;width:50px;height:50px;border-radius:30px;box-shadow:0 0 0 2px #000,0 0 0 5px #fff;z-index:999}.special_day_ribbon i{position:fixed;top:.6em;left:.5em;color:#222}#mourning_text{position:fixed;top:-.5em;left:80px;color:#fff;font-size:x-large}#memorial_text{position:fixed;top:-.5em;left:20px;color:#fc6423;font-size:x-large}</style><script type="text/javascript">for(var memorial_days=[[5,1],[10,1],[10,2],[10,3],[10,4],[10,5],[10,6],[10,7]],memorial_text=["劳动快乐","国庆快乐"],time=new Date,month=time.getMonth()+1,date=time.getDate(),i=0;i<memorial_days.length;i++){if(memorial_days[i][0]==month&&memorial_days[i][1]==date){date_flag=1,document.getElementsByClassName("special_day_ribbon")[0].style.display="inherit",document.getElementsByClassName("black_ribbon_box")[0].style.display="none",document.getElementById("mourning_text").style.display="none",i<=1?document.getElementById("memorial_text").appendChild(document.createTextNode(memorial_text[i])):document.getElementById("memorial_text").appendChild(document.createTextNode(memorial_text[1]));break}date_flag=0}if(date_flag){var canvas=document.createElement("canvas");canvas.height=window.innerHeight,canvas.width=window.innerWidth,canvas.setAttribute("style","position: fixed;left: 0;top: 0;pointer-events: none;z-index:-1;"),canvas.setAttribute("id","fireworks"),document.getElementsByTagName("body")[0].appendChild(canvas);let t=5,a=50,d=canvas.getContext("2d"),o=[];for(let e=0;e<t;e++){let t={sparks:[]};for(let e=0;e<a;e++){let e={vx:5*Math.random()+.5,vy:5*Math.random()+.5,weight:.3*Math.random()+.03,red:Math.floor(4*Math.random()),green:Math.floor(4*Math.random()),blue:Math.floor(4*Math.random())};.5<Math.random()&&(e.vx=-e.vx),.5<Math.random()&&(e.vy=-e.vy),t.sparks.push(e)}o.push(t),resetFirework(t)}function resetFirework(e){e.x=Math.floor(Math.random()*canvas.width),e.y=canvas.height,e.age=0,e.phase="fly"}function explode(){d.clearRect(0,0,canvas.width,canvas.height),o.forEach((l,t)=>{if("explode"==l.phase)l.sparks.forEach(t=>{for(let e=0;e<10;e++){var a=l.age+e,o=l.x+t.vx*a,a=l.y+t.vy*a+t.weight*a*t.weight*a,n=20*e+2*l.age,r=Math.floor(t.red*n),i=Math.floor(t.green*n),n=Math.floor(t.blue*n);d.beginPath(),d.fillStyle="rgba("+r+","+i+","+n+",1)",d.rect(o,a,4,4),d.fill()}}),l.age++,100<l.age&&Math.random()<.05&&resetFirework(l);else{l.y=l.y-10;for(let e=0;e<15;e++)d.beginPath(),d.fillStyle="rgba("+50*t+","+17*e+",0,1)",d.rect(l.x+Math.random()*e-e/2,l.y+4*e,4,4),d.fill();(Math.random()<.001||l.y<200)&&(l.phase="explode")}}),window.requestAnimationFrame(explode)}window.requestAnimationFrame(explode)}</script><script type="text/javascript">var time=new Date,month=time.getMonth(),date=time.getDate();12==month+1&&13==date&&(document.getElementsByTagName("html")[0].style.filter="grayscale(100%)",document.getElementsByClassName("special_day_ribbon")[0].style.display="inherit")</script><script type="text/javascript">var stop,staticx,img=new Image;function Sakura(A,i,t,g,B){this.x=A,this.y=i,this.s=t,this.r=g,this.fn=B}function getRandom(A){var i,t;switch(A){case"x":i=Math.random()*window.innerWidth;break;case"y":i=Math.random()*window.innerHeight;break;case"s":i=Math.random();break;case"r":i=6*Math.random();break;case"fnx":t=+Math.random()-.5,i=function(A,i){return A+.5*t-1.7};break;case"fny":t=1.5+.7*Math.random(),i=function(A,i){return i+t};break;case"fnr":t=.03*Math.random(),i=function(A){return A+t}}return i}function startSakura(){requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;for(var A,i=document.createElement("canvas"),t=(staticx=!0,i.height=window.innerHeight,i.width=window.innerWidth,i.setAttribute("style","position: fixed;left: 0;top: 0;pointer-events: none;z-index:-1;"),i.setAttribute("id","canvas_sakura"),document.getElementsByTagName("body")[0].appendChild(i),A=i.getContext("2d"),new SakuraList),g=0;g<50;g++){var B=getRandom("x"),I=getRandom("y"),o=getRandom("r");(B=new Sakura(B,I,getRandom("s"),o,{x:getRandom("fnx"),y:getRandom("fny"),r:randomFnR=getRandom("fnr")})).draw(A),t.push(B)}stop=requestAnimationFrame(function(){A.clearRect(0,0,i.width,i.height),t.update(),t.draw(A),stop=requestAnimationFrame(arguments.callee)})}function stopp(){var A;staticx?((A=document.getElementById("canvas_sakura")).parentNode.removeChild(A),window.cancelAnimationFrame(stop),staticx=!1):startSakura()}img.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2Vx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",Sakura.prototype.draw=function(A){A.save();this.s;A.translate(this.x,this.y),A.rotate(this.r),A.drawImage(img,0,0,40*this.s,40*this.s),A.restore()},Sakura.prototype.update=function(){this.x=this.fn.x(this.x,this.y),this.y=this.fn.y(this.y,this.y),this.r=this.fn.r(this.r),(this.x>window.innerWidth||this.x<0||this.y>window.innerHeight||this.y<0)&&(this.r=getRandom("fnr"),.4<Math.random()?(this.x=getRandom("x"),this.y=0):(this.x=window.innerWidth,this.y=getRandom("y")),this.s=getRandom("s"),this.r=getRandom("r"))},(SakuraList=function(){this.list=[]}).prototype.push=function(A){this.list.push(A)},SakuraList.prototype.update=function(){for(var A=0,i=this.list.length;A<i;A++)this.list[A].update()},SakuraList.prototype.draw=function(A){for(var i=0,t=this.list.length;i<t;i++)this.list[i].draw(A)},SakuraList.prototype.get=function(A){return this.list[A]},SakuraList.prototype.size=function(){return this.list.length},window.onresize=function(){document.getElementById("canvas_snow")},img.onload=function(){startSakura()}</script><script src="/live2dw/lib/L2Dwidget.min.js?caf790eca4d640f55ed0e6d1046103be"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{scale:1,hHeadPos:.5,vHeadPos:.618,jsonPath:"/live2dw/assets/umaru.model.json"},display:{superSample:2,width:250,height:400,position:"left",hOffset:-20,vOffset:-80},mobile:{show:!1,scale:.5},react:{opacityDefault:.7,opacityOnHover:.2},log:!1})</script></body></html>